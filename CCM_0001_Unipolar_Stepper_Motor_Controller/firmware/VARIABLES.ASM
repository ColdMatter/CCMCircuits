
; PICBASIC PRO(TM) Compiler 3.0.7.4, (c) 1998, 2013 microEngineering Labs, Inc. All Rights Reserved. 
MPASMX_USED			EQU	1

#define	PBP_PATH	C:\PROGRAM FILES (X86)\PBP3\




        NOLIST
    ifdef PM_USED
        LIST
        "Error: PM does not support this device.  Use MPASM."
        NOLIST
    else
        LIST
        LIST p = 18F46K80, r = dec, w = -311, f = inhx32
        INCLUDE "P18F46K80.INC"	; MPASM  Header
        NOLIST
    endif
        LIST
GO_DONE        EQU  H'0001'     ;named GO_NOT_DONE in the MPASM header file
EEPROM_START   EQU	0F00000h
BLOCK_SIZE     EQU	64


    #define HPWM_OVERRIDE 1
PBP_HARDWAREDEF  macro
    #include PBP_PATH\HPWM_K80_1.HWLIB
  endm


    CONFIG  RETEN = ON            ; Ultra low-power regulator is Enabled (Controlled by SRETEN bit)
    CONFIG  INTOSCSEL = HIGH      ; LF-INTOSC in High-power mode during Sleep
    CONFIG  SOSCSEL = HIGH        ; High Power SOSC circuit selected
    CONFIG  XINST = OFF           ; Disabled
    CONFIG  FOSC = HS1            ; HS oscillator (Medium power, 4 MHz - 16 MHz)
    CONFIG  PLLCFG = ON           ; Enabled
    CONFIG  FCMEN = OFF           ; Disabled
    CONFIG  IESO = OFF            ; Disabled
    CONFIG  PWRTEN = OFF          ; Disabled
    CONFIG  BOREN = SBORDIS       ; Enabled in hardware, SBOREN disabled
    CONFIG  BORV = 3              ; 1.8V
    CONFIG  BORPWR = ZPBORMV      ; ZPBORMV instead of BORMV is selected
    CONFIG  WDTEN = SWDTDIS       ; WDT enabled in hardware; SWDTEN bit disabled
    CONFIG  WDTPS = 512           ; 1:512
    CONFIG  CANMX = PORTB         ; ECAN TX and RX pins are located on RB2 and RB3, respectively
    CONFIG  MSSPMSK = MSK7        ; 7 Bit address masking mode
    CONFIG  MCLRE = ON            ; MCLR Enabled, RE3 Disabled
    CONFIG  STVREN = ON           ; Enabled
    CONFIG  BBSIZ = BB2K          ; 2K word Boot Block size
    CONFIG  CP0 = OFF             ; Disabled
    CONFIG  CP1 = OFF             ; Disabled
    CONFIG  CP2 = OFF             ; Disabled
    CONFIG  CP3 = OFF             ; Disabled
    CONFIG  CPB = OFF             ; Disabled
    CONFIG  CPD = OFF             ; Disabled
    CONFIG  WRT0 = OFF            ; Disabled
    CONFIG  WRT1 = OFF            ; Disabled
    CONFIG  WRT2 = OFF            ; Disabled
    CONFIG  WRT3 = OFF            ; Disabled
    CONFIG  WRTC = OFF            ; Disabled
    CONFIG  WRTB = OFF            ; Disabled
    CONFIG  WRTD = OFF            ; Disabled
    CONFIG  EBTR0 = OFF           ; Disabled
    CONFIG  EBTR1 = OFF           ; Disabled
    CONFIG  EBTR2 = OFF           ; Disabled
    CONFIG  EBTR3 = OFF           ; Disabled
    CONFIG  EBTRB = OFF           ; Disabled



; Define statements.
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00610	DEFINE  ADC_CHANNELS 1
#define		ADC_CHANNELS		 1

RAM_START       		EQU	00000h
RAM_END         		EQU	00E40h
RAM_BANKS       		EQU	0000Fh
BANK0_START     		EQU	00060h
BANK0_END       		EQU	000FFh
BANK1_START     		EQU	00100h
BANK1_END       		EQU	001FFh
BANK2_START     		EQU	00200h
BANK2_END       		EQU	002FFh
BANK3_START     		EQU	00300h
BANK3_END       		EQU	003FFh
BANK4_START     		EQU	00400h
BANK4_END       		EQU	004FFh
BANK5_START     		EQU	00500h
BANK5_END       		EQU	005FFh
BANK6_START     		EQU	00600h
BANK6_END       		EQU	006FFh
BANK7_START     		EQU	00700h
BANK7_END       		EQU	007FFh
BANK8_START     		EQU	00800h
BANK8_END       		EQU	008FFh
BANK9_START     		EQU	00900h
BANK9_END       		EQU	009FFh
BANK10_START    		EQU	00A00h
BANK10_END      		EQU	00AFFh
BANK11_START    		EQU	00B00h
BANK11_END      		EQU	00BFFh
BANK12_START    		EQU	00C00h
BANK12_END      		EQU	00CFFh
BANK13_START    		EQU	00D00h
BANK13_END      		EQU	00DFFh
BANK14_START    		EQU	00E00h
BANK14_END      		EQU	00E40h
BANKA_START     		EQU	00000h
BANKA_END       		EQU	0005Fh

; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00028	A00000	FLAGS   VAR     BYTE BANKA SYSTEM       ' Static flags
FLAGS           		EQU	RAM_START + 000h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00027	A00001	GOP     VAR     BYTE BANKA SYSTEM       ' Gen Op Parameter
GOP             		EQU	RAM_START + 001h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00016	A00002	R4      VAR     WORD BANKA SYSTEM       ' System Register
R4              		EQU	RAM_START + 002h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00017	A00004	R5      VAR     WORD BANKA SYSTEM       ' System Register
R5              		EQU	RAM_START + 004h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00018	A00006	R6      VAR     WORD BANKA SYSTEM       ' System Register
R6              		EQU	RAM_START + 006h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00019	A00008	R7      VAR     WORD BANKA SYSTEM       ' System Register
R7              		EQU	RAM_START + 008h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00020	A0000A	R8      VAR     WORD BANKA SYSTEM       ' System Register
R8              		EQU	RAM_START + 00Ah
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00023	A0000C	RM1     VAR     BYTE BANKA SYSTEM       ' Pin 1 Mask
RM1             		EQU	RAM_START + 00Ch
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00026	A0000D	RM2     VAR     BYTE BANKA SYSTEM       ' Pin 2 Mask
RM2             		EQU	RAM_START + 00Dh
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00021	A0000E	RR1     VAR     BYTE BANKA SYSTEM       ' Pin 1 Register
RR1             		EQU	RAM_START + 00Eh
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00024	A0000F	RR2     VAR     BYTE BANKA SYSTEM       ' Pin 2 Register
RR2             		EQU	RAM_START + 00Fh
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00022	A00010	RS1     VAR     BYTE BANKA SYSTEM       ' Pin 1 Bank
RS1             		EQU	RAM_START + 010h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00025	A00011	RS2     VAR     BYTE BANKA SYSTEM       ' Pin 2 Bank
RS2             		EQU	RAM_START + 011h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00012	A00012	R0      VAR     LONG BANKA SYSTEM       ' System Register
R0              		EQU	RAM_START + 012h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00013	A00016	R1      VAR     LONG BANKA SYSTEM       ' System Register
R1              		EQU	RAM_START + 016h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00014	A0001A	R2      VAR     LONG BANKA SYSTEM       ' System Register
R2              		EQU	RAM_START + 01Ah
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00015	A0001E	R3      VAR     LONG BANKA SYSTEM       ' System Register
R3              		EQU	RAM_START + 01Eh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00001	A00022	Disable Interrupt
PB01            		EQU	RAM_START + 022h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00132	A00023	Change_W		VAR	Word		; change in position as measured by feedback
_Change_W        		EQU	RAM_START + 023h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00128	A00025	Delay_W			VAR	Word		; period between steps in milliseconds (10-10,000) = (100Hz - 0.1Hz), for correcting posi
_Delay_W         		EQU	RAM_START + 025h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00130	A00027	DoTriggers_W	VAR	Word					; number of triggers to wait for before executing task
_DoTriggers_W    		EQU	RAM_START + 027h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00180	A00029	eeAddress 		VAR	Word					; variable address for accessing EEPROM internal locations (memory address)
_eeAddress       		EQU	RAM_START + 029h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00125	A0002B	i				VAR	Word		; generic counting etc. variables
_i               		EQU	RAM_START + 02Bh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00126	A0002D	j				VAR	Word
_j               		EQU	RAM_START + 02Dh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00127	A0002F	k				VAR	Word
_k               		EQU	RAM_START + 02Fh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00131	A00031	Number_W		VAR	Word		; variable for printing decimal values to lcd screen
_Number_W        		EQU	RAM_START + 031h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00129	A00033	Triggers_W		VAR	Word
_Triggers_W      		EQU	RAM_START + 033h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00124	A00035	W				VAR	Word		; temporary word variable
_W               		EQU	RAM_START + 035h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00111	A00037	ArgumentLength	VAR	Byte
_ArgumentLength  		EQU	RAM_START + 037h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00109	A00038	Ascii			VAR	Byte
_Ascii           		EQU	RAM_START + 038h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00096	A00039	AtLimit			VAR	Byte		; byte controls behavior at limit for various modes
_AtLimit         		EQU	RAM_START + 039h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00075	A0003A	B				VAR	Byte
_B               		EQU	RAM_START + 03Ah
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00092	A0003B	Behavior		VAR	Byte		; what to do when input trigger is low
_Behavior        		EQU	RAM_START + 03Bh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00100	A0003C	Characters		VAR	Byte		; keep track of # of characters for filling lines with empty spaces
_Characters      		EQU	RAM_START + 03Ch
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00112	A0003D	CommandLength	VAR	Byte
_CommandLength   		EQU	RAM_START + 03Dh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00121	A0003E	Debugger        VAR Byte        ;
_Debugger        		EQU	RAM_START + 03Eh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00110	A0003F	Decimal			VAR	Byte
_Decimal         		EQU	RAM_START + 03Fh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00087	A00040	Direction		VAR	Byte		; and in which direction
_Direction       		EQU	RAM_START + 040h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00176	A00041	eeI2Cbot		VAR	Byte					; eeprom bottom bank I2C address, must be a variable
_eeI2Cbot        		EQU	RAM_START + 041h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00178	A00042	eeI2Ctop		VAR	Byte					; eeprom top bank I2C address, must be a variable
_eeI2Ctop        		EQU	RAM_START + 042h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00090	A00043	FeedbackOn		VAR	Byte		; 1 = closed loop operation, 0 = open loop operation
_FeedbackOn      		EQU	RAM_START + 043h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00150	A00044	FirstTimeOn		VAR	Byte
_FirstTimeOn     		EQU	RAM_START + 044h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00104	A00045	hundreds		VAR	Byte		; for lcd display of hundred's place
_hundreds        		EQU	RAM_START + 045h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00107	A00046	hundredthousands	VAR	Byte
_hundredthousands		EQU	RAM_START + 046h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00184	A00047	lcdI2Caddress	VAR	Byte
_lcdI2Caddress   		EQU	RAM_START + 047h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00117	A00048	Li				VAR	Byte
_Li              		EQU	RAM_START + 048h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00108	A00049	millions		VAR	Byte
_millions        		EQU	RAM_START + 049h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00120	A0004A	Minutes_Temp	VAR	Byte
_Minutes_Temp    		EQU	RAM_START + 04Ah
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00115	A0004B	Negative		VAR	Byte
_Negative        		EQU	RAM_START + 04Bh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00099	A0004C	NumSpaces		VAR	Byte		; number of spaces to write 
_NumSpaces       		EQU	RAM_START + 04Ch
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00102	A0004D	ones			VAR	Byte		; for lcd display of one's place of some variable
_ones            		EQU	RAM_START + 04Dh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00076	A0004E	OpMode			VAR	Byte		; 10 allowed modes of operation:
_OpMode          		EQU	RAM_START + 04Eh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00116	A0004F	Ri				VAR	Byte		; button loop tracking variables
_Ri              		EQU	RAM_START + 04Fh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00091	A00050	Rotate			VAR	Byte		; which direction to rotate when input trigger is high 
_Rotate          		EQU	RAM_START + 050h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00191	A00051	rtcAddress		VAR	Byte 		; internal etc memory address   
_rtcAddress      		EQU	RAM_START + 051h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00189	A00052	rtcI2Caddress	VAR	Byte
_rtcI2Caddress   		EQU	RAM_START + 052h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00101	A00053	Spaces			VAR	Byte		; number of spaces to print
_Spaces          		EQU	RAM_START + 053h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00113	A00054	State			VAR	Byte
_State           		EQU	RAM_START + 054h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00114	A00055	State_Temp		VAR	Byte
_State_Temp      		EQU	RAM_START + 055h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00067	A00056	StepStyle       VAR Byte        ; stepping modes
_StepStyle       		EQU	RAM_START + 056h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00103	A00057	tens			VAR	Byte		; for lcd display of ten's place
_tens            		EQU	RAM_START + 057h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00106	A00058	tenthousands	VAR	Byte		; for lcd display of tens of thousand's place
_tenthousands    		EQU	RAM_START + 058h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00105	A00059	thousands		VAR	Byte		; for lcd display of thousand's place
_thousands       		EQU	RAM_START + 059h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00160	A0005A	TimeMatch		VAR	Byte
_TimeMatch       		EQU	RAM_START + 05Ah
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00098	A0005B	UseStoredSettings	VAR	Byte
_UseStoredSettings		EQU	RAM_START + 05Bh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00154	A0005C	DoTime			VAR	Byte[TimeLength]		; time to do the task
_DoTime          		EQU	RAM_START + 05Ch
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00149	A0005F	Firmware		VAR	Byte[FirmwareLength]	; firmware version, length is 3 characters X.Y				
_Firmware        		EQU	RAM_START + 05Fh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00152	A00062	Time			VAR	Byte[TimeLength]		; {seconds, minutes, hours}				
_Time            		EQU	RAM_START + 062h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00153	A00065	TimeBCD			VAR	Byte[TimeLength]		; BCD version of Time (seconds, minutes, hours)
_TimeBCD         		EQU	RAM_START + 065h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00139	A00068	Destination_L	VAR	Long		; destination of goto etc.
_Destination_L   		EQU	RAM_START + 068h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00145	A0006C	Home_L			VAR	Long
_Home_L          		EQU	RAM_START + 06Ch
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00143	A00070	L				VAR	Long		; a temporary long variable
_L               		EQU	RAM_START + 070h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00140	A00074	MaxPos_L		VAR	Long
_MaxPos_L        		EQU	RAM_START + 074h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00141	A00078	MinPos_L		VAR	Long
_MinPos_L        		EQU	RAM_START + 078h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00144	A0007C	Number_L		VAR	Long 
_Number_L        		EQU	RAM_START + 07Ch
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00135	A00080	Position_L		VAR	Long		; position is a long variable (signed)
_Position_L      		EQU	RAM_START + 080h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00136	A00084	Setpoint_L		VAR	Long		; where the motor thinks it should be
_Setpoint_L      		EQU	RAM_START + 084h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00138	A00088	StepError_L		VAR	Long		; Setpoint-Position
_StepError_L     		EQU	RAM_START + 088h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00142	A0008C	Steps_L			VAR	Long
_Steps_L         		EQU	RAM_START + 08Ch
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00172	A00090	ArgumentBuffer	VAR	Byte[BufferLength]
_ArgumentBuffer  		EQU	RAM_START + 090h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00171	A000B0	CommandBuffer	VAR	Byte[BufferLength]
_CommandBuffer   		EQU	RAM_START + 0B0h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00173	A000D0	DataBuffer		VAR	Byte[BufferLength]
_DataBuffer      		EQU	RAM_START + 0D0h
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00611	PORTL   VAR     PORTB
_PORTL           		EQU	 PORTB
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00612	PORTH   VAR     PORTC
_PORTH           		EQU	 PORTC
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00613	TRISL   VAR     TRISB
_TRISL           		EQU	 TRISB
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00614	TRISH   VAR     TRISC
_TRISH           		EQU	 TRISC
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00044	DataBus			VAR	PORTD		; data bus for reading rotary encoder
_DataBus         		EQU	 PORTD
#define _EnableDrive     	_PORTA??0
#define _ResetDrive_     	_PORTA??1
#define _CNTRL           	_PORTA??2
#define _HalfFull_       	_PORTA??3
#define _CountPos        	_PORTA??5
#define _Right           	_PORTB??0
#define _Left            	_PORTB??1
#define _Illuminate      	_PORTB??2
#define _ExtTrigger      	_PORTB??3
#define _ExtDirection    	_PORTB??4
#define _CountNeg        	_PORTB??5
#define _I2Cclk          	_PORTC??0
#define _I2Cdata         	_PORTC??1
#define _Hz              	_PORTC??2
#define _DataSelect      	_PORTC??3
#define _ReadCounter_    	_PORTC??4
#define _ResetCounter_   	_PORTC??5
#define _TX              	_PORTC??6
#define _RX              	_PORTC??7
#define _BusControl      	_PORTE??0
#define _PICstep         	_PORTE??1
#define _PICdirection    	_PORTE??2
#define _Limit           	 PB01, 000h
#define _PORTA??0        	 PORTA, 000h
#define _PORTA??1        	 PORTA, 001h
#define _PORTA??2        	 PORTA, 002h
#define _PORTA??3        	 PORTA, 003h
#define _PORTA??5        	 PORTA, 005h
#define _PORTB??0        	 PORTB, 000h
#define _PORTB??1        	 PORTB, 001h
#define _PORTB??2        	 PORTB, 002h
#define _PORTB??3        	 PORTB, 003h
#define _PORTB??4        	 PORTB, 004h
#define _PORTB??5        	 PORTB, 005h
#define _PORTC??0        	 PORTC, 000h
#define _PORTC??1        	 PORTC, 001h
#define _PORTC??2        	 PORTC, 002h
#define _PORTC??3        	 PORTC, 003h
#define _PORTC??4        	 PORTC, 004h
#define _PORTC??5        	 PORTC, 005h
#define _PORTC??6        	 PORTC, 006h
#define _PORTC??7        	 PORTC, 007h
#define _PORTE??0        	 PORTE, 000h
#define _PORTE??1        	 PORTE, 001h
#define _PORTE??2        	 PORTE, 002h

; Constants.
_MinDelay        		EQU	00001h
_C               		EQU	00010h
_No              		EQU	00000h
_Yes             		EQU	00001h
_False           		EQU	00000h
_True            		EQU	00001h
_Half            		EQU	00001h
_Full            		EQU	00000h
_FullStep        		EQU	00000h
_HalfStep        		EQU	00001h
_MotorOff        		EQU	00000h
_Manual          		EQU	00001h
_External        		EQU	00002h
_TriggeredGoto   		EQU	00003h
_TimedGoto       		EQU	00004h
_TriggeredMove   		EQU	00005h
_TimedMove       		EQU	00006h
_StateRotate     		EQU	00007h
_TriggeredShutter		EQU	00008h
_StateShutter    		EQU	00009h
_Pos             		EQU	00000h
_Neg             		EQU	00001h
_Nothing         		EQU	00000h
_AntiRotate      		EQU	00001h
_SwitchDirection 		EQU	00001h
_FirmwareLength  		EQU	00003h
_TimeLength      		EQU	00003h
_Seconds         		EQU	00000h
_Minutes         		EQU	00001h
_Hours           		EQU	00002h
_SecsPerHour     		EQU	00E10h
_SecsPerMinute   		EQU	0003Ch
_Secs            		EQU	00000h
_SecsMins        		EQU	00001h
_SecsMinsHrs     		EQU	00002h
_Query           		EQU	0003Fh
_Ready           		EQU	00021h
_CR              		EQU	0000Dh
_LF              		EQU	0000Ah
_BufferLength    		EQU	00020h
_PageSize        		EQU	00080h
_LCDprefix       		EQU	000FEh

; EEPROM data.


	INCLUDE	"VARIABLES.MAC"
	INCLUDE	"C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.LIB"


; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00036	Z00002	#HEADER
Z00002
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00063	Z00003	#CONFIG
Z00003
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00584	Z00004	BANKA   $0000, $005F
Z00004
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00585	Z00005	BANK0   $0060, $00FF
Z00005
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00586	Z00006	BANK1   $0100, $01FF
Z00006
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00587	Z00007	BANK2   $0200, $02FF
Z00007
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00588	Z00008	BANK3   $0300, $03FF
Z00008
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00589	Z00009	BANK4   $0400, $04FF
Z00009
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00590	Z0000A	BANK5   $0500, $05FF
Z0000A
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00591	Z0000B	BANK6   $0600, $06FF
Z0000B
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00592	Z0000C	BANK7   $0700, $07FF
Z0000C
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00593	Z0000D	BANK8   $0800, $08FF
Z0000D
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00594	Z0000E	BANK9   $0900, $09FF
Z0000E
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00595	Z0000F	BANK10  $0A00, $0AFF
Z0000F
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00596	Z00010	BANK11  $0B00, $0BFF
Z00010
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00597	Z00011	BANK12  $0C00, $0CFF
Z00011
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00598	Z00012	BANK13  $0D00, $0DFF
Z00012
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00599	Z00013	BANK14  $0E00, $0E40
Z00013
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00601	Z00014	'EEPROM  $F00000, $F003FF
Z00014
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00603	Z00015	    #MSG "LONG Variables enabled (PBPL used)"
Z00015
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00604	Z00016	    LIBRARY  "PBPPI18L"
Z00016

; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00605	Z00017	    INCLUDE "PBPPI18L.RAM"
Z00017
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00608	Z00018	    INCLUDE "PBPPIC18.RAM"
Z00018
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00609	Z00019	#ENDIF
Z00019
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00610	Z0001A	DEFINE  ADC_CHANNELS 1
Z0001A
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00618	Z0001B	#header
Z0001B

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00001	Z0001C	Disable Interrupt
Z0001C
	IDISABLE?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00017	Z0001D	ANCON0		=	%00000000		; make PORTA a digital port
Z0001D
	MOVE?CB	000h, ANCON0

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00018	Z0001E	ANCON1		=	%00000000
Z0001E
	MOVE?CB	000h, ANCON1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00019	Z0001F	TRISA		=	%00000000		; all outputs (no RA4 on device)		
Z0001F
	MOVE?CB	000h, TRISA

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00028	Z00020	WPUB		=	%00000011		; enable (weak) pullups for pushbutton connections PORTB0:1
Z00020
	MOVE?CB	003h, WPUB

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00030	Z00021	TRISB		=	%11111011		; configure directionality of PORTB
Z00021
	MOVE?CB	0FBh, TRISB

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00041	Z00022	TRISC		=	%10000111	
Z00022
	MOVE?CB	087h, TRISC

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00045	Z00023	TRISD		=	%11111111		; data bus for rotary encoder is all inputs
Z00023
	MOVE?CB	0FFh, TRISD

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00051	Z00024	TRISE		=	%11111000
Z00024
	MOVE?CB	0F8h, TRISE
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00057	Z00025	MinDelay		CON 1			; minimum delay between steps, ms
Z00025
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00058	Z00026	C				CON 16			; conversion: physical steps to internal counting
Z00026
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00060	Z00027	No				CON 0			; constants for ease of reading of feedback
Z00027
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00061	Z00028	Yes				CON 1
Z00028
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00062	Z00029	False			CON 0
Z00029
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00063	Z0002A	True			CON 1
Z0002A
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00064	Z0002B	Half			CON 1
Z0002B
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00065	Z0002C	Full			CON 0
Z0002C
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00068	Z0002D	FullStep        CON 0           ; "normal" drive (200 steps per revolution)
Z0002D
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00069	Z0002E	HalfStep        CON 1           ; "half" stepping (400 steps per revolution)
Z0002E
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00077	Z0002F	MotorOff		CON 0			; do nothing
Z0002F
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00078	Z00030	Manual			CON 1			; change position with pushbuttons		
Z00030
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00079	Z00031	External		CON 2			; change position with external trigger and TTL direction control
Z00031
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00080	Z00032	TriggeredGoto	CON 3			; goto a position on trigger event(s)
Z00032
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00081	Z00033	TimedGoto		CON 4			; goto a position at a specified time
Z00033
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00082	Z00034	TriggeredMove	CON 5			; move a certain number of steps on trigger event(s)
Z00034
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00083	Z00035	TimedMove		CON 6			; move a certain number of steps at a specified time
Z00035
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00084	Z00036	StateRotate		CON 7			; rotate the motor, behavior depends on logic level of "trigger" external input
Z00036
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00085	Z00037	TriggeredShutter CON 8			; operate as a shutter, opens/closes on trigger event(s)
Z00037
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00086	Z00038	StateShutter	CON 9			; operate as a shutter, opens/closes depedending on external logic level
Z00038
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00088	Z00039	Pos				CON 0			; low positive
Z00039
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00089	Z0003A	Neg				CON 1			; high negative
Z0003A
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00093	Z0003B	Nothing			CON 0           ; don't move the motor
Z0003B
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00094	Z0003C	AntiRotate		CON 1           ; rotate the opposite direction
Z0003C
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00097	Z0003D	SwitchDirection	CON 1
Z0003D

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00118	Z0003E	Ri			=	0
Z0003E
	MOVE?CB	000h, _Ri

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00119	Z0003F	Li			=	0
Z0003F
	MOVE?CB	000h, _Li
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00148	Z00040	FirmwareLength	CON 3				
Z00040
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00151	Z00041	TimeLength		CON 3			
Z00041
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00155	Z00042	Seconds			CON 0						; array indices
Z00042
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00156	Z00043	Minutes			CON 1
Z00043
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00157	Z00044	Hours			CON 2
Z00044
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00158	Z00045	SecsPerHour		CON 3600
Z00045
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00159	Z00046	SecsPerMinute	CON 60
Z00046
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00161	Z00047	Secs			CON 0
Z00047
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00162	Z00048	SecsMins		CON 1
Z00048
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00163	Z00049	SecsMinsHrs		CON 2
Z00049
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00166	Z0004A	Query			CON "?"					; assigned wakeup character to be sent first by PC
Z0004A
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00167	Z0004B	Ready			CON "!"					; response byte indicating the PIC is ready to receive the command bytes
Z0004B
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00168	Z0004C	CR				CON	13 					; 0x0D carriage return gives new line
Z0004C
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00169	Z0004D	LF				CON 10 					; 0x0A line feed ends transmission
Z0004D
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00170	Z0004E	BufferLength	CON 32					; buffer for serial communication
Z0004E

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00177	Z0004F	eeI2Cbot	=	%10100000					 							
Z0004F
	MOVE?CB	0A0h, _eeI2Cbot

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00179	Z00050	eeI2Ctop	=	%10101000					; only the bottom bank is used in this project 
Z00050
	MOVE?CB	0A8h, _eeI2Ctop
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00181	Z00051	PageSize   		CON	128						; writing entire pages (128 bytes) allows sequential reads/writes	
Z00051

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00185	Z00052	lcdI2Caddress =	$50							
Z00052
	MOVE?CB	050h, _lcdI2Caddress
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00186	Z00053	LCDprefix       CON $FE    		; sent before any command byte, as the subaddress
Z00053

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00190	Z00054	rtcI2Caddress =	$D0
Z00054
	MOVE?CB	0D0h, _rtcI2Caddress

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00193	Z00055	goto Variables_Done
Z00055
	GOTO?L	_Variables_Done

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00201	Z00056	SetupIO:
Z00056

	LABEL?L	_SetupIO	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00224	Z00057		ReadCounter_	=	1						; not reading the counter
Z00057
	MOVE?CT	001h, _ReadCounter_

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00225	Z00058		ResetCounter_	=	1						; not resetting the encoder
Z00058
	MOVE?CT	001h, _ResetCounter_

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00226	Z00059		DataSelect		=	0						; doesn't matter
Z00059
	MOVE?CT	000h, _DataSelect

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00227	Z0005A		PicStep			=	0
Z0005A
	MOVE?CT	000h, _PICstep

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00228	Z0005B		PicDirection	=	0
Z0005B
	MOVE?CT	000h, _PICdirection

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00229	Z0005C	Return
Z0005C
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00232	Z0005D	SetValuesToDefault:								; set default values of variables
Z0005D

	LABEL?L	_SetValuesToDefault	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00233	Z0005E		Time[Seconds] 	= 	0
Z0005E
	MOVE?CB	000h, _Time

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00234	Z0005F		Time[Minutes]	=	0
Z0005F
	MOVE?CB	000h, _Time + 00001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00235	Z00060		Time[Hours]		=	13
Z00060
	MOVE?CB	00Dh, _Time + 00002h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00236	Z00061		gosub				UpdateRTC
Z00061

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00238	Z00062		DoTime[Seconds]	=	0
Z00062
	MOVE?CB	000h, _DoTime

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00239	Z00063		DoTime[Minutes]	=	0
Z00063
	MOVE?CB	000h, _DoTime + 00001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00240	Z00064		DoTime[Hours]	=	12
Z00064
	MOVE?CB	00Ch, _DoTime + 00002h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00241	Z00065		Rotate			=	Pos						; rotate in positive sense on high input (state rotate mode only)
Z00065
	MOVE?CB	_Pos, _Rotate

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00242	Z00066		Behavior 		=	AntiRotate				; reverse direction on low input (state rotate mode only)
Z00066
	MOVE?CB	_AntiRotate, _Behavior

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00243	Z00067		AtLimit			=	Nothing					; do nothing if mode reaches software position limit
Z00067
	MOVE?CB	_Nothing, _AtLimit

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00244	Z00068		TimeMatch		=	Secs
Z00068
	MOVE?CB	_Secs, _TimeMatch

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00246	Z00069		OpMode			=	Manual
Z00069
	MOVE?CB	_Manual, _OpMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00247	Z0006A	    StepStyle       =   FullStep
Z0006A
	MOVE?CB	_FullStep, _StepStyle

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00248	Z0006B		FeedbackOn		=	No				
Z0006B
	MOVE?CB	_No, _FeedbackOn

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00249	Z0006C		Delay_W			=	10 max MinDelay			; default delay between steps, ms
Z0006C
	MAX?CCW	00Ah, _MinDelay, _Delay_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00250	Z0006D		MinPos_L		=	-100000*C				; For no position limits, make both zero
Z0006D
	MOVE?CN	0FFE79600h, _MinPos_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00251	Z0006E		MaxPos_L		=	100000*C				; remember, the controller deals in counts, not steps					
Z0006E
	MOVE?CN	000186A00h, _MaxPos_L
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00252	Z0006F		gosub				ClearCounters			; clear trigger counters
Z0006F

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00253	Z00070		Position_L 		= 	0
Z00070
	MOVE?CN	000h, _Position_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00254	Z00071		Setpoint_L 		= 	0
Z00071
	MOVE?CN	000h, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00255	Z00072		Destination_L 	= 	0
Z00072
	MOVE?CN	000h, _Destination_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00256	Z00073		Steps_L			=	50*C
Z00073
	MOVE?CN	000000320h, _Steps_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00257	Z00074		DoTriggers_W	=	100
Z00074
	MOVE?CW	064h, _DoTriggers_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00258	Z00075	Return
Z00075
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00261	Z00076	Variables_Done:
Z00076

	LABEL?L	_Variables_Done	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00263	Z00077	Enable Interrupt
Z00077
	IENABLE?	

	END
