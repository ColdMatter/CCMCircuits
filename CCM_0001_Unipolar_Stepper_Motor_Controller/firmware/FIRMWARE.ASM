
; PICBASIC PRO(TM) Compiler 3.0.7.4, (c) 1998, 2013 microEngineering Labs, Inc. All Rights Reserved. 
MPASMX_USED			EQU	1

#define	PBP_PATH	C:\PROGRAM FILES (X86)\PBP3\




        NOLIST
    ifdef PM_USED
        LIST
        "Error: PM does not support this device.  Use MPASM."
        NOLIST
    else
        LIST
        LIST p = 18F46K80, r = dec, w = -311, f = inhx32
        INCLUDE "P18F46K80.INC"	; MPASM  Header
        NOLIST
    endif
        LIST
GO_DONE        EQU  H'0001'     ;named GO_NOT_DONE in the MPASM header file
EEPROM_START   EQU	0F00000h
BLOCK_SIZE     EQU	64


    #define HPWM_OVERRIDE 1
PBP_HARDWAREDEF  macro
    #include PBP_PATH\HPWM_K80_1.HWLIB
  endm

							; See P18F46K80.INC in the MPLAB folder for options
	config	RETEN 	= OFF  	 	; Ultra low-power regulator is Disabled 
	config	INTOSCSEL = LOW		; LF-INTOSC in Low-power mode during Sleep
	config	SOSCSEL = DIG   	; RC0/RC1 are digital pins 
    CONFIG 	XINST  	= OFF		; Extra instruction set turned off
	CONFIG 	FOSC   	= HS1		; low speed oscillator (4 MHz)	
	CONFIG	PLLCFG 	= OFF  	 	; phase locked loop (x4) turned off    
	CONFIG	FCMEN	= OFF  		; fail-safe clock monitor turned off
	CONFIG	IESO	= OFF		; internal/external oscillator switch over mode turned off
	CONFIG	PWRTEN 	= ON 		; power up timer enable     
	CONFIG	BORV   	= 3     	; 1.8V brown out reset voltage 
	CONFIG	BOREN	= ON		; brown out detect on and controlled by SBOREN bit
	CONFIG	BORPWR	= LOW		; brown out monitor set to low power level
	CONFIG 	WDTEN  	= OFF		; Turn off the watch dog timer
	CONFIG	WDTPS	= 32768		; watch-dog postscaler (doesn't matter, its turned off)
	CONFIG	CANMX	= PORTB		; ECAN RX/TX located on RB2/RB3 for 44 pin devices (not used)
;	CONFIG	T0CKMX	= PORTG		; timer0 gets clock source from RG4 (64 pin devices only)
;	CONFIG	T3CKMX  = PORTB		; timer3 gets clock source from RB5 (64 pin devices only) 
	CONFIG	MSSPMSK = MSK5		; mssp address masking in 5 bit mode (not used)
	CONFIG	MCLRE  	= ON    	; MCLR Enabled, RG5 disabled (cannot be used as input/output)
	CONFIG	STVREN 	= ON    	; Stack overflow reset enabled
	config	BBSIZ 	= BB2K		; Boot Block Size is 2K words
	config	CP0 	= OFF		; Code Protect 00800-03FFF
	config	CP1 	= OFF		; Code Protect 04000-07FFF
	config	CP2		= OFF		; Code Protect 08000-0BFFF
	config	CP3 	= OFF		; Code Protect 0C000-0FFFF
	config	CPB 	= OFF		; Code Protect Boot
	config	CPD 	= OFF		; Data EE Read Protect
	config	WRT0 	= OFF		; Table Write Protect 00800-03FFF
	config	WRT1 	= OFF		; Table Write Protect 04000-07FFF
	config	WRT2 	= OFF		; Table Write Protect 08000-0BFFF
	config	WRT3 	= OFF		; Table Write Protect 0C000-0FFFF
	config	WRTC 	= OFF		; Config. Write Protect
	config	WRTB 	= OFF		; Table Write Protect Boot
	config	WRTD 	= OFF		; Data EE Write Protect
	config	EBTR0 	= OFF		; Table Read Protect 00800-03FFF	
	config	EBTR1 	= OFF		; Table Read Protect 04000-07FFF
	config	EBTR2 	= OFF		; Table Read Protect 08000-0BFFF
	config	EBTR3	= OFF		; Table Read Protect 0C000-0FFFF
	config	EBTRB 	= OFF   	; Table Read Protect Boot



; Define statements.
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00610	DEFINE  ADC_CHANNELS 1
#define		ADC_CHANNELS		 1
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00015	DEFINE	Loader_Used		1		; leave bottom 4 program memory address spaces for bootloader program (ds30 free version)
#define		Loader_Used				1		; leave bottom 4 program memory address spaces for bootloader program (ds30 free version)
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00016	DEFINE  OSC 			4     	; Using a 4 MHz oscillator (the truth!)
#define		OSC		 			4     	; Using a 4 MHz oscillator (the truth!)
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00017	DEFINE 	HSER_RCSTA 		90h 	; enable serial port receive
#define		HSER_RCSTA		 		90h 	; enable serial port receive
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00018	DEFINE 	HSER_TXSTA 		20h		; enable serial port transmit
#define		HSER_TXSTA		 		20h		; enable serial port transmit
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00019	DEFINE 	HSER_BAUD 		4800	; serial port baud rate (limited by 4MHz osc.)
#define		HSER_BAUD		 		4800	; serial port baud rate (limited by 4MHz osc.)
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00020	DEFINE	HSER_CLROERR	1		; clear overrun errors automatically 
#define		HSER_CLROERR			1		; clear overrun errors automatically 
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00021	DEFINE 	BUTTON_PAUSE 	100
#define		BUTTON_PAUSE		 	100

RAM_START       		EQU	00000h
RAM_END         		EQU	00E40h
RAM_BANKS       		EQU	0000Fh
BANK0_START     		EQU	00060h
BANK0_END       		EQU	000FFh
BANK1_START     		EQU	00100h
BANK1_END       		EQU	001FFh
BANK2_START     		EQU	00200h
BANK2_END       		EQU	002FFh
BANK3_START     		EQU	00300h
BANK3_END       		EQU	003FFh
BANK4_START     		EQU	00400h
BANK4_END       		EQU	004FFh
BANK5_START     		EQU	00500h
BANK5_END       		EQU	005FFh
BANK6_START     		EQU	00600h
BANK6_END       		EQU	006FFh
BANK7_START     		EQU	00700h
BANK7_END       		EQU	007FFh
BANK8_START     		EQU	00800h
BANK8_END       		EQU	008FFh
BANK9_START     		EQU	00900h
BANK9_END       		EQU	009FFh
BANK10_START    		EQU	00A00h
BANK10_END      		EQU	00AFFh
BANK11_START    		EQU	00B00h
BANK11_END      		EQU	00BFFh
BANK12_START    		EQU	00C00h
BANK12_END      		EQU	00CFFh
BANK13_START    		EQU	00D00h
BANK13_END      		EQU	00DFFh
BANK14_START    		EQU	00E00h
BANK14_END      		EQU	00E40h
BANKA_START     		EQU	00000h
BANKA_END       		EQU	0005Fh

; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00028	A00000	FLAGS   VAR     BYTE BANKA SYSTEM       ' Static flags
FLAGS           		EQU	RAM_START + 000h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00027	A00001	GOP     VAR     BYTE BANKA SYSTEM       ' Gen Op Parameter
GOP             		EQU	RAM_START + 001h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00016	A00002	R4      VAR     WORD BANKA SYSTEM       ' System Register
R4              		EQU	RAM_START + 002h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00017	A00004	R5      VAR     WORD BANKA SYSTEM       ' System Register
R5              		EQU	RAM_START + 004h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00018	A00006	R6      VAR     WORD BANKA SYSTEM       ' System Register
R6              		EQU	RAM_START + 006h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00019	A00008	R7      VAR     WORD BANKA SYSTEM       ' System Register
R7              		EQU	RAM_START + 008h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00020	A0000A	R8      VAR     WORD BANKA SYSTEM       ' System Register
R8              		EQU	RAM_START + 00Ah
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00023	A0000C	RM1     VAR     BYTE BANKA SYSTEM       ' Pin 1 Mask
RM1             		EQU	RAM_START + 00Ch
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00026	A0000D	RM2     VAR     BYTE BANKA SYSTEM       ' Pin 2 Mask
RM2             		EQU	RAM_START + 00Dh
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00021	A0000E	RR1     VAR     BYTE BANKA SYSTEM       ' Pin 1 Register
RR1             		EQU	RAM_START + 00Eh
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00024	A0000F	RR2     VAR     BYTE BANKA SYSTEM       ' Pin 2 Register
RR2             		EQU	RAM_START + 00Fh
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00022	A00010	RS1     VAR     BYTE BANKA SYSTEM       ' Pin 1 Bank
RS1             		EQU	RAM_START + 010h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00025	A00011	RS2     VAR     BYTE BANKA SYSTEM       ' Pin 2 Bank
RS2             		EQU	RAM_START + 011h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00012	A00012	R0      VAR     LONG BANKA SYSTEM       ' System Register
R0              		EQU	RAM_START + 012h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00013	A00016	R1      VAR     LONG BANKA SYSTEM       ' System Register
R1              		EQU	RAM_START + 016h
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00014	A0001A	R2      VAR     LONG BANKA SYSTEM       ' System Register
R2              		EQU	RAM_START + 01Ah
; C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.RAM	00015	A0001E	R3      VAR     LONG BANKA SYSTEM       ' System Register
R3              		EQU	RAM_START + 01Eh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00001	A00022	'****************************************************************
T1              		EQU	RAM_START + 022h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00001	A00026	'****************************************************************
T2              		EQU	RAM_START + 026h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00001	A0002A	'****************************************************************
T3              		EQU	RAM_START + 02Ah
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00001	A0002E	'****************************************************************
T4              		EQU	RAM_START + 02Eh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00001	A00032	'****************************************************************
T5              		EQU	RAM_START + 032h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00001	A00036	'****************************************************************
T6              		EQU	RAM_START + 036h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00001	A0003A	'****************************************************************
T7              		EQU	RAM_START + 03Ah
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00001	A0003E	'****************************************************************
T8              		EQU	RAM_START + 03Eh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00001	A00042	'****************************************************************
T9              		EQU	RAM_START + 042h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00001	A00046	'****************************************************************
PB01            		EQU	RAM_START + 046h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00132	A00047	Change_W		VAR	Word		; change in position as measured by feedback
_Change_W        		EQU	RAM_START + 047h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00128	A00049	Delay_W			VAR	Word		; period between steps in milliseconds (10-10,000) = (100Hz - 0.1Hz), for correcting posi
_Delay_W         		EQU	RAM_START + 049h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00130	A0004B	DoTriggers_W	VAR	Word					; number of triggers to wait for before executing task
_DoTriggers_W    		EQU	RAM_START + 04Bh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00183	A0004D	eeAddress 		VAR	Word					; variable address for accessing EEPROM internal locations (memory address)
_eeAddress       		EQU	RAM_START + 04Dh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00125	A0004F	i				VAR	Word		; generic counting etc. variables
_i               		EQU	RAM_START + 04Fh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00126	A00051	j				VAR	Word
_j               		EQU	RAM_START + 051h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00127	A00053	k				VAR	Word
_k               		EQU	RAM_START + 053h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00131	A00055	Number_W		VAR	Word		; variable for printing decimal values to lcd screen
_Number_W        		EQU	RAM_START + 055h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00129	A00057	Triggers_W		VAR	Word
_Triggers_W      		EQU	RAM_START + 057h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00124	A00059	W				VAR	Word		; temporary word variable
_W               		EQU	RAM_START + 059h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00111	A0005B	ArgumentLength	VAR	Byte
_ArgumentLength  		EQU	RAM_START + 05Bh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00109	A0005C	Ascii			VAR	Byte
_Ascii           		EQU	RAM_START + 05Ch
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00095	A0005D	AtLimit			VAR	Byte		; byte controls behavior at limit for various modes
_AtLimit         		EQU	RAM_START + 05Dh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00075	A0005E	B				VAR	Byte
_B               		EQU	RAM_START + 05Eh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00100	A0005F	Characters		VAR	Byte		; keep track of # of characters for filling lines with empty spaces
_Characters      		EQU	RAM_START + 05Fh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00112	A00060	CommandLength	VAR	Byte
_CommandLength   		EQU	RAM_START + 060h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00121	A00061	Debugger        VAR Byte        ;
_Debugger        		EQU	RAM_START + 061h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00110	A00062	Decimal			VAR	Byte
_Decimal         		EQU	RAM_START + 062h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00088	A00063	Direction		VAR	Byte		; and in which direction
_Direction       		EQU	RAM_START + 063h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00179	A00064	eeI2Cbot		VAR	Byte					; eeprom bottom bank I2C address, must be a variable
_eeI2Cbot        		EQU	RAM_START + 064h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00181	A00065	eeI2Ctop		VAR	Byte					; eeprom top bank I2C address, must be a variable
_eeI2Ctop        		EQU	RAM_START + 065h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00091	A00066	FeedbackOn		VAR	Byte		; 1 = closed loop operation, 0 = open loop operation
_FeedbackOn      		EQU	RAM_START + 066h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00153	A00067	FirstTimeOn		VAR	Byte
_FirstTimeOn     		EQU	RAM_START + 067h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00104	A00068	hundreds		VAR	Byte		; for lcd display of hundred's place
_hundreds        		EQU	RAM_START + 068h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00107	A00069	hundredthousands	VAR	Byte
_hundredthousands		EQU	RAM_START + 069h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00187	A0006A	lcdI2Caddress	VAR	Byte
_lcdI2Caddress   		EQU	RAM_START + 06Ah
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00117	A0006B	Li				VAR	Byte
_Li              		EQU	RAM_START + 06Bh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00108	A0006C	millions		VAR	Byte
_millions        		EQU	RAM_START + 06Ch
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00120	A0006D	Minutes_Temp	VAR	Byte
_Minutes_Temp    		EQU	RAM_START + 06Dh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00115	A0006E	Negative		VAR	Byte
_Negative        		EQU	RAM_START + 06Eh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00099	A0006F	NumSpaces		VAR	Byte		; number of spaces to write 
_NumSpaces       		EQU	RAM_START + 06Fh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00102	A00070	ones			VAR	Byte		; for lcd display of one's place of some variable
_ones            		EQU	RAM_START + 070h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00076	A00071	OpMode			VAR	Byte		; 10 allowed modes of operation:
_OpMode          		EQU	RAM_START + 071h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00116	A00072	Ri				VAR	Byte		; button loop tracking variables
_Ri              		EQU	RAM_START + 072h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00194	A00073	rtcAddress		VAR	Byte 		; internal etc memory address   
_rtcAddress      		EQU	RAM_START + 073h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00004	A00074	rtcAging			VAR	Byte			'Aging offset data
_rtcAging        		EQU	RAM_START + 074h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00007	A00075	rtcControl			VAR	Byte			'control byte for RTC operation
_rtcControl      		EQU	RAM_START + 075h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00192	A00076	rtcI2Caddress	VAR	Byte
_rtcI2Caddress   		EQU	RAM_START + 076h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00014	A00077	rtcStatus			VAR	Byte			'status byte for RTC operation
_rtcStatus       		EQU	RAM_START + 077h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00006	A00078	rtcTempLSB			VAR	Byte			'temperature (least significant byte)
_rtcTempLSB      		EQU	RAM_START + 078h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00005	A00079	rtcTempMSB			VAR	Byte			'temperature (most significant byte)
_rtcTempMSB      		EQU	RAM_START + 079h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00101	A0007A	Spaces			VAR	Byte		; number of spaces to print
_Spaces          		EQU	RAM_START + 07Ah
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00067	A0007B	StepStyle       VAR Byte        ; stepping modes
_StepStyle       		EQU	RAM_START + 07Bh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00092	A0007C	TempFeedbackOn	VAR	Byte
_TempFeedbackOn  		EQU	RAM_START + 07Ch
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00077	A0007D	TempOpMode		VAR	Byte
_TempOpMode      		EQU	RAM_START + 07Dh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00103	A0007E	tens			VAR	Byte		; for lcd display of ten's place
_tens            		EQU	RAM_START + 07Eh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00106	A0007F	tenthousands	VAR	Byte		; for lcd display of tens of thousand's place
_tenthousands    		EQU	RAM_START + 07Fh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00105	A00080	thousands		VAR	Byte		; for lcd display of thousand's place
_thousands       		EQU	RAM_START + 080h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00163	A00081	TimeMatch		VAR	Byte
_TimeMatch       		EQU	RAM_START + 081h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00098	A00082	UseStoredSettings	VAR	Byte
_UseStoredSettings		EQU	RAM_START + 082h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00157	A00083	DoTime			VAR	Byte[TimeLength]		; time to do the task
_DoTime          		EQU	RAM_START + 083h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00152	A00086	Firmware		VAR	Byte[FirmwareLength]	; firmware version, length is 3 characters X.Y				
_Firmware        		EQU	RAM_START + 086h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00155	A00089	Time			VAR	Byte[TimeLength]		; {seconds, minutes, hours}				
_Time            		EQU	RAM_START + 089h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00156	A0008C	TimeBCD			VAR	Byte[TimeLength]		; BCD version of Time (seconds, minutes, hours)
_TimeBCD         		EQU	RAM_START + 08Ch
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00141	A0008F	Destination_L	VAR	Long		; destination of goto etc.
_Destination_L   		EQU	RAM_START + 08Fh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00147	A00093	Home_L			VAR	Long
_Home_L          		EQU	RAM_START + 093h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00145	A00097	L				VAR	Long		; a temporary long variable
_L               		EQU	RAM_START + 097h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00142	A0009B	MaxPos_L		VAR	Long
_MaxPos_L        		EQU	RAM_START + 09Bh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00143	A0009F	MinPos_L		VAR	Long
_MinPos_L        		EQU	RAM_START + 09Fh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00146	A000A3	Number_L		VAR	Long 
_Number_L        		EQU	RAM_START + 0A3h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00135	A000A7	Position_L		VAR	Long		; position is a long variable (signed)
_Position_L      		EQU	RAM_START + 0A7h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00148	A000AB	Rotate_L		VAR	Long		; which direction to rotate when input trigger is high (-1 or +1)
_Rotate_L        		EQU	RAM_START + 0ABh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00137	A000AF	Setpoint_L		VAR	Long		; where the motor thinks it should be
_Setpoint_L      		EQU	RAM_START + 0AFh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00140	A000B3	StepError_L		VAR	Long		; Setpoint-Position
_StepError_L     		EQU	RAM_START + 0B3h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00144	A000B7	Steps_L			VAR	Long
_Steps_L         		EQU	RAM_START + 0B7h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00136	A000BB	TempPosition_L	VAR	Long		; temporary position storage
_TempPosition_L  		EQU	RAM_START + 0BBh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00138	A000BF	TempSetpoint_L	VAR	Long		; temporary setpoint storage
_TempSetpoint_L  		EQU	RAM_START + 0BFh
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00175	A000C3	ArgumentBuffer	VAR	Byte[BufferLength]
_ArgumentBuffer  		EQU	RAM_START + 0C3h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00174	A000E3	CommandBuffer	VAR	Byte[BufferLength]
_CommandBuffer   		EQU	RAM_START + 0E3h
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00176	A00103	DataBuffer		VAR	Byte[BufferLength]
_DataBuffer      		EQU	RAM_START + 000000103h
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00611	PORTL   VAR     PORTB
_PORTL           		EQU	 PORTB
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00612	PORTH   VAR     PORTC
_PORTH           		EQU	 PORTC
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00613	TRISL   VAR     TRISB
_TRISL           		EQU	 TRISB
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00614	TRISH   VAR     TRISC
_TRISH           		EQU	 TRISC
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00044	DataBus			VAR	PORTD		; data bus for reading rotary encoder
_DataBus         		EQU	 PORTD
_Change_W??HIGHBYTE		EQU	_Change_W + 001h
_Change_W??LOWBYTE		EQU	_Change_W
#define _GIE             	_INTCON??7
#define _PEIE            	_INTCON??6
#define _TMR0IE          	_INTCON??5
#define _INT0IE          	_INTCON??4
#define _TMR0IF          	_INTCON??2
#define _INT0IF          	_INTCON??1
#define _IPEN            	_RCON??7
#define _RBPU_           	_INTCON2??7
#define _INT1IE          	_INTCON3??3
#define _INT2IE          	_INTCON3??4
#define _INT3IE          	_INTCON3??5
#define _INTEDG0         	_INTCON2??6
#define _INTEDG1         	_INTCON2??5
#define _INTEDG2         	_INTCON2??4
#define _INTEDG3         	_INTCON2??3
#define _INT1IF          	_INTCON3??0
#define _INT2IF          	_INTCON3??1
#define _INT3IF          	_INTCON3??2
#define _RC1IE           	_PIE1??5
#define _RC1IF           	_PIR1??5
#define _RC2IE           	_PIE3??5
#define _RC2IF           	_PIR3??5
#define _ADCgo           	_ADCON0??1
#define _OERR1           	_RCSTA1??1
#define _OERR2           	_RCSTA2??1
#define _FERR1           	_RCSTA1??2
#define _FERR2           	_RCSTA2??2
#define _CREN1           	_RCSTA1??4
#define _CREN2           	_RCSTA2??4
#define _TMR0ON          	_T0CON??7
#define _T08BIT          	_T0CON??6
#define _T0CS            	_T0CON??5
#define _T0SE            	_T0CON??4
#define _PSA             	_T0CON??3
#define _TOPS2           	_T0CON??2
#define _TOPS1           	_T0CON??1
#define _TOPS0           	_T0CON??0
#define _TMR0MD          	_PMD1??0
#define _TMR1CS1         	_T1CON??7
#define _TMR1CS0         	_T1CON??6
#define _T1CKPS1         	_T1CON??5
#define _T1CKPS0         	_T1CON??4
#define _T1SOSCEN        	_T1CON??3
#define _T1SYNC_         	_T1CON??2
#define _T1RD16          	_T1CON??1
#define _TMR1ON          	_T1CON??0
#define _TMR1GE          	_T1GCON??7
#define _T1GPOL          	_T1GCON??6
#define _T1GTM           	_T1GCON??5
#define _T1GSPM          	_T1GCON??4
#define _T1GGO           	_T1GCON??3
#define _T1GVAL          	_T1GCON??2
#define _T1GSS1          	_T1GCON??1
#define _T1GSS0          	_T1GCON??0
#define _TMR3CS1         	_T3CON??7
#define _TMR3CS0         	_T3CON??6
#define _T3CKPS1         	_T3CON??5
#define _T3CKPS0         	_T3CON??4
#define _T3SOSCEN        	_T3CON??3
#define _T3SYNC_         	_T3CON??2
#define _T3RD16          	_T3CON??1
#define _TMR3ON          	_T3CON??0
#define _TMR3GE          	_T3GCON??7
#define _T3GPOL          	_T3GCON??6
#define _T3GTM           	_T3GCON??5
#define _T3GSPM          	_T3GCON??4
#define _T3GGO           	_T3GCON??3
#define _T3GVAL          	_T3GCON??2
#define _T3GSS1          	_T3GCON??1
#define _T3GSS0          	_T3GCON??0
#define _EnableDrive     	_PORTA??0
#define _ResetDrive_     	_PORTA??1
#define _CNTRL           	_PORTA??2
#define _HalfFull_       	_PORTA??3
#define _CountPos        	_PORTA??5
#define _Right           	_PORTB??0
#define _Left            	_PORTB??1
#define _Illuminate      	_PORTB??2
#define _ExtTrigger      	_PORTB??3
#define _ExtDirection    	_PORTB??4
#define _CountNeg        	_PORTB??5
#define _I2Cclk          	_PORTC??0
#define _I2Cdata         	_PORTC??1
#define _Hz              	_PORTC??2
#define _DataSelect      	_PORTC??3
#define _ReadCounter_    	_PORTC??4
#define _ResetCounter_   	_PORTC??5
#define _TX              	_PORTC??6
#define _RX              	_PORTC??7
#define _BusControl      	_PORTE??0
#define _PICstep         	_PORTE??1
#define _PICdirection    	_PORTE??2
#define _State           	 PB01, 001h
#define _Limit           	 PB01, 000h
#define _rtcENOSC_       	_rtcControl??7
#define _rtcBBSQW        	_rtcControl??6
#define _rtcCONV         	_rtcControl??5
#define _rtcINTCN        	_rtcControl??2
#define _rtcA2IE         	_rtcControl??1
#define _rtcA1IE         	_rtcControl??0
#define _rtcOSF          	_rtcStatus??7
#define _rtcEN32kHz      	_rtcStatus??3
#define _rtcBSY          	_rtcStatus??2
#define _rtcA2F          	_rtcStatus??1
#define _rtcA1F          	_rtcStatus??0
#define _INTCON??7       	 INTCON, 007h
#define _INTCON??6       	 INTCON, 006h
#define _INTCON??5       	 INTCON, 005h
#define _INTCON??4       	 INTCON, 004h
#define _INTCON??2       	 INTCON, 002h
#define _INTCON??1       	 INTCON, 001h
#define _RCON??7         	 RCON, 007h
#define _INTCON2??7      	 INTCON2, 007h
#define _INTCON3??3      	 INTCON3, 003h
#define _INTCON3??4      	 INTCON3, 004h
#define _INTCON3??5      	 INTCON3, 005h
#define _INTCON2??6      	 INTCON2, 006h
#define _INTCON2??5      	 INTCON2, 005h
#define _INTCON2??4      	 INTCON2, 004h
#define _INTCON2??3      	 INTCON2, 003h
#define _INTCON3??0      	 INTCON3, 000h
#define _INTCON3??1      	 INTCON3, 001h
#define _INTCON3??2      	 INTCON3, 002h
#define _PIE1??5         	 PIE1, 005h
#define _PIR1??5         	 PIR1, 005h
#define _PIE3??5         	 PIE3, 005h
#define _PIR3??5         	 PIR3, 005h
#define _ADCON0??1       	 ADCON0, 001h
#define _RCSTA1??1       	 RCSTA1, 001h
#define _RCSTA2??1       	 RCSTA2, 001h
#define _RCSTA1??2       	 RCSTA1, 002h
#define _RCSTA2??2       	 RCSTA2, 002h
#define _RCSTA1??4       	 RCSTA1, 004h
#define _RCSTA2??4       	 RCSTA2, 004h
#define _T0CON??7        	 T0CON, 007h
#define _T0CON??6        	 T0CON, 006h
#define _T0CON??5        	 T0CON, 005h
#define _T0CON??4        	 T0CON, 004h
#define _T0CON??3        	 T0CON, 003h
#define _T0CON??2        	 T0CON, 002h
#define _T0CON??1        	 T0CON, 001h
#define _T0CON??0        	 T0CON, 000h
#define _PMD1??0         	 PMD1, 000h
#define _T1CON??7        	 T1CON, 007h
#define _T1CON??6        	 T1CON, 006h
#define _T1CON??5        	 T1CON, 005h
#define _T1CON??4        	 T1CON, 004h
#define _T1CON??3        	 T1CON, 003h
#define _T1CON??2        	 T1CON, 002h
#define _T1CON??1        	 T1CON, 001h
#define _T1CON??0        	 T1CON, 000h
#define _T1GCON??7       	 T1GCON, 007h
#define _T1GCON??6       	 T1GCON, 006h
#define _T1GCON??5       	 T1GCON, 005h
#define _T1GCON??4       	 T1GCON, 004h
#define _T1GCON??3       	 T1GCON, 003h
#define _T1GCON??2       	 T1GCON, 002h
#define _T1GCON??1       	 T1GCON, 001h
#define _T1GCON??0       	 T1GCON, 000h
#define _T3CON??7        	 T3CON, 007h
#define _T3CON??6        	 T3CON, 006h
#define _T3CON??5        	 T3CON, 005h
#define _T3CON??4        	 T3CON, 004h
#define _T3CON??3        	 T3CON, 003h
#define _T3CON??2        	 T3CON, 002h
#define _T3CON??1        	 T3CON, 001h
#define _T3CON??0        	 T3CON, 000h
#define _T3GCON??7       	 T3GCON, 007h
#define _T3GCON??6       	 T3GCON, 006h
#define _T3GCON??5       	 T3GCON, 005h
#define _T3GCON??4       	 T3GCON, 004h
#define _T3GCON??3       	 T3GCON, 003h
#define _T3GCON??2       	 T3GCON, 002h
#define _T3GCON??1       	 T3GCON, 001h
#define _T3GCON??0       	 T3GCON, 000h
#define _PORTA??0        	 PORTA, 000h
#define _PORTA??1        	 PORTA, 001h
#define _PORTA??2        	 PORTA, 002h
#define _PORTA??3        	 PORTA, 003h
#define _PORTA??5        	 PORTA, 005h
#define _PORTB??0        	 PORTB, 000h
#define _PORTB??1        	 PORTB, 001h
#define _PORTB??2        	 PORTB, 002h
#define _PORTB??3        	 PORTB, 003h
#define _PORTB??4        	 PORTB, 004h
#define _PORTB??5        	 PORTB, 005h
#define _PORTC??0        	 PORTC, 000h
#define _PORTC??1        	 PORTC, 001h
#define _PORTC??2        	 PORTC, 002h
#define _PORTC??3        	 PORTC, 003h
#define _PORTC??4        	 PORTC, 004h
#define _PORTC??5        	 PORTC, 005h
#define _PORTC??6        	 PORTC, 006h
#define _PORTC??7        	 PORTC, 007h
#define _PORTE??0        	 PORTE, 000h
#define _PORTE??1        	 PORTE, 001h
#define _PORTE??2        	 PORTE, 002h
#define _Number_W??15    	_Number_W + 001h, 007h
#define _rtcControl??7   	_rtcControl, 007h
#define _rtcControl??6   	_rtcControl, 006h
#define _rtcControl??5   	_rtcControl, 005h
#define _rtcControl??2   	_rtcControl, 002h
#define _rtcControl??1   	_rtcControl, 001h
#define _rtcControl??0   	_rtcControl, 000h
#define _rtcStatus??7    	_rtcStatus, 007h
#define _rtcStatus??3    	_rtcStatus, 003h
#define _rtcStatus??2    	_rtcStatus, 002h
#define _rtcStatus??1    	_rtcStatus, 001h
#define _rtcStatus??0    	_rtcStatus, 000h
#define _Change_W??15    	_Change_W + 001h, 007h

; Constants.
_MinDelay        		EQU	00002h
_C               		EQU	00010h
_No              		EQU	00000h
_Yes             		EQU	00001h
_False           		EQU	00000h
_True            		EQU	00001h
_Half            		EQU	00001h
_Full            		EQU	00000h
_FullStep        		EQU	00000h
_HalfStep        		EQU	00001h
_MotorOff        		EQU	00000h
_Manual          		EQU	00001h
_External        		EQU	00002h
_TriggeredGoto   		EQU	00003h
_TimedGoto       		EQU	00004h
_TriggeredMove   		EQU	00005h
_TimedMove       		EQU	00006h
_StateRotate     		EQU	00007h
_TriggeredShutter		EQU	00008h
_StateShutter    		EQU	00009h
_Pos             		EQU	00000h
_Neg             		EQU	00001h
_Nothing         		EQU	00000h
_SwitchDirection 		EQU	00001h
_FirmwareLength  		EQU	00003h
_TimeLength      		EQU	00003h
_Seconds         		EQU	00000h
_Minutes         		EQU	00001h
_Hours           		EQU	00002h
_SecsPerHour     		EQU	00E10h
_SecsPerMinute   		EQU	0003Ch
_Secs            		EQU	00000h
_SecsMins        		EQU	00001h
_SecsMinsHrs     		EQU	00002h
_Query           		EQU	0003Fh
_Ready           		EQU	00021h
_CR              		EQU	0000Dh
_LF              		EQU	0000Ah
_BufferLength    		EQU	00020h
_PageSize        		EQU	00080h
_LCDprefix       		EQU	000FEh
_SetCursor       		EQU	00045h
_ClearScreen     		EQU	00051h
_SetContrast     		EQU	00052h
_SetBacklight    		EQU	00053h
_Line1           		EQU	00000h
_Line2           		EQU	00040h
_Line3           		EQU	00014h
_Line4           		EQU	00054h
_rtcSecondsREG   		EQU	00000h
_rtcMinutesREG   		EQU	00001h
_rtcHoursREG     		EQU	00002h
_rtcDayREG       		EQU	00003h
_rtcDateREG      		EQU	00004h
_rtcMonthsREG    		EQU	00005h
_rtcYearsREG     		EQU	00006h
_rtcAlarm1SecsREG		EQU	00007h
_rtcAlarm1MinsREG		EQU	00008h
_rtcAlarm1HoursREG		EQU	00009h
_rtcAlarm1DaysREG		EQU	0000Ah
_rtcAlarm2MinsREG		EQU	0000Bh
_rtcAlarm2HoursREG		EQU	0000Ch
_rtcAlarm2DaysREG		EQU	0000Dh
_rtcControlREG   		EQU	0000Eh
_rtcStatusREG    		EQU	0000Fh
_rtcAgingREG     		EQU	00010h
_rtcTempMSBREG   		EQU	00011h
_rtcTempLSBREG   		EQU	00012h

; EEPROM data.

	ORG EEPROM_START + 00000h

	DW 000000001h


	INCLUDE	"FIRMWARE.MAC"
	INCLUDE	"C:\PROGRAM FILES (X86)\PBP3\PBPPI18L.LIB"


; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00036	Z00002	#HEADER
Z00002
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00063	Z00003	#CONFIG
Z00003
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00584	Z00004	BANKA   $0000, $005F
Z00004
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00585	Z00005	BANK0   $0060, $00FF
Z00005
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00586	Z00006	BANK1   $0100, $01FF
Z00006
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00587	Z00007	BANK2   $0200, $02FF
Z00007
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00588	Z00008	BANK3   $0300, $03FF
Z00008
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00589	Z00009	BANK4   $0400, $04FF
Z00009
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00590	Z0000A	BANK5   $0500, $05FF
Z0000A
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00591	Z0000B	BANK6   $0600, $06FF
Z0000B
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00592	Z0000C	BANK7   $0700, $07FF
Z0000C
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00593	Z0000D	BANK8   $0800, $08FF
Z0000D
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00594	Z0000E	BANK9   $0900, $09FF
Z0000E
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00595	Z0000F	BANK10  $0A00, $0AFF
Z0000F
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00596	Z00010	BANK11  $0B00, $0BFF
Z00010
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00597	Z00011	BANK12  $0C00, $0CFF
Z00011
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00598	Z00012	BANK13  $0D00, $0DFF
Z00012
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00599	Z00013	BANK14  $0E00, $0E40
Z00013
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00601	Z00014	'EEPROM  $F00000, $F003FF
Z00014
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00603	Z00015	    #MSG "LONG Variables enabled (PBPL used)"
Z00015
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00604	Z00016	    LIBRARY  "PBPPI18L"
Z00016

; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00605	Z00017	    INCLUDE "PBPPI18L.RAM"
Z00017
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00608	Z00018	    INCLUDE "PBPPIC18.RAM"
Z00018
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00609	Z00019	#ENDIF
Z00019
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00610	Z0001A	DEFINE  ADC_CHANNELS 1
Z0001A
; C:\PROGRAM FILES (X86)\PBP3\DEVICES\PIC18F46K80.PBPINC	00618	Z0001B	#header
Z0001B

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00012	Z0001C	Disable Interrupt
Z0001C
	IDISABLE?	
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00015	Z0001D	DEFINE	Loader_Used		1		; leave bottom 4 program memory address spaces for bootloader program (ds30 free version)
Z0001D
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00016	Z0001E	DEFINE  OSC 			4     	; Using a 4 MHz oscillator (the truth!)
Z0001E
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00017	Z0001F	DEFINE 	HSER_RCSTA 		90h 	; enable serial port receive
Z0001F
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00018	Z00020	DEFINE 	HSER_TXSTA 		20h		; enable serial port transmit
Z00020
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00019	Z00021	DEFINE 	HSER_BAUD 		4800	; serial port baud rate (limited by 4MHz osc.)
Z00021
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00020	Z00022	DEFINE	HSER_CLROERR	1		; clear overrun errors automatically 
Z00022
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00021	Z00023	DEFINE 	BUTTON_PAUSE 	100
Z00023

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00024	Z00024	include "Includes\BitDefinitions.pbp"			; special register bit definitions, device file only includes register names
Z00024

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00025	Z00025	include "Includes\Configuration.pbp"			; PIC configuration, software fuses, and external hardware connections
Z00025

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\CONFIGURATION.PBP	00001	Z00026	Disable Interrupt
Z00026
	IDISABLE?	
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\CONFIGURATION.PBP	00007	Z00027	#CONFIG							; See P18F46K80.INC in the MPLAB folder for options
Z00027

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\CONFIGURATION.PBP	00049	Z00028	Enable Interrupt
Z00028
	IENABLE?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00026	Z00029	include "Includes\Variables.pbp"				; variables and constants that aren't "local" to specific device subroutines
Z00029

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00001	Z0002A	Disable Interrupt
Z0002A
	IDISABLE?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00017	Z0002B	ANCON0		=	%00000000		; make PORTA a digital port
Z0002B
	MOVE?CB	000h, ANCON0

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00018	Z0002C	ANCON1		=	%00000000
Z0002C
	MOVE?CB	000h, ANCON1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00019	Z0002D	TRISA		=	%00000000		; all outputs (no RA4 on device)		
Z0002D
	MOVE?CB	000h, TRISA

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00028	Z0002E	WPUB		=	%00000011		; enable (weak) pullups for pushbutton connections PORTB0:1
Z0002E
	MOVE?CB	003h, WPUB

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00029	Z0002F	RBPU_		=	0				; enable PORTB pullups (inputs only), for pushbuttons so they float at logic high
Z0002F
	MOVE?CT	000h, _RBPU_

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00030	Z00030	TRISB		=	%11111011		; configure directionality of PORTB
Z00030
	MOVE?CB	0FBh, TRISB

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00041	Z00031	TRISC		=	%10000111	
Z00031
	MOVE?CB	087h, TRISC

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00045	Z00032	TRISD		=	%11111111		; data bus for rotary encoder is all inputs
Z00032
	MOVE?CB	0FFh, TRISD

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00051	Z00033	TRISE		=	%11111000
Z00033
	MOVE?CB	0F8h, TRISE
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00057	Z00034	MinDelay		CON 2			; minimum delay between steps, ms
Z00034
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00058	Z00035	C				CON 16			; conversion: physical steps to internal counting
Z00035
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00060	Z00036	No				CON 0			; constants for ease of reading of feedback
Z00036
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00061	Z00037	Yes				CON 1
Z00037
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00062	Z00038	False			CON 0
Z00038
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00063	Z00039	True			CON 1
Z00039
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00064	Z0003A	Half			CON 1
Z0003A
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00065	Z0003B	Full			CON 0
Z0003B
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00068	Z0003C	FullStep        CON 0           ; "normal" drive (200 steps per revolution)
Z0003C
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00069	Z0003D	HalfStep        CON 1           ; "half" stepping (400 steps per revolution)
Z0003D
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00078	Z0003E	MotorOff		CON 0			; do nothing
Z0003E
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00079	Z0003F	Manual			CON 1			; change position with pushbuttons		
Z0003F
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00080	Z00040	External		CON 2			; change position with external trigger and TTL direction control
Z00040
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00081	Z00041	TriggeredGoto	CON 3			; goto a position on trigger event(s)
Z00041
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00082	Z00042	TimedGoto		CON 4			; goto a position at a specified time
Z00042
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00083	Z00043	TriggeredMove	CON 5			; move a certain number of steps on trigger event(s)
Z00043
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00084	Z00044	TimedMove		CON 6			; move a certain number of steps at a specified time
Z00044
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00085	Z00045	StateRotate		CON 7			; rotate the motor on logic level State of "trigger" external input
Z00045
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00086	Z00046	TriggeredShutter CON 8			; operate as a shutter, opens/closes on trigger event(s)
Z00046
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00087	Z00047	StateShutter	CON 9			; operate as a shutter, opens/closes depedending on external logic level
Z00047
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00089	Z00048	Pos				CON 0			; low positive
Z00048
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00090	Z00049	Neg				CON 1			; high negative
Z00049
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00096	Z0004A	Nothing			CON 0           ; don't move the motor
Z0004A
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00097	Z0004B	SwitchDirection	CON 1
Z0004B

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00118	Z0004C	Ri			=	0
Z0004C
	MOVE?CB	000h, _Ri

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00119	Z0004D	Li			=	0
Z0004D
	MOVE?CB	000h, _Li
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00151	Z0004E	FirmwareLength	CON 3				
Z0004E
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00154	Z0004F	TimeLength		CON 3			
Z0004F
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00158	Z00050	Seconds			CON 0						; array indices
Z00050
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00159	Z00051	Minutes			CON 1
Z00051
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00160	Z00052	Hours			CON 2
Z00052
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00161	Z00053	SecsPerHour		CON 3600
Z00053
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00162	Z00054	SecsPerMinute	CON 60
Z00054
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00164	Z00055	Secs			CON 0
Z00055
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00165	Z00056	SecsMins		CON 1
Z00056
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00166	Z00057	SecsMinsHrs		CON 2
Z00057
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00169	Z00058	Query			CON "?"					; assigned wakeup character to be sent first by PC
Z00058
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00170	Z00059	Ready			CON "!"					; response byte indicating the PIC is ready to receive the command bytes
Z00059
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00171	Z0005A	CR				CON	13 					; 0x0D carriage return gives new line
Z0005A
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00172	Z0005B	LF				CON 10 					; 0x0A line feed ends transmission
Z0005B
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00173	Z0005C	BufferLength	CON 32					; buffer for serial communication
Z0005C

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00180	Z0005D	eeI2Cbot	=	%10100000					 							
Z0005D
	MOVE?CB	0A0h, _eeI2Cbot

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00182	Z0005E	eeI2Ctop	=	%10101000					; only the bottom bank is used in this project 
Z0005E
	MOVE?CB	0A8h, _eeI2Ctop
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00184	Z0005F	PageSize   		CON	128						; writing entire pages (128 bytes) allows sequential reads/writes	
Z0005F

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00188	Z00060	lcdI2Caddress =	$50							
Z00060
	MOVE?CB	050h, _lcdI2Caddress
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00189	Z00061	LCDprefix       CON $FE    		; sent before any command byte, as the subaddress
Z00061

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00193	Z00062	rtcI2Caddress =	$D0
Z00062
	MOVE?CB	0D0h, _rtcI2Caddress

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00196	Z00063	goto Variables_Done
Z00063
	GOTO?L	_Variables_Done

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00204	Z00064	SetupIO:
Z00064

	LABEL?L	_SetupIO	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00206	Z00065		INTEDG0		=	0			; interrupt flags get set on falling edge of external signals RB0:RB1
Z00065
	MOVE?CT	000h, _INTEDG0

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00207	Z00066		INTEDG1		=	0			; right/left pushbuttons available for manually stepping the motor
Z00066
	MOVE?CT	000h, _INTEDG1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00210	Z00067		T08BIT		=	0			; 16 bit mode
Z00067
	MOVE?CT	000h, _T08BIT

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00211	Z00068		T0CS		=	1			; external clock source (pin)
Z00068
	MOVE?CT	001h, _T0CS

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00212	Z00069		T0SE		=	0			; clocks on rising edges
Z00069
	MOVE?CT	000h, _T0SE

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00213	Z0006A		PSA			=	1			; no prescalar
Z0006A
	MOVE?CT	001h, _PSA

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00214	Z0006B		TMR0ON		=	1			; enable timer0 module
Z0006B
	MOVE?CT	001h, _TMR0ON

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00217	Z0006C		TMR1CS1		=	1			; timer1 counts regardless of gate function/state
Z0006C
	MOVE?CT	001h, _TMR1CS1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00218	Z0006D		TMR1CS0		=	0			; timer1 clock is from pin (or oscillator, depending on SOSCEN bit)
Z0006D
	MOVE?CT	000h, _TMR1CS0

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00219	Z0006E		T1CKPS1		=	0			; no prescalar
Z0006E
	MOVE?CT	000h, _T1CKPS1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00220	Z0006F		T1CKPS0		=	0
Z0006F
	MOVE?CT	000h, _T1CKPS0

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00221	Z00070		T1SOSCEN	=	0			; SOSC (secondary oscillator) is disabled, external clock from the T3CKl pin (rising edge)
Z00070
	MOVE?CT	000h, _T1SOSCEN

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00222	Z00071		T1SYNC_		=	1			; do not synchronize external clock input
Z00071
	MOVE?CT	001h, _T1SYNC_

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00223	Z00072		T1RD16		=	0			; read Timer1 as two 8-bit registers
Z00072
	MOVE?CT	000h, _T1RD16

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00224	Z00073		TMR1ON		=	1			; enable timer1 module
Z00073
	MOVE?CT	001h, _TMR1ON

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00227	Z00074		ReadCounter_	=	1						; not reading the counter
Z00074
	MOVE?CT	001h, _ReadCounter_

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00228	Z00075		ResetCounter_	=	1						; not resetting the encoder
Z00075
	MOVE?CT	001h, _ResetCounter_

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00229	Z00076		DataSelect		=	0						; doesn't matter
Z00076
	MOVE?CT	000h, _DataSelect

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00230	Z00077		PicStep			=	0
Z00077
	MOVE?CT	000h, _PICstep

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00231	Z00078		PicDirection	=	0
Z00078
	MOVE?CT	000h, _PICdirection

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00232	Z00079	Return
Z00079
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00235	Z0007A	SetValuesToDefault:								; set default values of variables
Z0007A

	LABEL?L	_SetValuesToDefault	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00236	Z0007B		Time[Seconds] 	= 	0
Z0007B
	MOVE?CB	000h, _Time

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00237	Z0007C		Time[Minutes]	=	0
Z0007C
	MOVE?CB	000h, _Time + 00001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00238	Z0007D		Time[Hours]		=	13
Z0007D
	MOVE?CB	00Dh, _Time + 00002h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00239	Z0007E		gosub				UpdateRTC
Z0007E
	GOSUB?L	_UpdateRTC

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00241	Z0007F		DoTime[Seconds]	=	0
Z0007F
	MOVE?CB	000h, _DoTime

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00242	Z00080		DoTime[Minutes]	=	0
Z00080
	MOVE?CB	000h, _DoTime + 00001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00243	Z00081		DoTime[Hours]	=	12
Z00081
	MOVE?CB	00Ch, _DoTime + 00002h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00244	Z00082		Rotate_L		=	1						; rotate in positive sense on high input (state rotate mode only)
Z00082
	MOVE?CN	001h, _Rotate_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00245	Z00083		AtLimit			=	Nothing					; do nothing if mode reaches software position limit
Z00083
	MOVE?CB	_Nothing, _AtLimit

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00246	Z00084		TimeMatch		=	Secs
Z00084
	MOVE?CB	_Secs, _TimeMatch

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00248	Z00085		OpMode			=	Manual
Z00085
	MOVE?CB	_Manual, _OpMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00249	Z00086	    StepStyle       =   FullStep
Z00086
	MOVE?CB	_FullStep, _StepStyle

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00250	Z00087		FeedbackOn		=	No				
Z00087
	MOVE?CB	_No, _FeedbackOn

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00251	Z00088		Delay_W			=	10 max MinDelay			; default delay between steps, ms
Z00088
	MAX?CCW	00Ah, _MinDelay, _Delay_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00252	Z00089		MinPos_L		=	-100000*C				; For no position limits, make both zero
Z00089
	MOVE?CN	0FFE79600h, _MinPos_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00253	Z0008A		MaxPos_L		=	100000*C				; remember, the controller deals in counts, not steps					
Z0008A
	MOVE?CN	000186A00h, _MaxPos_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00254	Z0008B		gosub				ClearCounters			; clear trigger counters
Z0008B
	GOSUB?L	_ClearCounters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00255	Z0008C		Position_L 		= 	0
Z0008C
	MOVE?CN	000h, _Position_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00256	Z0008D		Setpoint_L 		= 	0
Z0008D
	MOVE?CN	000h, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00257	Z0008E		Destination_L 	= 	0
Z0008E
	MOVE?CN	000h, _Destination_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00258	Z0008F		Steps_L			=	50*C
Z0008F
	MOVE?CN	000000320h, _Steps_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00259	Z00090		DoTriggers_W	=	100
Z00090
	MOVE?CW	064h, _DoTriggers_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00260	Z00091	Return
Z00091
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00263	Z00092	Variables_Done:
Z00092

	LABEL?L	_Variables_Done	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\VARIABLES.PBP	00265	Z00093	Enable Interrupt
Z00093
	IENABLE?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00027	Z00094	include "Includes\LCD.pbp"						; I2C LCD subroutines
Z00094

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00001	Z00095	Disable Interrupt
Z00095
	IDISABLE?	
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00005	Z00096	SetCursor		    CON	$45	   	; then send 1 byte, $00-$67 		
Z00096
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00006	Z00097	ClearScreen		    CON	$51    	; clears screen and resets cursor to line 1, position 1 
Z00097
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00007	Z00098	SetContrast			CON $52		; then send 1 byte (1-50)
Z00098
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00008	Z00099	SetBacklight		CON	$53	   	; then send 1 byte (1-8)
Z00099
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00009	Z0009A	Line1				CON	$00		; line 1 internal address
Z0009A
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00010	Z0009B	Line2				CON	$40		; line 2 internal address
Z0009B
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00011	Z0009C	Line3				CON	$14		; line 3 internal address
Z0009C
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00012	Z0009D	Line4				CON	$54		; line 4 internal address
Z0009D

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00014	Z0009E	goto	LCD_Done
Z0009E
	GOTO?L	_LCD_Done

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00019	Z0009F	SetupLCD:		; load custom characters and set lcd parameters
Z0009F

	LABEL?L	_SetupLCD	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00020	Z000A0		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,LCDprefix,[SetContrast,40]
Z000A0
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	_LCDprefix
	I2CWRITE?C	_SetContrast
	I2CWRITES?C	028h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00021	Z000A1		pause		5
Z000A1
	PAUSE?C	005h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00022	Z000A2		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,LCDprefix,[SetBacklight,8]
Z000A2
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	_LCDprefix
	I2CWRITE?C	_SetBacklight
	I2CWRITES?C	008h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00023	Z000A3		pause		5
Z000A3
	PAUSE?C	005h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00024	Z000A4		gosub		ClearLCD
Z000A4
	GOSUB?L	_ClearLCD

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00025	Z000A5	Return
Z000A5
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00028	Z000A6	MotorOffDisplay:
Z000A6

	LABEL?L	_MotorOffDisplay	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00029	Z000A7		gosub		SetCursorLine1
Z000A7
	GOSUB?L	_SetCursorLine1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00030	Z000A8		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["Motor Disabled"]
Z000A8
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	04Dh
	I2CWRITE?C	06Fh
	I2CWRITE?C	074h
	I2CWRITE?C	06Fh
	I2CWRITE?C	072h
	I2CWRITE?C	020h
	I2CWRITE?C	044h
	I2CWRITE?C	069h
	I2CWRITE?C	073h
	I2CWRITE?C	061h
	I2CWRITE?C	062h
	I2CWRITE?C	06Ch
	I2CWRITE?C	065h
	I2CWRITES?C	064h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00031	Z000A9		gosub		StandardDisplay
Z000A9
	GOSUB?L	_StandardDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00032	Z000AA		gosub		SetCursorLine4
Z000AA
	GOSUB?L	_SetCursorLine4

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00033	Z000AB		gosub		PrintTime
Z000AB
	GOSUB?L	_PrintTime

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00034	Z000AC	Return
Z000AC
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00037	Z000AD	ManualDisplay:
Z000AD

	LABEL?L	_ManualDisplay	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00038	Z000AE		gosub		SetCursorLine1
Z000AE
	GOSUB?L	_SetCursorLine1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00039	Z000AF		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["  Manual Operation  "]
Z000AF
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	04Dh
	I2CWRITE?C	061h
	I2CWRITE?C	06Eh
	I2CWRITE?C	075h
	I2CWRITE?C	061h
	I2CWRITE?C	06Ch
	I2CWRITE?C	020h
	I2CWRITE?C	04Fh
	I2CWRITE?C	070h
	I2CWRITE?C	065h
	I2CWRITE?C	072h
	I2CWRITE?C	061h
	I2CWRITE?C	074h
	I2CWRITE?C	069h
	I2CWRITE?C	06Fh
	I2CWRITE?C	06Eh
	I2CWRITE?C	020h
	I2CWRITES?C	020h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00040	Z000B0		gosub		StandardDisplay
Z000B0
	GOSUB?L	_StandardDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00041	Z000B1		gosub		SetCursorLine4
Z000B1
	GOSUB?L	_SetCursorLine4

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00042	Z000B2		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["<<-              +>>"]
Z000B2
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	03Ch
	I2CWRITE?C	03Ch
	I2CWRITE?C	02Dh
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	02Bh
	I2CWRITE?C	03Eh
	I2CWRITES?C	03Eh

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00043	Z000B3	Return
Z000B3
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00046	Z000B4	ExternalDisplay:
Z000B4

	LABEL?L	_ExternalDisplay	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00047	Z000B5		gosub		SetCursorLine1
Z000B5
	GOSUB?L	_SetCursorLine1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00048	Z000B6		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,[" External Operation "]
Z000B6
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	020h
	I2CWRITE?C	045h
	I2CWRITE?C	078h
	I2CWRITE?C	074h
	I2CWRITE?C	065h
	I2CWRITE?C	072h
	I2CWRITE?C	06Eh
	I2CWRITE?C	061h
	I2CWRITE?C	06Ch
	I2CWRITE?C	020h
	I2CWRITE?C	04Fh
	I2CWRITE?C	070h
	I2CWRITE?C	065h
	I2CWRITE?C	072h
	I2CWRITE?C	061h
	I2CWRITE?C	074h
	I2CWRITE?C	069h
	I2CWRITE?C	06Fh
	I2CWRITE?C	06Eh
	I2CWRITES?C	020h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00049	Z000B7		gosub		StandardDisplay
Z000B7
	GOSUB?L	_StandardDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00050	Z000B8		gosub		SetCursorLine4
Z000B8
	GOSUB?L	_SetCursorLine4

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00051	Z000B9		gosub		PrintEmpty
Z000B9
	GOSUB?L	_PrintEmpty

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00052	Z000BA	Return
Z000BA
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00055	Z000BB	TriggeredGotoDisplay:
Z000BB

	LABEL?L	_TriggeredGotoDisplay	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00056	Z000BC		gosub		SetCursorLine1
Z000BC
	GOSUB?L	_SetCursorLine1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00057	Z000BD		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["Trig. Goto "]
Z000BD
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	054h
	I2CWRITE?C	072h
	I2CWRITE?C	069h
	I2CWRITE?C	067h
	I2CWRITE?C	02Eh
	I2CWRITE?C	020h
	I2CWRITE?C	047h
	I2CWRITE?C	06Fh
	I2CWRITE?C	074h
	I2CWRITE?C	06Fh
	I2CWRITES?C	020h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00058	Z000BE		Characters = 11
Z000BE
	MOVE?CB	00Bh, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00059	Z000BF		Number_L = 	Destination_L
Z000BF
	MOVE?NN	_Destination_L, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00060	Z000C0		gosub		WriteNumber_L
Z000C0
	GOSUB?L	_WriteNumber_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00061	Z000C1		gosub		FillLine
Z000C1
	GOSUB?L	_FillLine

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00062	Z000C2		gosub		StandardDisplay
Z000C2
	GOSUB?L	_StandardDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00063	Z000C3		gosub		SetCursorLine4
Z000C3
	GOSUB?L	_SetCursorLine4

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00064	Z000C4		gosub		PrintTriggers
Z000C4
	GOSUB?L	_PrintTriggers

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00065	Z000C5	Return
Z000C5
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00067	Z000C6	UpdateTriggers:
Z000C6

	LABEL?L	_UpdateTriggers	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00068	Z000C7		B = Line4 + 10
Z000C7
	MOVE?CB	05Eh, _B

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00069	Z000C8		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,LCDprefix,[SetCursor,B]
Z000C8
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	_LCDprefix
	I2CWRITE?C	_SetCursor
	I2CWRITES?B	_B

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00070	Z000C9		Number_W = 	Triggers_W
Z000C9
	MOVE?WW	_Triggers_W, _Number_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00071	Z000CA		gosub		WriteNumber_W
Z000CA
	GOSUB?L	_WriteNumber_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00072	Z000CB		gosub		WriteSlash
Z000CB
	GOSUB?L	_WriteSlash

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00073	Z000CC		Number_W =	DoTriggers_W
Z000CC
	MOVE?WW	_DoTriggers_W, _Number_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00074	Z000CD		gosub		WriteNumber_W
Z000CD
	GOSUB?L	_WriteNumber_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00075	Z000CE		gosub		WriteSpace
Z000CE
	GOSUB?L	_WriteSpace

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00076	Z000CF		gosub		WriteSpace
Z000CF
	GOSUB?L	_WriteSpace

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00077	Z000D0	Return
Z000D0
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00081	Z000D1	TimedGotoDisplay:
Z000D1

	LABEL?L	_TimedGotoDisplay	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00082	Z000D2		gosub		SetCursorLine1
Z000D2
	GOSUB?L	_SetCursorLine1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00083	Z000D3		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["Timed Goto "]
Z000D3
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	054h
	I2CWRITE?C	069h
	I2CWRITE?C	06Dh
	I2CWRITE?C	065h
	I2CWRITE?C	064h
	I2CWRITE?C	020h
	I2CWRITE?C	047h
	I2CWRITE?C	06Fh
	I2CWRITE?C	074h
	I2CWRITE?C	06Fh
	I2CWRITES?C	020h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00084	Z000D4		Characters = 11
Z000D4
	MOVE?CB	00Bh, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00085	Z000D5		Number_L = 	Destination_L
Z000D5
	MOVE?NN	_Destination_L, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00086	Z000D6		gosub		WriteNumber_L
Z000D6
	GOSUB?L	_WriteNumber_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00087	Z000D7		gosub		FillLine
Z000D7
	GOSUB?L	_FillLine

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00088	Z000D8		gosub		StandardDisplay						; position and feedback on lines 2 and 3
Z000D8
	GOSUB?L	_StandardDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00089	Z000D9		gosub		SetCursorLine4
Z000D9
	GOSUB?L	_SetCursorLine4

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00090	Z000DA		gosub		PrintTimes
Z000DA
	GOSUB?L	_PrintTimes

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00091	Z000DB	Return
Z000DB
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00094	Z000DC	StandardDisplay:
Z000DC

	LABEL?L	_StandardDisplay	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00095	Z000DD		gosub		SetCursorLine2
Z000DD
	GOSUB?L	_SetCursorLine2

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00096	Z000DE		gosub		PrintPosition			; current position based on how many steps the motor thinks it has taken
Z000DE
	GOSUB?L	_PrintPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00097	Z000DF		gosub		SetCursorLine3
Z000DF
	GOSUB?L	_SetCursorLine3

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00098	Z000E0		gosub		PrintEmpty
Z000E0
	GOSUB?L	_PrintEmpty

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00099	Z000E1	Return
Z000E1
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00102	Z000E2	PrintTimes:
Z000E2

	LABEL?L	_PrintTimes	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00103	Z000E3		gosub		WriteTime
Z000E3
	GOSUB?L	_WriteTime

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00104	Z000E4		gosub		WriteSpace
Z000E4
	GOSUB?L	_WriteSpace

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00105	Z000E5		gosub		WriteSlash
Z000E5
	GOSUB?L	_WriteSlash

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00106	Z000E6		gosub		WriteSpace
Z000E6
	GOSUB?L	_WriteSpace

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00107	Z000E7		gosub		WriteDoTime
Z000E7
	GOSUB?L	_WriteDoTime

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00108	Z000E8		gosub		FillLine
Z000E8
	GOSUB?L	_FillLine

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00109	Z000E9	Return
Z000E9
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00112	Z000EA	WriteSteps:
Z000EA

	LABEL?L	_WriteSteps	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00113	Z000EB		Number_L = 	Steps_L
Z000EB
	MOVE?NN	_Steps_L, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00114	Z000EC		gosub		WriteNumber_L
Z000EC
	GOSUB?L	_WriteNumber_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00115	Z000ED	Return
Z000ED
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00118	Z000EE	TriggeredMoveDisplay:
Z000EE

	LABEL?L	_TriggeredMoveDisplay	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00119	Z000EF		gosub		SetCursorLine1
Z000EF
	GOSUB?L	_SetCursorLine1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00120	Z000F0		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["Trig. Move "]
Z000F0
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	054h
	I2CWRITE?C	072h
	I2CWRITE?C	069h
	I2CWRITE?C	067h
	I2CWRITE?C	02Eh
	I2CWRITE?C	020h
	I2CWRITE?C	04Dh
	I2CWRITE?C	06Fh
	I2CWRITE?C	076h
	I2CWRITE?C	065h
	I2CWRITES?C	020h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00121	Z000F1		Characters = 11
Z000F1
	MOVE?CB	00Bh, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00122	Z000F2		gosub		WriteSteps
Z000F2
	GOSUB?L	_WriteSteps

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00123	Z000F3		gosub		FillLine
Z000F3
	GOSUB?L	_FillLine

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00124	Z000F4		gosub		StandardDisplay
Z000F4
	GOSUB?L	_StandardDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00125	Z000F5		gosub		SetCursorLine4
Z000F5
	GOSUB?L	_SetCursorLine4

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00126	Z000F6		gosub		PrintTriggers
Z000F6
	GOSUB?L	_PrintTriggers

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00127	Z000F7	Return
Z000F7
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00130	Z000F8	TimedMoveDisplay:			
Z000F8

	LABEL?L	_TimedMoveDisplay	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00131	Z000F9		gosub		SetCursorLine1
Z000F9
	GOSUB?L	_SetCursorLine1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00132	Z000FA		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["Timed Move "]
Z000FA
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	054h
	I2CWRITE?C	069h
	I2CWRITE?C	06Dh
	I2CWRITE?C	065h
	I2CWRITE?C	064h
	I2CWRITE?C	020h
	I2CWRITE?C	04Dh
	I2CWRITE?C	06Fh
	I2CWRITE?C	076h
	I2CWRITE?C	065h
	I2CWRITES?C	020h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00133	Z000FB		Characters = 11
Z000FB
	MOVE?CB	00Bh, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00134	Z000FC		gosub		WriteSteps
Z000FC
	GOSUB?L	_WriteSteps

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00135	Z000FD		gosub		FillLine
Z000FD
	GOSUB?L	_FillLine

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00136	Z000FE		gosub		StandardDisplay	
Z000FE
	GOSUB?L	_StandardDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00137	Z000FF		gosub		SetCursorLine4
Z000FF
	GOSUB?L	_SetCursorLine4

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00138	Z00100		gosub		PrintTimes
Z00100
	GOSUB?L	_PrintTimes

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00139	Z00101	Return
Z00101
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00142	Z00102	StateRotateDisplay:
Z00102

	LABEL?L	_StateRotateDisplay	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00143	Z00103		gosub		SetCursorLine1
Z00103
	GOSUB?L	_SetCursorLine1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00144	Z00104		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["    State Rotate    "]
Z00104
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	053h
	I2CWRITE?C	074h
	I2CWRITE?C	061h
	I2CWRITE?C	074h
	I2CWRITE?C	065h
	I2CWRITE?C	020h
	I2CWRITE?C	052h
	I2CWRITE?C	06Fh
	I2CWRITE?C	074h
	I2CWRITE?C	061h
	I2CWRITE?C	074h
	I2CWRITE?C	065h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITES?C	020h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00145	Z00105		gosub		StandardDisplay
Z00105
	GOSUB?L	_StandardDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00146	Z00106		gosub		SetCursorLine4
Z00106
	GOSUB?L	_SetCursorLine4

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00147	Z00107		gosub		PrintEmpty
Z00107
	GOSUB?L	_PrintEmpty

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00148	Z00108	Return
Z00108
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00151	Z00109	TriggeredShutterDisplay:
Z00109

	LABEL?L	_TriggeredShutterDisplay	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00152	Z0010A		gosub		SetCursorLine1
Z0010A
	GOSUB?L	_SetCursorLine1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00153	Z0010B		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,[" Triggered Shutter  "]
Z0010B
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	020h
	I2CWRITE?C	054h
	I2CWRITE?C	072h
	I2CWRITE?C	069h
	I2CWRITE?C	067h
	I2CWRITE?C	067h
	I2CWRITE?C	065h
	I2CWRITE?C	072h
	I2CWRITE?C	065h
	I2CWRITE?C	064h
	I2CWRITE?C	020h
	I2CWRITE?C	053h
	I2CWRITE?C	068h
	I2CWRITE?C	075h
	I2CWRITE?C	074h
	I2CWRITE?C	074h
	I2CWRITE?C	065h
	I2CWRITE?C	072h
	I2CWRITE?C	020h
	I2CWRITES?C	020h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00154	Z0010C		gosub		StandardDisplay
Z0010C
	GOSUB?L	_StandardDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00155	Z0010D		gosub		SetCursorLine4
Z0010D
	GOSUB?L	_SetCursorLine4

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00156	Z0010E		gosub		PrintTriggers
Z0010E
	GOSUB?L	_PrintTriggers

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00157	Z0010F	Return
Z0010F
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00160	Z00110	PrintTriggers:
Z00110

	LABEL?L	_PrintTriggers	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00161	Z00111		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["Triggers: "]
Z00111
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	054h
	I2CWRITE?C	072h
	I2CWRITE?C	069h
	I2CWRITE?C	067h
	I2CWRITE?C	067h
	I2CWRITE?C	065h
	I2CWRITE?C	072h
	I2CWRITE?C	073h
	I2CWRITE?C	03Ah
	I2CWRITES?C	020h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00162	Z00112		Characters = 10
Z00112
	MOVE?CB	00Ah, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00163	Z00113		Number_W = 	Triggers_W
Z00113
	MOVE?WW	_Triggers_W, _Number_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00164	Z00114		gosub		WriteNumber_W
Z00114
	GOSUB?L	_WriteNumber_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00165	Z00115		gosub		WriteSlash
Z00115
	GOSUB?L	_WriteSlash

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00166	Z00116		Number_W =	DoTriggers_W
Z00116
	MOVE?WW	_DoTriggers_W, _Number_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00167	Z00117		gosub		WriteNumber_W
Z00117
	GOSUB?L	_WriteNumber_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00168	Z00118		gosub		FillLine
Z00118
	GOSUB?L	_FillLine

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00169	Z00119	Return
Z00119
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00172	Z0011A	StateShutterDisplay:
Z0011A

	LABEL?L	_StateShutterDisplay	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00173	Z0011B		gosub		SetCursorLine1
Z0011B
	GOSUB?L	_SetCursorLine1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00174	Z0011C		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["   State Shutter    "]
Z0011C
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	053h
	I2CWRITE?C	074h
	I2CWRITE?C	061h
	I2CWRITE?C	074h
	I2CWRITE?C	065h
	I2CWRITE?C	020h
	I2CWRITE?C	053h
	I2CWRITE?C	068h
	I2CWRITE?C	075h
	I2CWRITE?C	074h
	I2CWRITE?C	074h
	I2CWRITE?C	065h
	I2CWRITE?C	072h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITES?C	020h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00175	Z0011D		gosub		StandardDisplay
Z0011D
	GOSUB?L	_StandardDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00176	Z0011E		gosub		SetCursorLine4
Z0011E
	GOSUB?L	_SetCursorLine4

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00177	Z0011F		gosub		PrintEmpty
Z0011F
	GOSUB?L	_PrintEmpty

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00178	Z00120	Return
Z00120
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00181	Z00121	WriteTime:
Z00121

	LABEL?L	_WriteTime	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00182	Z00122		Number_W 	=	Time[Hours]
Z00122
	MOVE?BW	_Time + 00002h, _Number_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00183	Z00123		gosub		WriteNumber_W
Z00123
	GOSUB?L	_WriteNumber_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00184	Z00124		gosub		WriteColon
Z00124
	GOSUB?L	_WriteColon

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00185	Z00125		Number_W 	= 	Time[Minutes]
Z00125
	MOVE?BW	_Time + 00001h, _Number_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00186	Z00126		If Number_W < 10 then
Z00126
	CMPGE?WCL	_Number_W, 00Ah, L00005

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00187	Z00127			gosub	WriteZero
Z00127
	GOSUB?L	_WriteZero

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00188	Z00128		EndIf
Z00128
	LABEL?L	L00005	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00189	Z00129		gosub		WriteNumber_W
Z00129
	GOSUB?L	_WriteNumber_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00190	Z0012A		gosub		WriteColon
Z0012A
	GOSUB?L	_WriteColon

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00191	Z0012B		Number_W 	= 	Time[Seconds]
Z0012B
	MOVE?BW	_Time, _Number_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00192	Z0012C		If Number_W < 10 then
Z0012C
	CMPGE?WCL	_Number_W, 00Ah, L00007

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00193	Z0012D			gosub	WriteZero
Z0012D
	GOSUB?L	_WriteZero

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00194	Z0012E		EndIf
Z0012E
	LABEL?L	L00007	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00195	Z0012F		gosub	WriteNumber_W
Z0012F
	GOSUB?L	_WriteNumber_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00196	Z00130	Return
Z00130
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00198	Z00131	PrintTime:
Z00131

	LABEL?L	_PrintTime	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00199	Z00132		Characters = 0
Z00132
	MOVE?CB	000h, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00200	Z00133		gosub	WriteTime
Z00133
	GOSUB?L	_WriteTime

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00201	Z00134		gosub	FillLine
Z00134
	GOSUB?L	_FillLine

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00202	Z00135	Return
Z00135
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00205	Z00136	WriteDoTime:							; print execution time 
Z00136

	LABEL?L	_WriteDoTime	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00206	Z00137		Number_W 	=	DoTime[Hours]
Z00137
	MOVE?BW	_DoTime + 00002h, _Number_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00207	Z00138		gosub		WriteNumber_W
Z00138
	GOSUB?L	_WriteNumber_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00208	Z00139		gosub		WriteColon
Z00139
	GOSUB?L	_WriteColon

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00209	Z0013A		Number_W 	= 	DoTime[Minutes]
Z0013A
	MOVE?BW	_DoTime + 00001h, _Number_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00210	Z0013B		If Number_W < 10 then
Z0013B
	CMPGE?WCL	_Number_W, 00Ah, L00009

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00211	Z0013C			gosub	WriteZero
Z0013C
	GOSUB?L	_WriteZero

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00212	Z0013D		EndIf
Z0013D
	LABEL?L	L00009	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00213	Z0013E		gosub		WriteNumber_W
Z0013E
	GOSUB?L	_WriteNumber_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00214	Z0013F		gosub		WriteColon
Z0013F
	GOSUB?L	_WriteColon

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00215	Z00140		Number_W 	= 	DoTime[Seconds]
Z00140
	MOVE?BW	_DoTime, _Number_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00216	Z00141		If Number_W < 10 then
Z00141
	CMPGE?WCL	_Number_W, 00Ah, L00011

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00217	Z00142			gosub	WriteZero
Z00142
	GOSUB?L	_WriteZero

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00218	Z00143		EndIf
Z00143
	LABEL?L	L00011	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00219	Z00144		gosub	WriteNumber_W
Z00144
	GOSUB?L	_WriteNumber_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00220	Z00145	Return
Z00145
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00222	Z00146	PrintDoTime:
Z00146

	LABEL?L	_PrintDoTime	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00223	Z00147		Characters = 0
Z00147
	MOVE?CB	000h, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00224	Z00148		gosub	WriteDoTime
Z00148
	GOSUB?L	_WriteDoTime

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00225	Z00149		gosub	FillLine
Z00149
	GOSUB?L	_FillLine

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00226	Z0014A	Return
Z0014A
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00228	Z0014B	WriteZero:
Z0014B

	LABEL?L	_WriteZero	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00229	Z0014C		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["0"]
Z0014C
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITES?C	030h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00230	Z0014D		Characters = Characters + 1
Z0014D
	ADD?BCB	_Characters, 001h, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00231	Z0014E	Return	
Z0014E
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00235	Z0014F	UpdateDisplay:
Z0014F

	LABEL?L	_UpdateDisplay	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00236	Z00150	    gosub       SetCursorLine2
Z00150
	GOSUB?L	_SetCursorLine2

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00237	Z00151	    gosub       PrintPosition
Z00151
	GOSUB?L	_PrintPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00247	Z00152	Return
Z00152
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00250	Z00153	PrintPosition:
Z00153

	LABEL?L	_PrintPosition	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00251	Z00154		If TempFeedbackOn != FeedbackOn OR TempPosition_L != Position_L then
Z00154
	CMPNE?BBB	_TempFeedbackOn, _FeedbackOn, T1
	CMPNE?NNB	_TempPosition_L, _Position_L, T2
	LOR?BBN	T1, T2, T2
	CMPF?NL	T2, L00013

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00252	Z00155			gosub		SetCursorLine2
Z00155
	GOSUB?L	_SetCursorLine2

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00253	Z00156			If FeedbackOn=Yes then
Z00156
	CMPNE?BCL	_FeedbackOn, _Yes, L00015

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00254	Z00157				I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["Position*: "]
Z00157
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	050h
	I2CWRITE?C	06Fh
	I2CWRITE?C	073h
	I2CWRITE?C	069h
	I2CWRITE?C	074h
	I2CWRITE?C	069h
	I2CWRITE?C	06Fh
	I2CWRITE?C	06Eh
	I2CWRITE?C	02Ah
	I2CWRITE?C	03Ah
	I2CWRITES?C	020h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00255	Z00158				Characters = 11
Z00158
	MOVE?CB	00Bh, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00256	Z00159			Else
Z00159
	GOTO?L	L00016
	LABEL?L	L00015	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00257	Z0015A				I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["Position: "]
Z0015A
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	050h
	I2CWRITE?C	06Fh
	I2CWRITE?C	073h
	I2CWRITE?C	069h
	I2CWRITE?C	074h
	I2CWRITE?C	069h
	I2CWRITE?C	06Fh
	I2CWRITE?C	06Eh
	I2CWRITE?C	03Ah
	I2CWRITES?C	020h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00258	Z0015B				Characters = 10
Z0015B
	MOVE?CB	00Ah, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00259	Z0015C			EndIf
Z0015C
	LABEL?L	L00016	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00260	Z0015D			Number_L = 	Position_L
Z0015D
	MOVE?NN	_Position_L, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00261	Z0015E			gosub		WriteNumber_L
Z0015E
	GOSUB?L	_WriteNumber_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00262	Z0015F			If (Position_L+C>=MaxPos_L) OR (Position_L-C<=MinPos_L) then  ; indicate motor at limit
Z0015F
	ADD?NCN	_Position_L, _C, T1
	CMPGE?NNB	T1, _MaxPos_L, T1
	SUB?NCN	_Position_L, _C, T2
	CMPLE?NNB	T2, _MinPos_L, T2
	LOR?BBN	T1, T2, T2
	CMPF?NL	T2, L00017

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00263	Z00160				gosub   WriteSpace
Z00160
	GOSUB?L	_WriteSpace

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00264	Z00161				gosub   WriteExclamation
Z00161
	GOSUB?L	_WriteExclamation

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00265	Z00162			EndIf
Z00162
	LABEL?L	L00017	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00266	Z00163			gosub		FillLine
Z00163
	GOSUB?L	_FillLine

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00267	Z00164			TempPosition_L = Position_L
Z00164
	MOVE?NN	_Position_L, _TempPosition_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00268	Z00165			TempFeedbackOn = FeedbackOn
Z00165
	MOVE?BB	_FeedbackOn, _TempFeedbackOn

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00269	Z00166		EndIf
Z00166
	LABEL?L	L00013	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00270	Z00167	Return
Z00167
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00273	Z00168	PrintSetpoint:
Z00168

	LABEL?L	_PrintSetpoint	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00274	Z00169		If TempSetpoint_L != Setpoint_L then
Z00169
	CMPEQ?NNL	_TempSetpoint_L, _Setpoint_L, L00019

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00275	Z0016A			I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["Setpoint: "]
Z0016A
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	053h
	I2CWRITE?C	065h
	I2CWRITE?C	074h
	I2CWRITE?C	070h
	I2CWRITE?C	06Fh
	I2CWRITE?C	069h
	I2CWRITE?C	06Eh
	I2CWRITE?C	074h
	I2CWRITE?C	03Ah
	I2CWRITES?C	020h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00276	Z0016B			Characters = 10
Z0016B
	MOVE?CB	00Ah, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00277	Z0016C			Number_L =	Setpoint_L
Z0016C
	MOVE?NN	_Setpoint_L, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00278	Z0016D			gosub		WriteNumber_L
Z0016D
	GOSUB?L	_WriteNumber_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00279	Z0016E			gosub		FillLine
Z0016E
	GOSUB?L	_FillLine

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00280	Z0016F			TempSetpoint_L = Setpoint_L
Z0016F
	MOVE?NN	_Setpoint_L, _TempSetpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00281	Z00170		EndIf
Z00170
	LABEL?L	L00019	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00282	Z00171	Return
Z00171
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00285	Z00172	PrintEmpty:
Z00172

	LABEL?L	_PrintEmpty	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00286	Z00173		Characters = 0
Z00173
	MOVE?CB	000h, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00287	Z00174		gosub	FillLine
Z00174
	GOSUB?L	_FillLine

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00288	Z00175	Return
Z00175
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00290	Z00176	WriteNumber_L:
Z00176

	LABEL?L	_WriteNumber_L	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00291	Z00177		L = Number_L/C             ; convert internal counts to user steps
Z00177
	DIV?NCN	_Number_L, _C, _L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00292	Z00178		If L<0 then
Z00178
	CMPGE?NCL	_L, 000h, L00021

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00293	Z00179			gosub	WriteNegative
Z00179
	GOSUB?L	_WriteNegative

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00294	Z0017A			L = abs L
Z0017A
	ABS?NN	_L, _L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00295	Z0017B		EndIf	
Z0017B
	LABEL?L	L00021	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00296	Z0017C		If L > 999999 then
Z0017C
	CMPLE?NCL	_L, 0000F423Fh, L00023

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00297	Z0017D			millions = L/1000000
Z0017D
	DIV?NCB	_L, 0000F4240h, _millions

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00298	Z0017E			hundredthousands = (L-1000000*millions)/100000	 									
Z0017E
	MUL?CBN	0000F4240h, _millions, T1
	SUB?NNN	_L, T1, T1
	DIV?NCB	T1, 0000186A0h, _hundredthousands

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00299	Z0017F			tenthousands = (L-1000000*millions-100000*hundredthousands)/10000	
Z0017F
	MUL?CBN	0000F4240h, _millions, T1
	SUB?NNN	_L, T1, T1
	MUL?CBN	0000186A0h, _hundredthousands, T2
	SUB?NNN	T1, T2, T2
	DIV?NCB	T2, 000002710h, _tenthousands

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00300	Z00180			thousands = (L-1000000*millions-100000*hundredthousands-10000*tenthousands)/1000													
Z00180
	MUL?CBN	0000F4240h, _millions, T1
	SUB?NNN	_L, T1, T1
	MUL?CBN	0000186A0h, _hundredthousands, T2
	SUB?NNN	T1, T2, T2
	MUL?CBN	000002710h, _tenthousands, T3
	SUB?NNN	T2, T3, T3
	DIV?NCB	T3, 0000003E8h, _thousands

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00301	Z00181			hundreds = (L-1000000*millions-100000*hundredthousands-10000*tenthousands-1000*thousands)/100									
Z00181
	MUL?CBN	0000F4240h, _millions, T1
	SUB?NNN	_L, T1, T1
	MUL?CBN	0000186A0h, _hundredthousands, T2
	SUB?NNN	T1, T2, T2
	MUL?CBN	000002710h, _tenthousands, T3
	SUB?NNN	T2, T3, T3
	MUL?CBN	0000003E8h, _thousands, T4
	SUB?NNN	T3, T4, T4
	DIV?NCB	T4, 064h, _hundreds

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00302	Z00182			tens = (L-1000000*millions-100000*hundredthousands-10000*tenthousands-1000*thousands-100*hundreds)/10				
Z00182
	MUL?CBN	0000F4240h, _millions, T1
	SUB?NNN	_L, T1, T1
	MUL?CBN	0000186A0h, _hundredthousands, T2
	SUB?NNN	T1, T2, T2
	MUL?CBN	000002710h, _tenthousands, T3
	SUB?NNN	T2, T3, T3
	MUL?CBN	0000003E8h, _thousands, T4
	SUB?NNN	T3, T4, T4
	MUL?CBN	064h, _hundreds, T5
	SUB?NNN	T4, T5, T5
	DIV?NCB	T5, 00Ah, _tens

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00303	Z00183			ones = L-1000000*millions-100000*hundredthousands-10000*tenthousands-1000*thousands-100*hundreds-10*tens
Z00183
	MUL?CBN	0000F4240h, _millions, T1
	SUB?NNN	_L, T1, T1
	MUL?CBN	0000186A0h, _hundredthousands, T2
	SUB?NNN	T1, T2, T2
	MUL?CBN	000002710h, _tenthousands, T3
	SUB?NNN	T2, T3, T3
	MUL?CBN	0000003E8h, _thousands, T4
	SUB?NNN	T3, T4, T4
	MUL?CBN	064h, _hundreds, T5
	SUB?NNN	T4, T5, T5
	MUL?CBN	00Ah, _tens, T6
	SUB?NNB	T5, T6, _ones

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00304	Z00184			Decimal = millions
Z00184
	MOVE?BB	_millions, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00305	Z00185			gosub	WriteDecimal
Z00185
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00306	Z00186			Decimal = hundredthousands
Z00186
	MOVE?BB	_hundredthousands, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00307	Z00187			gosub	WriteDecimal
Z00187
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00308	Z00188			Decimal = tenthousands
Z00188
	MOVE?BB	_tenthousands, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00309	Z00189			gosub	WriteDecimal
Z00189
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00310	Z0018A			Decimal = thousands
Z0018A
	MOVE?BB	_thousands, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00311	Z0018B			gosub	WriteDecimal
Z0018B
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00312	Z0018C			Decimal = hundreds
Z0018C
	MOVE?BB	_hundreds, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00313	Z0018D			gosub	WriteDecimal
Z0018D
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00314	Z0018E			Decimal = tens
Z0018E
	MOVE?BB	_tens, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00315	Z0018F			gosub	WriteDecimal
Z0018F
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00316	Z00190			Decimal = ones
Z00190
	MOVE?BB	_ones, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00317	Z00191			gosub	WriteDecimal
Z00191
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00318	Z00192			return
Z00192
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00319	Z00193		EndIf	
Z00193
	LABEL?L	L00023	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00320	Z00194		If L > 99999 then
Z00194
	CMPLE?NCL	_L, 00001869Fh, L00025

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00321	Z00195			hundredthousands = L/100000	 									
Z00195
	DIV?NCB	_L, 0000186A0h, _hundredthousands

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00322	Z00196			tenthousands = (L-100000*hundredthousands)/10000	
Z00196
	MUL?CBN	0000186A0h, _hundredthousands, T1
	SUB?NNN	_L, T1, T1
	DIV?NCB	T1, 000002710h, _tenthousands

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00323	Z00197			thousands = (L-100000*hundredthousands-10000*tenthousands)/1000													
Z00197
	MUL?CBN	0000186A0h, _hundredthousands, T1
	SUB?NNN	_L, T1, T1
	MUL?CBN	000002710h, _tenthousands, T2
	SUB?NNN	T1, T2, T2
	DIV?NCB	T2, 0000003E8h, _thousands

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00324	Z00198			hundreds = (L-100000*hundredthousands-10000*tenthousands-1000*thousands)/100									
Z00198
	MUL?CBN	0000186A0h, _hundredthousands, T1
	SUB?NNN	_L, T1, T1
	MUL?CBN	000002710h, _tenthousands, T2
	SUB?NNN	T1, T2, T2
	MUL?CBN	0000003E8h, _thousands, T3
	SUB?NNN	T2, T3, T3
	DIV?NCB	T3, 064h, _hundreds

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00325	Z00199			tens = (L-100000*hundredthousands-10000*tenthousands-1000*thousands-100*hundreds)/10				
Z00199
	MUL?CBN	0000186A0h, _hundredthousands, T1
	SUB?NNN	_L, T1, T1
	MUL?CBN	000002710h, _tenthousands, T2
	SUB?NNN	T1, T2, T2
	MUL?CBN	0000003E8h, _thousands, T3
	SUB?NNN	T2, T3, T3
	MUL?CBN	064h, _hundreds, T4
	SUB?NNN	T3, T4, T4
	DIV?NCB	T4, 00Ah, _tens

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00326	Z0019A			ones = L-100000*hundredthousands-10000*tenthousands-1000*thousands-100*hundreds-10*tens
Z0019A
	MUL?CBN	0000186A0h, _hundredthousands, T1
	SUB?NNN	_L, T1, T1
	MUL?CBN	000002710h, _tenthousands, T2
	SUB?NNN	T1, T2, T2
	MUL?CBN	0000003E8h, _thousands, T3
	SUB?NNN	T2, T3, T3
	MUL?CBN	064h, _hundreds, T4
	SUB?NNN	T3, T4, T4
	MUL?CBN	00Ah, _tens, T5
	SUB?NNB	T4, T5, _ones

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00327	Z0019B			Decimal = hundredthousands
Z0019B
	MOVE?BB	_hundredthousands, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00328	Z0019C			gosub	WriteDecimal
Z0019C
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00329	Z0019D			Decimal = tenthousands
Z0019D
	MOVE?BB	_tenthousands, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00330	Z0019E			gosub	WriteDecimal
Z0019E
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00331	Z0019F			Decimal = thousands
Z0019F
	MOVE?BB	_thousands, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00332	Z001A0			gosub	WriteDecimal
Z001A0
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00333	Z001A1			Decimal = hundreds
Z001A1
	MOVE?BB	_hundreds, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00334	Z001A2			gosub	WriteDecimal
Z001A2
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00335	Z001A3			Decimal = tens
Z001A3
	MOVE?BB	_tens, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00336	Z001A4			gosub	WriteDecimal
Z001A4
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00337	Z001A5			Decimal = ones
Z001A5
	MOVE?BB	_ones, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00338	Z001A6			gosub	WriteDecimal
Z001A6
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00339	Z001A7			return
Z001A7
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00340	Z001A8		EndIf
Z001A8
	LABEL?L	L00025	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00341	Z001A9		If L > 9999 then
Z001A9
	CMPLE?NCL	_L, 00000270Fh, L00027

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00342	Z001AA			tenthousands = L/10000	
Z001AA
	DIV?NCB	_L, 000002710h, _tenthousands

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00343	Z001AB			thousands = (L-10000*tenthousands)/1000													
Z001AB
	MUL?CBN	000002710h, _tenthousands, T1
	SUB?NNN	_L, T1, T1
	DIV?NCB	T1, 0000003E8h, _thousands

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00344	Z001AC			hundreds = (L-10000*tenthousands-1000*thousands)/100									
Z001AC
	MUL?CBN	000002710h, _tenthousands, T1
	SUB?NNN	_L, T1, T1
	MUL?CBN	0000003E8h, _thousands, T2
	SUB?NNN	T1, T2, T2
	DIV?NCB	T2, 064h, _hundreds

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00345	Z001AD			tens = (L-10000*tenthousands-1000*thousands-100*hundreds)/10				
Z001AD
	MUL?CBN	000002710h, _tenthousands, T1
	SUB?NNN	_L, T1, T1
	MUL?CBN	0000003E8h, _thousands, T2
	SUB?NNN	T1, T2, T2
	MUL?CBN	064h, _hundreds, T3
	SUB?NNN	T2, T3, T3
	DIV?NCB	T3, 00Ah, _tens

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00346	Z001AE			ones = L-10000*tenthousands-1000*thousands-100*hundreds-10*tens
Z001AE
	MUL?CBN	000002710h, _tenthousands, T1
	SUB?NNN	_L, T1, T1
	MUL?CBN	0000003E8h, _thousands, T2
	SUB?NNN	T1, T2, T2
	MUL?CBN	064h, _hundreds, T3
	SUB?NNN	T2, T3, T3
	MUL?CBN	00Ah, _tens, T4
	SUB?NNB	T3, T4, _ones

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00347	Z001AF			Decimal = tenthousands
Z001AF
	MOVE?BB	_tenthousands, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00348	Z001B0			gosub	WriteDecimal
Z001B0
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00349	Z001B1			Decimal = thousands
Z001B1
	MOVE?BB	_thousands, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00350	Z001B2			gosub	WriteDecimal
Z001B2
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00351	Z001B3			Decimal = hundreds
Z001B3
	MOVE?BB	_hundreds, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00352	Z001B4			gosub	WriteDecimal
Z001B4
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00353	Z001B5			Decimal = tens
Z001B5
	MOVE?BB	_tens, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00354	Z001B6			gosub	WriteDecimal
Z001B6
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00355	Z001B7			Decimal = ones
Z001B7
	MOVE?BB	_ones, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00356	Z001B8			gosub	WriteDecimal
Z001B8
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00357	Z001B9			return
Z001B9
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00358	Z001BA		EndIf
Z001BA
	LABEL?L	L00027	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00359	Z001BB		If L > 999 then
Z001BB
	CMPLE?NCL	_L, 0000003E7h, L00029

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00360	Z001BC			thousands = L/1000													
Z001BC
	DIV?NCB	_L, 0000003E8h, _thousands

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00361	Z001BD			hundreds = (L-1000*thousands)/100									
Z001BD
	MUL?CBN	0000003E8h, _thousands, T1
	SUB?NNN	_L, T1, T1
	DIV?NCB	T1, 064h, _hundreds

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00362	Z001BE			tens = (L-1000*thousands-100*hundreds)/10				
Z001BE
	MUL?CBN	0000003E8h, _thousands, T1
	SUB?NNN	_L, T1, T1
	MUL?CBN	064h, _hundreds, T2
	SUB?NNN	T1, T2, T2
	DIV?NCB	T2, 00Ah, _tens

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00363	Z001BF			ones = L-1000*thousands-100*hundreds-10*tens
Z001BF
	MUL?CBN	0000003E8h, _thousands, T1
	SUB?NNN	_L, T1, T1
	MUL?CBN	064h, _hundreds, T2
	SUB?NNN	T1, T2, T2
	MUL?CBN	00Ah, _tens, T3
	SUB?NNB	T2, T3, _ones

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00364	Z001C0			Decimal = thousands
Z001C0
	MOVE?BB	_thousands, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00365	Z001C1			gosub	WriteDecimal
Z001C1
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00366	Z001C2			Decimal = hundreds
Z001C2
	MOVE?BB	_hundreds, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00367	Z001C3			gosub	WriteDecimal
Z001C3
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00368	Z001C4			Decimal = tens
Z001C4
	MOVE?BB	_tens, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00369	Z001C5			gosub	WriteDecimal
Z001C5
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00370	Z001C6			Decimal = ones
Z001C6
	MOVE?BB	_ones, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00371	Z001C7			gosub	WriteDecimal
Z001C7
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00372	Z001C8			return
Z001C8
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00373	Z001C9		EndIf
Z001C9
	LABEL?L	L00029	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00374	Z001CA		If L > 99 then
Z001CA
	CMPLE?NCL	_L, 063h, L00031

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00375	Z001CB			hundreds = L/100									
Z001CB
	DIV?NCB	_L, 064h, _hundreds

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00376	Z001CC			tens = (L-100*hundreds)/10				
Z001CC
	MUL?CBN	064h, _hundreds, T1
	SUB?NNN	_L, T1, T1
	DIV?NCB	T1, 00Ah, _tens

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00377	Z001CD			ones = L-100*hundreds-10*tens
Z001CD
	MUL?CBN	064h, _hundreds, T1
	SUB?NNN	_L, T1, T1
	MUL?CBN	00Ah, _tens, T2
	SUB?NNB	T1, T2, _ones

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00378	Z001CE			Decimal = hundreds
Z001CE
	MOVE?BB	_hundreds, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00379	Z001CF			gosub	WriteDecimal
Z001CF
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00380	Z001D0			Decimal = tens
Z001D0
	MOVE?BB	_tens, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00381	Z001D1			gosub	WriteDecimal
Z001D1
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00382	Z001D2			Decimal = ones
Z001D2
	MOVE?BB	_ones, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00383	Z001D3			gosub	WriteDecimal
Z001D3
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00384	Z001D4			return
Z001D4
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00385	Z001D5		EndIf
Z001D5
	LABEL?L	L00031	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00386	Z001D6		If L > 9 then				; 2 significant figures
Z001D6
	CMPLE?NCL	_L, 009h, L00033

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00387	Z001D7			tens = L/10				
Z001D7
	DIV?NCB	_L, 00Ah, _tens

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00388	Z001D8			ones = L-10*tens
Z001D8
	MUL?CBN	00Ah, _tens, T1
	SUB?NNB	_L, T1, _ones

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00389	Z001D9			Decimal = tens
Z001D9
	MOVE?BB	_tens, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00390	Z001DA			gosub	WriteDecimal
Z001DA
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00391	Z001DB			Decimal = ones
Z001DB
	MOVE?BB	_ones, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00392	Z001DC			gosub	WriteDecimal
Z001DC
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00393	Z001DD			return
Z001DD
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00394	Z001DE		EndIf
Z001DE
	LABEL?L	L00033	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00395	Z001DF		Decimal = L					; 1 significant figure
Z001DF
	MOVE?NB	_L, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00396	Z001E0		gosub	WriteDecimal
Z001E0
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00397	Z001E1	Return
Z001E1
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00400	Z001E2	WriteNumber_W:
Z001E2

	LABEL?L	_WriteNumber_W	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00401	Z001E3		If Number_W.15=1 then
Z001E3
	CMPNE?TCL	_Number_W??15, 001h, L00035

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00402	Z001E4			gosub	WriteNegative
Z001E4
	GOSUB?L	_WriteNegative

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00403	Z001E5			W = abs Number_W
Z001E5
	ABS?WW	_Number_W, _W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00404	Z001E6		Else
Z001E6
	GOTO?L	L00036
	LABEL?L	L00035	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00405	Z001E7			W = Number_W
Z001E7
	MOVE?WW	_Number_W, _W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00406	Z001E8		EndIf	 									
Z001E8
	LABEL?L	L00036	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00407	Z001E9		tenthousands = W/10000
Z001E9
	DIV?WCB	_W, 000002710h, _tenthousands

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00408	Z001EA		thousands = (W-10000*tenthousands)/1000													
Z001EA
	MUL?CBN	000002710h, _tenthousands, T1
	SUB?WNN	_W, T1, T1
	DIV?NCB	T1, 0000003E8h, _thousands

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00409	Z001EB		hundreds = (W-10000*tenthousands-1000*thousands)/100									
Z001EB
	MUL?CBN	000002710h, _tenthousands, T1
	SUB?WNN	_W, T1, T1
	MUL?CBN	0000003E8h, _thousands, T2
	SUB?NNN	T1, T2, T2
	DIV?NCB	T2, 064h, _hundreds

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00410	Z001EC		tens = (W-10000*tenthousands-1000*thousands-100*hundreds)/10				
Z001EC
	MUL?CBN	000002710h, _tenthousands, T1
	SUB?WNN	_W, T1, T1
	MUL?CBN	0000003E8h, _thousands, T2
	SUB?NNN	T1, T2, T2
	MUL?CBN	064h, _hundreds, T3
	SUB?NNN	T2, T3, T3
	DIV?NCB	T3, 00Ah, _tens

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00411	Z001ED		ones = W-10000*tenthousands-1000*thousands-100*hundreds-10*tens
Z001ED
	MUL?CBN	000002710h, _tenthousands, T1
	SUB?WNN	_W, T1, T1
	MUL?CBN	0000003E8h, _thousands, T2
	SUB?NNN	T1, T2, T2
	MUL?CBN	064h, _hundreds, T3
	SUB?NNN	T2, T3, T3
	MUL?CBN	00Ah, _tens, T4
	SUB?NNB	T3, T4, _ones

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00412	Z001EE		If W > 9999 then
Z001EE
	CMPLE?WCL	_W, 00000270Fh, L00037

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00413	Z001EF			Decimal = tenthousands
Z001EF
	MOVE?BB	_tenthousands, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00414	Z001F0			gosub	WriteDecimal
Z001F0
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00415	Z001F1			Decimal = thousands
Z001F1
	MOVE?BB	_thousands, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00416	Z001F2			gosub	WriteDecimal
Z001F2
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00417	Z001F3			Decimal = hundreds
Z001F3
	MOVE?BB	_hundreds, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00418	Z001F4			gosub	WriteDecimal
Z001F4
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00419	Z001F5			Decimal = tens
Z001F5
	MOVE?BB	_tens, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00420	Z001F6			gosub	WriteDecimal
Z001F6
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00421	Z001F7			Decimal = ones
Z001F7
	MOVE?BB	_ones, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00422	Z001F8			gosub	WriteDecimal
Z001F8
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00423	Z001F9			return
Z001F9
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00424	Z001FA		endif
Z001FA
	LABEL?L	L00037	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00425	Z001FB		if W > 999	then		; 4 significant figures
Z001FB
	CMPLE?WCL	_W, 0000003E7h, L00039

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00426	Z001FC			Decimal = thousands
Z001FC
	MOVE?BB	_thousands, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00427	Z001FD			gosub	WriteDecimal
Z001FD
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00428	Z001FE			Decimal = hundreds
Z001FE
	MOVE?BB	_hundreds, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00429	Z001FF			gosub	WriteDecimal
Z001FF
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00430	Z00200			Decimal = tens
Z00200
	MOVE?BB	_tens, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00431	Z00201			gosub	WriteDecimal
Z00201
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00432	Z00202			Decimal = ones
Z00202
	MOVE?BB	_ones, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00433	Z00203			gosub	WriteDecimal
Z00203
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00434	Z00204			return
Z00204
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00435	Z00205		endif
Z00205
	LABEL?L	L00039	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00436	Z00206		if  W > 99	then		; 3 significant figures
Z00206
	CMPLE?WCL	_W, 063h, L00041

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00437	Z00207			Decimal = hundreds
Z00207
	MOVE?BB	_hundreds, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00438	Z00208			gosub	WriteDecimal
Z00208
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00439	Z00209			Decimal = tens
Z00209
	MOVE?BB	_tens, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00440	Z0020A			gosub	WriteDecimal
Z0020A
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00441	Z0020B			Decimal = ones
Z0020B
	MOVE?BB	_ones, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00442	Z0020C			gosub	WriteDecimal
Z0020C
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00443	Z0020D			return
Z0020D
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00444	Z0020E		endif
Z0020E
	LABEL?L	L00041	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00445	Z0020F		if 	W > 9		then		; 2 significant figures
Z0020F
	CMPLE?WCL	_W, 009h, L00043

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00446	Z00210			Decimal = tens
Z00210
	MOVE?BB	_tens, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00447	Z00211			gosub	WriteDecimal
Z00211
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00448	Z00212			Decimal = ones
Z00212
	MOVE?BB	_ones, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00449	Z00213			gosub	WriteDecimal
Z00213
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00450	Z00214			return
Z00214
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00451	Z00215		endif
Z00215
	LABEL?L	L00043	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00452	Z00216		Decimal = ones				; 1 significant figure
Z00216
	MOVE?BB	_ones, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00453	Z00217		gosub	WriteDecimal
Z00217
	GOSUB?L	_WriteDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00454	Z00218	Return
Z00218
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00457	Z00219	FillLine:											; fill line with empty spaces based on the value of the 'Characters' variable
Z00219

	LABEL?L	_FillLine	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00458	Z0021A	    If Characters < 20 then
Z0021A
	CMPGE?BCL	_Characters, 014h, L00045

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00459	Z0021B	        NumSpaces = 20-Characters
Z0021B
	SUB?CBB	014h, _Characters, _NumSpaces

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00460	Z0021C	        gosub	WriteSpaces
Z0021C
	GOSUB?L	_WriteSpaces

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00461	Z0021D	    EndIf
Z0021D
	LABEL?L	L00045	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00462	Z0021E	Return
Z0021E
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00464	Z0021F	WriteDecimal:											; set byte 'D' before entering this subroutine, 0-9 valid range
Z0021F

	LABEL?L	_WriteDecimal	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00465	Z00220		Ascii	=	"?"										; remains this value if D not found in the list... (D>9)
Z00220
	MOVE?CB	03Fh, _Ascii

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00466	Z00221		Lookup	Decimal,["0123456789"],Ascii				; A assigned to Dth element in the string
Z00221
	LOOKUP?BCLB	_Decimal, 00Ah, L00001, _Ascii
	LURET?C	030h
	LURET?C	031h
	LURET?C	032h
	LURET?C	033h
	LURET?C	034h
	LURET?C	035h
	LURET?C	036h
	LURET?C	037h
	LURET?C	038h
	LURET?C	039h

	LABEL?L	L00001	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00467	Z00222		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,[Ascii]	; and write to LCD screen
Z00222
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITES?B	_Ascii

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00468	Z00223		Characters = Characters + 1
Z00223
	ADD?BCB	_Characters, 001h, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00469	Z00224	Return
Z00224
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00471	Z00225	ClearLCD:
Z00225

	LABEL?L	_ClearLCD	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00472	Z00226		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,LCDprefix,[ClearScreen]
Z00226
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	_LCDprefix
	I2CWRITES?C	_ClearScreen

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00473	Z00227		pause		5		; command takes 1.5ms to complete, but the LCD seems cranky
Z00227
	PAUSE?C	005h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00474	Z00228		Characters = 0
Z00228
	MOVE?CB	000h, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00475	Z00229	Return
Z00229
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00477	Z0022A	WriteSlash:
Z0022A

	LABEL?L	_WriteSlash	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00478	Z0022B		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["/"]
Z0022B
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITES?C	02Fh

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00479	Z0022C		Characters = Characters + 1
Z0022C
	ADD?BCB	_Characters, 001h, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00480	Z0022D	Return
Z0022D
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00482	Z0022E	WritePercent:
Z0022E

	LABEL?L	_WritePercent	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00483	Z0022F		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["%"]
Z0022F
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITES?C	025h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00484	Z00230		Characters = Characters + 1
Z00230
	ADD?BCB	_Characters, 001h, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00485	Z00231	Return
Z00231
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00487	Z00232	WriteSpace:
Z00232

	LABEL?L	_WriteSpace	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00488	Z00233		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,[" "]
Z00233
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITES?C	020h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00489	Z00234		Characters = Characters + 1
Z00234
	ADD?BCB	_Characters, 001h, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00490	Z00235	Return
Z00235
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00492	Z00236	WriteExclamation:
Z00236

	LABEL?L	_WriteExclamation	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00493	Z00237		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["!"]
Z00237
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITES?C	021h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00494	Z00238		Characters = Characters + 1
Z00238
	ADD?BCB	_Characters, 001h, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00495	Z00239	Return
Z00239
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00497	Z0023A	WriteColon:
Z0023A

	LABEL?L	_WriteColon	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00498	Z0023B		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,[":"]
Z0023B
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITES?C	03Ah

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00499	Z0023C		Characters = Characters + 1
Z0023C
	ADD?BCB	_Characters, 001h, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00500	Z0023D	Return
Z0023D
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00502	Z0023E	WriteAsterisk:
Z0023E

	LABEL?L	_WriteAsterisk	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00503	Z0023F		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["*"]
Z0023F
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITES?C	02Ah

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00504	Z00240		Characters = Characters + 1
Z00240
	ADD?BCB	_Characters, 001h, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00505	Z00241	Return
Z00241
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00507	Z00242	WriteNegative:
Z00242

	LABEL?L	_WriteNegative	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00508	Z00243		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["-"]
Z00243
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITES?C	02Dh

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00509	Z00244		Characters = Characters + 1
Z00244
	ADD?BCB	_Characters, 001h, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00510	Z00245	Return
Z00245
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00512	Z00246	WriteSpaces:					; set variable NumSpaces before calling this subroutine
Z00246

	LABEL?L	_WriteSpaces	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00513	Z00247		For j=1 to NumSpaces
Z00247
	MOVE?CW	001h, _j
	LABEL?L	L00047	
	CMPGT?WBL	_j, _NumSpaces, L00048

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00514	Z00248			gosub	WriteSpace
Z00248
	GOSUB?L	_WriteSpace

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00515	Z00249		next j
Z00249
	NEXT?WCL	_j, 001h, L00047
	LABEL?L	L00048	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00516	Z0024A	Return
Z0024A
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00518	Z0024B	SetCursorLine1:
Z0024B

	LABEL?L	_SetCursorLine1	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00519	Z0024C		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,LCDprefix,[SetCursor,Line1]
Z0024C
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	_LCDprefix
	I2CWRITE?C	_SetCursor
	I2CWRITES?C	_Line1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00520	Z0024D		Characters = 0
Z0024D
	MOVE?CB	000h, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00521	Z0024E		pause		2
Z0024E
	PAUSE?C	002h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00522	Z0024F	Return
Z0024F
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00524	Z00250	SetCursorLine2:
Z00250

	LABEL?L	_SetCursorLine2	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00525	Z00251		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,LCDprefix,[SetCursor,Line2]
Z00251
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	_LCDprefix
	I2CWRITE?C	_SetCursor
	I2CWRITES?C	_Line2

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00526	Z00252		Characters = 0
Z00252
	MOVE?CB	000h, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00527	Z00253		pause		2
Z00253
	PAUSE?C	002h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00528	Z00254	Return
Z00254
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00530	Z00255	SetCursorLine3:
Z00255

	LABEL?L	_SetCursorLine3	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00531	Z00256		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,LCDprefix,[SetCursor,Line3]
Z00256
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	_LCDprefix
	I2CWRITE?C	_SetCursor
	I2CWRITES?C	_Line3

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00532	Z00257		Characters = 0
Z00257
	MOVE?CB	000h, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00533	Z00258		pause		2
Z00258
	PAUSE?C	002h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00534	Z00259	Return
Z00259
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00536	Z0025A	SetCursorLine4:
Z0025A

	LABEL?L	_SetCursorLine4	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00537	Z0025B		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,LCDprefix,[SetCursor,Line4]
Z0025B
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	_LCDprefix
	I2CWRITE?C	_SetCursor
	I2CWRITES?C	_Line4

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00538	Z0025C		Characters = 0
Z0025C
	MOVE?CB	000h, _Characters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00539	Z0025D		pause		2
Z0025D
	PAUSE?C	002h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00540	Z0025E	Return
Z0025E
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00542	Z0025F	LCD_Done:
Z0025F

	LABEL?L	_LCD_Done	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\LCD.PBP	00544	Z00260	Enable Interrupt
Z00260
	IENABLE?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00028	Z00261	include "Includes\RTC.pbp"						; DS3231M I2C RTC
Z00261

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00001	Z00262	Disable Interrupt
Z00262
	IDISABLE?	
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00021	Z00263	rtcSecondsREG		CON		$00			; variable rtcAddress gets set to one of these for reading/writing	
Z00263
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00022	Z00264	rtcMinutesREG		CON		$01			; burst read/write is predominantly used for this application
Z00264
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00023	Z00265	rtcHoursREG			CON		$02
Z00265
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00024	Z00266	rtcDayREG			CON		$03		
Z00266
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00025	Z00267	rtcDateREG			CON		$04
Z00267
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00026	Z00268	rtcMonthsREG		CON		$05		
Z00268
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00027	Z00269	rtcYearsREG			CON		$06
Z00269
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00028	Z0026A	rtcAlarm1SecsREG	CON		$07
Z0026A
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00029	Z0026B	rtcAlarm1MinsREG	CON		$08
Z0026B
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00030	Z0026C	rtcAlarm1HoursREG	CON		$09
Z0026C
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00031	Z0026D	rtcAlarm1DaysREG	CON		$0A
Z0026D
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00032	Z0026E	rtcAlarm2MinsREG	CON		$0B
Z0026E
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00033	Z0026F	rtcAlarm2HoursREG	CON		$0C
Z0026F
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00034	Z00270	rtcAlarm2DaysREG	CON		$0D
Z00270
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00035	Z00271	rtcControlREG		CON		$0E
Z00271
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00036	Z00272	rtcStatusREG		CON		$0F
Z00272
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00037	Z00273	rtcAgingREG			CON		$10
Z00273
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00038	Z00274	rtcTempMSBREG		CON		$11
Z00274
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00039	Z00275	rtcTempLSBREG		CON		$12
Z00275

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00041	Z00276	goto	RTC_Done		'jump over subroutines so that they don't evaluate on startup
Z00276
	GOTO?L	_RTC_Done

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00047	Z00277	SetupRTC:	
Z00277

	LABEL?L	_SetupRTC	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00048	Z00278		rtcControl 	=	$00	; enable osc, no square wave on battery, 1Hz on pin 3, no alarm1, no alarm2
Z00278
	MOVE?CB	000h, _rtcControl

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00049	Z00279		rtcStatus	=	%00001000 ; oscillator time now valid, yes 32kHz output, not busy, no alarm conditions
Z00279
	MOVE?CB	008h, _rtcStatus

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00050	Z0027A		rtcAging	=	$00	; no aging oscillator correction when first set up
Z0027A
	MOVE?CB	000h, _rtcAging

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00051	Z0027B		I2Cwrite		I2Cdata,I2Cclk,rtcI2Caddress,rtcControlREG,[rtcControl,rtcStatus,rtcAging]
Z0027B
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_rtcI2Caddress
	I2CWRITE?C	_rtcControlREG
	I2CWRITE?B	_rtcControl
	I2CWRITE?B	_rtcStatus
	I2CWRITES?B	_rtcAging

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00052	Z0027C		pause	10										
Z0027C
	PAUSE?C	00Ah

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00053	Z0027D	Return
Z0027D
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00056	Z0027E	UpdateRTC:						; BURST WRITE
Z0027E

	LABEL?L	_UpdateRTC	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00057	Z0027F		for i=0 to TimeLength-1
Z0027F
	MOVE?CW	000h, _i
	LABEL?L	L00049	
	CMPGT?WCL	_i, 002h, L00050

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00058	Z00280			TimeBCD[i] = (Time[i]/10)<<4 + (Time[i]-10*(Time[i]/10))
Z00280
	AOUT?BWB	_Time, _i, T1
	DIV?BCN	T1, 00Ah, T1
	SHIFTL?NCN	T1, 004h, T1
	AOUT?BWB	_Time, _i, T2
	AOUT?BWB	_Time, _i, T3
	DIV?BCN	T3, 00Ah, T3
	MUL?CNN	00Ah, T3, T3
	SUB?BNN	T2, T3, T3
	ADD?NNN	T1, T3, T3
	AIN?NBW	T3, _TimeBCD, _i

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00059	Z00281		next i
Z00281
	NEXT?WCL	_i, 001h, L00049
	LABEL?L	L00050	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00060	Z00282		I2Cwrite	I2Cdata,I2Cclk,rtcI2Caddress,rtcSecondsREG,[STR TimeBCD \TimeLength]
Z00282
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_rtcI2Caddress
	I2CWRITE?C	_rtcSecondsREG
	I2CCOUNT?C	_TimeLength
	I2CWRITESTRS?B	_TimeBCD

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00061	Z00283		pause 10
Z00283
	PAUSE?C	00Ah

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00062	Z00284	Return
Z00284
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00065	Z00285	ReadRTC:						; BURST READ
Z00285

	LABEL?L	_ReadRTC	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00066	Z00286		I2Cread		I2Cdata,I2Cclk,rtcI2Caddress,rtcSecondsREG,[STR TimeBCD \TimeLength]
Z00286
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_rtcI2Caddress
	I2CWRITE?C	_rtcSecondsREG
	I2CCOUNT?C	_TimeLength
	I2CREADSTRS?B	_TimeBCD

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00068	Z00287		for i=0 to TimeLength-1
Z00287
	MOVE?CW	000h, _i
	LABEL?L	L00051	
	CMPGT?WCL	_i, 002h, L00052

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00069	Z00288			Time[i] = 10*(TimeBCD[i]>>4) + (TimeBCD[i] & $0F)	
Z00288
	AOUT?BWB	_TimeBCD, _i, T1
	SHIFTR?BCN	T1, 004h, T1
	MUL?CNN	00Ah, T1, T1
	AOUT?BWB	_TimeBCD, _i, T2
	AND?BCN	T2, 00Fh, T2
	ADD?NNN	T1, T2, T2
	AIN?NBW	T2, _Time, _i

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00070	Z00289		next i
Z00289
	NEXT?WCL	_i, 001h, L00051
	LABEL?L	L00052	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00071	Z0028A	Return
Z0028A
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00074	Z0028B	RTC_Done:
Z0028B

	LABEL?L	_RTC_Done	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\RTC.PBP	00076	Z0028C	Enable Interrupt
Z0028C
	IENABLE?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00029	Z0028D	include "Includes\EEPROM.pbp"					; 24AA1025 external EEPROM, for saving settings and {time,position} pairs
Z0028D

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\EEPROM.PBP	00001	Z0028E	Disable Interrupt
Z0028E
	IDISABLE?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\EEPROM.PBP	00010	Z0028F	goto	EEPROM_Done						; jump over subroutines so they don't evaluate on startup
Z0028F
	GOTO?L	_EEPROM_Done

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\EEPROM.PBP	00016	Z00290	SaveSettings:												; save off current variable settings to EEPROM to reload (if power is removed and then 
Z00290

	LABEL?L	_SaveSettings	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\EEPROM.PBP	00017	Z00291		eeAddress = 0
Z00291
	MOVE?CW	000h, _eeAddress

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\EEPROM.PBP	00019	Z00292													DoTriggers_W,STR DoTime \TimeLength,Steps_L,Rotate_L,FeedbackOn,StepStyle,AtLimit,State]
Z00292
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_eeI2Cbot
	I2CWRITE?W	_eeAddress
	I2CWRITE?N	_Position_L
	I2CWRITE?B	_OpMode
	I2CWRITE?W	_Delay_W
	I2CWRITE?N	_Setpoint_L
	I2CWRITE?N	_Destination_L
	I2CWRITE?N	_MinPos_L
	I2CWRITE?N	_MaxPos_L
	I2CWRITE?W	_DoTriggers_W
	I2CCOUNT?C	_TimeLength
	I2CWRITESTR?B	_DoTime
	I2CWRITE?N	_Steps_L
	I2CWRITE?N	_Rotate_L
	I2CWRITE?B	_FeedbackOn
	I2CWRITE?B	_StepStyle
	I2CWRITE?B	_AtLimit
	I2CWRITES?T	_State

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\EEPROM.PBP	00020	Z00293		pause	10
Z00293
	PAUSE?C	00Ah

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\EEPROM.PBP	00021	Z00294	Return
Z00294
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\EEPROM.PBP	00023	Z00295	RestoreSettings:
Z00295

	LABEL?L	_RestoreSettings	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\EEPROM.PBP	00024	Z00296		eeAddress = 0						
Z00296
	MOVE?CW	000h, _eeAddress

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\EEPROM.PBP	00026	Z00297													DoTriggers_W,STR DoTime \TimeLength,Steps_L,Rotate_L,FeedbackOn,StepStyle,AtLimit,State]												
Z00297
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_eeI2Cbot
	I2CWRITE?W	_eeAddress
	I2CREAD?N	_Position_L
	I2CREAD?B	_OpMode
	I2CREAD?W	_Delay_W
	I2CREAD?N	_Setpoint_L
	I2CREAD?N	_Destination_L
	I2CREAD?N	_MinPos_L
	I2CREAD?N	_MaxPos_L
	I2CREAD?W	_DoTriggers_W
	I2CCOUNT?C	_TimeLength
	I2CREADSTR?B	_DoTime
	I2CREAD?N	_Steps_L
	I2CREAD?N	_Rotate_L
	I2CREAD?B	_FeedbackOn
	I2CREAD?B	_StepStyle
	I2CREAD?B	_AtLimit
	I2CREADS?T	_State

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\EEPROM.PBP	00027	Z00298	Return
Z00298
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\EEPROM.PBP	00030	Z00299	SavePosition:												; save off just the position
Z00299

	LABEL?L	_SavePosition	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\EEPROM.PBP	00031	Z0029A		eeAddress = 0
Z0029A
	MOVE?CW	000h, _eeAddress

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\EEPROM.PBP	00032	Z0029B		I2CWRITE I2Cdata,I2Cclk,eeI2Cbot,eeAddress,[Position_L]
Z0029B
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_eeI2Cbot
	I2CWRITE?W	_eeAddress
	I2CWRITES?N	_Position_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\EEPROM.PBP	00033	Z0029C	Return
Z0029C
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\EEPROM.PBP	00037	Z0029D	EEPROM_Done:
Z0029D

	LABEL?L	_EEPROM_Done	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\EEPROM.PBP	00039	Z0029E	Enable Interrupt
Z0029E
	IENABLE?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00030	Z0029F	include "Includes\SerialCommunication.pbp"		; handle communication from the PC via the serial port
Z0029F

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00001	Z002A0	Disable Interrupt
Z002A0
	IDISABLE?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00002	Z002A1	goto	Serial_Done							; don't execute subroutines when code is loaded
Z002A1
	GOTO?L	_Serial_Done

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00005	Z002A2	PCrequest:
Z002A2

	LABEL?L	_PCrequest	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00006	Z002A3		hserin [B]							; bring in the byte that caused the interrupt
Z002A3
	HSERIN?B	_B

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00007	Z002A4		If B=Query then						; if the expected "?" character,
Z002A4
	CMPNE?BCL	_B, _Query, L00053

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00008	Z002A5			hserout [Ready]					; communicate that controller is ready to receive the command
Z002A5
	HSEROUT?C	_Ready

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00009	Z002A6		Else								; if not the expected character
Z002A6
	GOTO?L	L00054
	LABEL?L	L00053	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00010	Z002A7			hserout ["?",LF]				; communicate that controller is ready to receive the command
Z002A7
	HSEROUT?C	03Fh
	HSEROUT?C	_LF

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00011	Z002A8			goto	Leave					; exit		
Z002A8
	GOTO?L	_Leave

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00012	Z002A9		EndIf
Z002A9
	LABEL?L	L00054	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00014	Z002AA	ReceiveCommand:
Z002AA

	LABEL?L	_ReceiveCommand	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00015	Z002AB		CommandLength=0
Z002AB
	MOVE?CB	000h, _CommandLength

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00016	Z002AC		for i=0 to BufferLength-1
Z002AC
	MOVE?CW	000h, _i
	LABEL?L	L00055	
	CMPGT?WCL	_i, 01Fh, L00056

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00017	Z002AD			hserin 5000,CommandTimeout,[DataBuffer(i)]
Z002AD
	HSERINTIME?C	01388h
	HSERIN?NL	T1, _CommandTimeout
	AIN?BBW	T1, _DataBuffer, _i

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00018	Z002AE			If DataBuffer[0]="$" then 									; receiving a dollar sign is an indication that controller is 
Z002AE
	CMPNE?BCL	_DataBuffer, 024h, L00057

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00019	Z002AF				Number_L = 	Position_L
Z002AF
	MOVE?NN	_Position_L, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00020	Z002B0				gosub		SendNumber_L								; SendNumber_L divides number by C before sending (converts internal 
Z002B0
	GOSUB?L	_SendNumber_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00021	Z002B1				hserout		[LF]										; line feed ends communication sequence
Z002B1
	HSEROUT?C	_LF

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00022	Z002B2				goto		Leave
Z002B2
	GOTO?L	_Leave

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00023	Z002B3			EndIf
Z002B3
	LABEL?L	L00057	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00024	Z002B4			if (DataBuffer[i]=" ")  then ReceiveArgument				; space separates command from arguments
Z002B4
	AOUT?BWB	_DataBuffer, _i, T1
	CMPEQ?BCL	T1, 020h, _ReceiveArgument

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00025	Z002B5			if (DataBuffer[i]<97 OR DataBuffer[i]>122) then NoArgument	; anything else signifies a terminatio
Z002B5
	AOUT?BWB	_DataBuffer, _i, T1
	CMPLT?BCB	T1, 061h, T1
	AOUT?BWB	_DataBuffer, _i, T2
	CMPGT?BCB	T2, 07Ah, T2
	LOR?BBL	T1, T2, _NoArgument

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00026	Z002B6			CommandBuffer[i] = DataBuffer[i]							; unless it is lower case alphabetic
Z002B6
	AOUT?BWB	_DataBuffer, _i, T1
	AIN?BBW	T1, _CommandBuffer, _i

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00027	Z002B7			CommandLength = CommandLength+1								; then save it as a command byte and increment the length
Z002B7
	ADD?BCB	_CommandLength, 001h, _CommandLength

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00028	Z002B8		next i
Z002B8
	NEXT?WCL	_i, 001h, L00055
	LABEL?L	L00056	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00030	Z002B9	ReceiveArgument:
Z002B9

	LABEL?L	_ReceiveArgument	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00031	Z002BA		ArgumentLength=0
Z002BA
	MOVE?CB	000h, _ArgumentLength

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00032	Z002BB		hserin 2000,ArgumentTimeout,[B]						; first byte can be special (signify negative)
Z002BB
	HSERINTIME?C	007D0h
	HSERIN?BL	_B, _ArgumentTimeout

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00033	Z002BC		If B="-" then
Z002BC
	CMPNE?BCL	_B, 02Dh, L00059

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00034	Z002BD			Negative = Yes
Z002BD
	MOVE?CB	_Yes, _Negative

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00035	Z002BE			for i=1 to BufferLength-1
Z002BE
	MOVE?CW	001h, _i
	LABEL?L	L00061	
	CMPGT?WCL	_i, 01Fh, L00062

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00036	Z002BF				hserin 5000,ArgumentTimeout,[DataBuffer(i)]
Z002BF
	HSERINTIME?C	01388h
	HSERIN?NL	T1, _ArgumentTimeout
	AIN?BBW	T1, _DataBuffer, _i

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00037	Z002C0				if (DataBuffer[i]<48) OR (DataBuffer[i]>57)  then ArgumentDone	; any non-numeric character signi
Z002C0
	AOUT?BWB	_DataBuffer, _i, T1
	CMPLT?BCB	T1, 030h, T1
	AOUT?BWB	_DataBuffer, _i, T2
	CMPGT?BCB	T2, 039h, T2
	LOR?BBL	T1, T2, _ArgumentDone

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00038	Z002C1				ArgumentBuffer[i-1] = DataBuffer[i]
Z002C1
	SUB?WCN	_i, 001h, T2
	AOUT?BWB	_DataBuffer, _i, T1
	AIN?BBN	T1, _ArgumentBuffer, T2

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00039	Z002C2				ArgumentLength = ArgumentLength+1								
Z002C2
	ADD?BCB	_ArgumentLength, 001h, _ArgumentLength

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00040	Z002C3			next i
Z002C3
	NEXT?WCL	_i, 001h, L00061
	LABEL?L	L00062	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00041	Z002C4		Else
Z002C4
	GOTO?L	L00060
	LABEL?L	L00059	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00042	Z002C5			Negative = No
Z002C5
	MOVE?CB	_No, _Negative

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00043	Z002C6			ArgumentBuffer[0] = B
Z002C6
	MOVE?BB	_B, _ArgumentBuffer

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00044	Z002C7			ArgumentLength = ArgumentLength+1
Z002C7
	ADD?BCB	_ArgumentLength, 001h, _ArgumentLength

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00045	Z002C8			for i=1 to BufferLength-1
Z002C8
	MOVE?CW	001h, _i
	LABEL?L	L00063	
	CMPGT?WCL	_i, 01Fh, L00064

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00046	Z002C9				hserin 5000,ArgumentTimeout,[DataBuffer(i)]
Z002C9
	HSERINTIME?C	01388h
	HSERIN?NL	T1, _ArgumentTimeout
	AIN?BBW	T1, _DataBuffer, _i

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00047	Z002CA				if (DataBuffer[i]<48) OR (DataBuffer[i]>57)  then ArgumentDone	; any non-numeric character signi
Z002CA
	AOUT?BWB	_DataBuffer, _i, T1
	CMPLT?BCB	T1, 030h, T1
	AOUT?BWB	_DataBuffer, _i, T2
	CMPGT?BCB	T2, 039h, T2
	LOR?BBL	T1, T2, _ArgumentDone

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00048	Z002CB				ArgumentBuffer[i] = DataBuffer[i]
Z002CB
	AOUT?BWB	_DataBuffer, _i, T1
	AIN?BBW	T1, _ArgumentBuffer, _i

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00049	Z002CC				ArgumentLength = ArgumentLength+1								
Z002CC
	ADD?BCB	_ArgumentLength, 001h, _ArgumentLength

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00050	Z002CD			next i
Z002CD
	NEXT?WCL	_i, 001h, L00063
	LABEL?L	L00064	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00051	Z002CE		EndIf
Z002CE
	LABEL?L	L00060	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00053	Z002CF	ArgumentDone:
Z002CF

	LABEL?L	_ArgumentDone	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00054	Z002D0		If (ArgumentLength=0) then 
Z002D0
	CMPNE?BCL	_ArgumentLength, 000h, L00065

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00055	Z002D1			hserout	["ERR",CR,"Expected argument",LF]
Z002D1
	HSEROUT?C	045h
	HSEROUT?C	052h
	HSEROUT?C	052h
	HSEROUT?C	_CR
	HSEROUT?C	045h
	HSEROUT?C	078h
	HSEROUT?C	070h
	HSEROUT?C	065h
	HSEROUT?C	063h
	HSEROUT?C	074h
	HSEROUT?C	065h
	HSEROUT?C	064h
	HSEROUT?C	020h
	HSEROUT?C	061h
	HSEROUT?C	072h
	HSEROUT?C	067h
	HSEROUT?C	075h
	HSEROUT?C	06Dh
	HSEROUT?C	065h
	HSEROUT?C	06Eh
	HSEROUT?C	074h
	HSEROUT?C	_LF

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00056	Z002D2			goto	Leave					; argument not received
Z002D2
	GOTO?L	_Leave

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00057	Z002D3		EndIf
Z002D3
	LABEL?L	L00065	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00059	Z002D4	ConvertArgument:
Z002D4

	LABEL?L	_ConvertArgument	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00060	Z002D5		Number_L = 0	
Z002D5
	MOVE?CN	000h, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00061	Z002D6		for i=1 to ArgumentLength
Z002D6
	MOVE?CW	001h, _i
	LABEL?L	L00067	
	CMPGT?WBL	_i, _ArgumentLength, L00068

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00062	Z002D7			Ascii = ArgumentBuffer[ArgumentLength-i]
Z002D7
	SUB?BWN	_ArgumentLength, _i, T1
	AOUT?BNB	_ArgumentBuffer, T1, _Ascii

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00063	Z002D8			gosub	AsciiToDecimal
Z002D8
	GOSUB?L	_AsciiToDecimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00064	Z002D9			Select Case i											; determine magnitude
Z002D9

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00065	Z002DA				Case 1
Z002DA
	CMPNE?WCL	_i, 001h, L00071

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00066	Z002DB					Number_L =  Number_L + Decimal
Z002DB
	ADD?NBN	_Number_L, _Decimal, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00067	Z002DC				Case 2
Z002DC
	GOTO?L	L00070
	LABEL?L	L00071	
	CMPNE?WCL	_i, 002h, L00072

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00068	Z002DD					Number_L = Number_L + 10*Decimal
Z002DD
	MUL?CBN	00Ah, _Decimal, T1
	ADD?NNN	_Number_L, T1, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00069	Z002DE				Case 3
Z002DE
	GOTO?L	L00070
	LABEL?L	L00072	
	CMPNE?WCL	_i, 003h, L00073

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00070	Z002DF					Number_L = Number_L + 100*Decimal
Z002DF
	MUL?CBN	064h, _Decimal, T1
	ADD?NNN	_Number_L, T1, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00071	Z002E0				Case 4
Z002E0
	GOTO?L	L00070
	LABEL?L	L00073	
	CMPNE?WCL	_i, 004h, L00074

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00072	Z002E1					Number_L = Number_L + 1000*Decimal
Z002E1
	MUL?CBN	0000003E8h, _Decimal, T1
	ADD?NNN	_Number_L, T1, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00073	Z002E2				Case 5
Z002E2
	GOTO?L	L00070
	LABEL?L	L00074	
	CMPNE?WCL	_i, 005h, L00075

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00074	Z002E3					Number_L = Number_L + 10000*Decimal
Z002E3
	MUL?CBN	000002710h, _Decimal, T1
	ADD?NNN	_Number_L, T1, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00075	Z002E4				Case 6
Z002E4
	GOTO?L	L00070
	LABEL?L	L00075	
	CMPNE?WCL	_i, 006h, L00076

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00076	Z002E5					Number_L = Number_L + 100000*Decimal
Z002E5
	MUL?CBN	0000186A0h, _Decimal, T1
	ADD?NNN	_Number_L, T1, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00077	Z002E6				Case 7
Z002E6
	GOTO?L	L00070
	LABEL?L	L00076	
	CMPNE?WCL	_i, 007h, L00077

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00078	Z002E7					Number_L = Number_L + 1000000*Decimal
Z002E7
	MUL?CBN	0000F4240h, _Decimal, T1
	ADD?NNN	_Number_L, T1, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00079	Z002E8			End Select
Z002E8
	LABEL?L	L00077	
	LABEL?L	L00070	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00080	Z002E9		next i
Z002E9
	NEXT?WCL	_i, 001h, L00067
	LABEL?L	L00068	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00081	Z002EA		L = abs Number_L
Z002EA
	ABS?NN	_Number_L, _L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00082	Z002EB		If L > 1000000 then 										; exit if more than a million absolute value
Z002EB
	CMPLE?NCL	_L, 0000F4240h, L00078

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00083	Z002EC			hserout	["ERR",CR,"Argument too large",LF]
Z002EC
	HSEROUT?C	045h
	HSEROUT?C	052h
	HSEROUT?C	052h
	HSEROUT?C	_CR
	HSEROUT?C	041h
	HSEROUT?C	072h
	HSEROUT?C	067h
	HSEROUT?C	075h
	HSEROUT?C	06Dh
	HSEROUT?C	065h
	HSEROUT?C	06Eh
	HSEROUT?C	074h
	HSEROUT?C	020h
	HSEROUT?C	074h
	HSEROUT?C	06Fh
	HSEROUT?C	06Fh
	HSEROUT?C	020h
	HSEROUT?C	06Ch
	HSEROUT?C	061h
	HSEROUT?C	072h
	HSEROUT?C	067h
	HSEROUT?C	065h
	HSEROUT?C	_LF

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00084	Z002ED			goto	Leave
Z002ED
	GOTO?L	_Leave

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00085	Z002EE		EndIf
Z002EE
	LABEL?L	L00078	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00086	Z002EF		If Negative = Yes then										; and sign
Z002EF
	CMPNE?BCL	_Negative, _Yes, L00080

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00087	Z002F0			Number_L = -Number_L
Z002F0
	UMINUS?NN	_Number_L, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00088	Z002F1		EndIf	
Z002F1
	LABEL?L	L00080	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00090	Z002F2		If CommandBuffer[0]="m" AND CommandBuffer[1]="o" AND CommandBuffer[2]="v" and CommandBuffer[3]="e"
Z002F2
	CMPEQ?BCB	_CommandBuffer, 06Dh, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 06Fh, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 076h, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 065h, T4
	LAND?NBL	T3, T4, _Move

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00091	Z002F3		If CommandBuffer[0]="g" AND CommandBuffer[1]="o" AND CommandBuffer[2]="t" and CommandBuffer[3]="o"
Z002F3
	CMPEQ?BCB	_CommandBuffer, 067h, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 06Fh, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 074h, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 06Fh, T4
	LAND?NBL	T3, T4, _Go

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00092	Z002F4		If CommandBuffer[0]="m" AND CommandBuffer[1]="a" AND CommandBuffer[2]="x" and CommandLength=3 then
Z002F4
	CMPEQ?BCB	_CommandBuffer, 06Dh, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 061h, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 078h, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandLength, 003h, T4
	LAND?NBL	T3, T4, _SetMaxPos

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00093	Z002F5		If CommandBuffer[0]="m" AND CommandBuffer[1]="i" AND CommandBuffer[2]="n" and CommandLength=3 then
Z002F5
	CMPEQ?BCB	_CommandBuffer, 06Dh, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 069h, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 06Eh, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandLength, 003h, T4
	LAND?NBL	T3, T4, _SetMinPos

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00094	Z002F6		If CommandBuffer[0]="d" AND CommandBuffer[1]="e" AND CommandBuffer[2]="l" and CommandBuffer[3]="a"
Z002F6
	CMPEQ?BCB	_CommandBuffer, 064h, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 065h, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 06Ch, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 061h, T4
	LAND?NBN	T3, T4, T4
	CMPEQ?BCB	_CommandBuffer + 00004h, 079h, T5
	LAND?NBL	T4, T5, _SetDelay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00095	Z002F7		If CommandBuffer[0]="r" AND CommandBuffer[1]="o" AND CommandBuffer[2]="t" and CommandBuffer[3]="a"
Z002F7
	CMPEQ?BCB	_CommandBuffer, 072h, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 06Fh, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 074h, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 061h, T4
	LAND?NBN	T3, T4, T4
	CMPEQ?BCB	_CommandBuffer + 00004h, 074h, T5
	LAND?NBN	T4, T5, T5
	CMPEQ?BCB	_CommandBuffer + 00005h, 065h, T6
	LAND?NBL	T5, T6, _SetRotate

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00096	Z002F8		If CommandBuffer[0]="s" AND CommandBuffer[1]="t" AND CommandBuffer[2]="a" and CommandBuffer[3]="t"
Z002F8
	CMPEQ?BCB	_CommandBuffer, 073h, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 074h, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 061h, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 074h, T4
	LAND?NBN	T3, T4, T4
	CMPEQ?BCB	_CommandBuffer + 00004h, 065h, T5
	LAND?NBL	T4, T5, _SetState

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00097	Z002F9		If CommandBuffer[0]="l" AND CommandBuffer[1]="i" AND CommandBuffer[2]="m" and CommandBuffer[3]="i"
Z002F9
	CMPEQ?BCB	_CommandBuffer, 06Ch, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 069h, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 06Dh, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 069h, T4
	LAND?NBN	T3, T4, T4
	CMPEQ?BCB	_CommandBuffer + 00004h, 074h, T5
	LAND?NBL	T4, T5, _SetAtLimit

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00098	Z002FA		If CommandBuffer[0]="s" AND CommandBuffer[1]="t" AND CommandBuffer[2]="e" and CommandBuffer[3]="p"
Z002FA
	CMPEQ?BCB	_CommandBuffer, 073h, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 074h, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 065h, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 070h, T4
	LAND?NBN	T3, T4, T4
	CMPEQ?BCB	_CommandBuffer + 00004h, 073h, T5
	LAND?NBL	T4, T5, _SetSteps

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00099	Z002FB		If CommandBuffer[0]="m" AND CommandBuffer[1]="o" AND CommandBuffer[2]="d" and CommandBuffer[3]="e"
Z002FB
	CMPEQ?BCB	_CommandBuffer, 06Dh, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 06Fh, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 064h, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 065h, T4
	LAND?NBL	T3, T4, _SetMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00100	Z002FC		If CommandBuffer[0]="t" AND CommandBuffer[1]="r" AND CommandBuffer[2]="i" and CommandBuffer[3]="g"
Z002FC
	CMPEQ?BCB	_CommandBuffer, 074h, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 072h, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 069h, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 067h, T4
	LAND?NBN	T3, T4, T4
	CMPEQ?BCB	_CommandBuffer + 00004h, 067h, T5
	LAND?NBN	T4, T5, T5
	CMPEQ?BCB	_CommandBuffer + 00005h, 065h, T6
	LAND?NBN	T5, T6, T6
	CMPEQ?BCB	_CommandBuffer + 00006h, 072h, T7
	LAND?NBN	T6, T7, T7
	CMPEQ?BCB	_CommandBuffer + 00007h, 073h, T8
	LAND?NBL	T7, T8, _SetTriggers

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00101	Z002FD		If CommandBuffer[0]="g" AND CommandBuffer[1]="o" AND CommandBuffer[2]="a" and CommandBuffer[3]="l"
Z002FD
	CMPEQ?BCB	_CommandBuffer, 067h, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 06Fh, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 061h, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 06Ch, T4
	LAND?NBL	T3, T4, _SetDestination

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00102	Z002FE		If CommandBuffer[0]="h" AND CommandBuffer[1]="o" AND CommandBuffer[2]="u" and CommandBuffer[3]="r"
Z002FE
	CMPEQ?BCB	_CommandBuffer, 068h, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 06Fh, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 075h, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 072h, T4
	LAND?NBN	T3, T4, T4
	CMPEQ?BCB	_CommandBuffer + 00004h, 073h, T5
	LAND?NBL	T4, T5, _ChangeHours

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00103	Z002FF		If CommandBuffer[0]="m" AND CommandBuffer[1]="i" AND CommandBuffer[2]="n" and CommandBuffer[3]="u"
Z002FF
	CMPEQ?BCB	_CommandBuffer, 06Dh, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 069h, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 06Eh, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 075h, T4
	LAND?NBN	T3, T4, T4
	CMPEQ?BCB	_CommandBuffer + 00004h, 074h, T5
	LAND?NBN	T4, T5, T5
	CMPEQ?BCB	_CommandBuffer + 00005h, 065h, T6
	LAND?NBN	T5, T6, T6
	CMPEQ?BCB	_CommandBuffer + 00006h, 073h, T7
	LAND?NBL	T6, T7, _ChangeMinutes

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00104	Z00300		If CommandBuffer[0]="s" AND CommandBuffer[1]="e" AND CommandBuffer[2]="c" and CommandBuffer[3]="o"
Z00300
	CMPEQ?BCB	_CommandBuffer, 073h, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 065h, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 063h, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 06Fh, T4
	LAND?NBN	T3, T4, T4
	CMPEQ?BCB	_CommandBuffer + 00004h, 06Eh, T5
	LAND?NBN	T4, T5, T5
	CMPEQ?BCB	_CommandBuffer + 00005h, 064h, T6
	LAND?NBN	T5, T6, T6
	CMPEQ?BCB	_CommandBuffer + 00006h, 073h, T7
	LAND?NBL	T6, T7, _ChangeSeconds

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00105	Z00301		If CommandBuffer[0]="d" AND CommandBuffer[1]="o" AND CommandBuffer[2]="h" and CommandBuffer[3]="o"
Z00301
	CMPEQ?BCB	_CommandBuffer, 064h, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 06Fh, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 068h, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 06Fh, T4
	LAND?NBN	T3, T4, T4
	CMPEQ?BCB	_CommandBuffer + 00004h, 075h, T5
	LAND?NBN	T4, T5, T5
	CMPEQ?BCB	_CommandBuffer + 00005h, 072h, T6
	LAND?NBN	T5, T6, T6
	CMPEQ?BCB	_CommandBuffer + 00006h, 073h, T7
	LAND?NBL	T6, T7, _ChangeDoHours

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00106	Z00302		If CommandBuffer[0]="m" AND CommandBuffer[1]="a" AND CommandBuffer[2]="t" and CommandBuffer[3]="c"
Z00302
	CMPEQ?BCB	_CommandBuffer, 06Dh, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 061h, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 074h, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 063h, T4
	LAND?NBN	T3, T4, T4
	CMPEQ?BCB	_CommandBuffer + 00004h, 068h, T5
	LAND?NBL	T4, T5, _ChangeTimeMatch

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00107	Z00303		If CommandBuffer[0]="d" AND CommandBuffer[1]="o" AND CommandBuffer[2]="m" and CommandBuffer[3]="i"
Z00303
	CMPEQ?BCB	_CommandBuffer, 064h, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 06Fh, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 06Dh, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 069h, T4
	LAND?NBN	T3, T4, T4
	CMPEQ?BCB	_CommandBuffer + 00004h, 06Eh, T5
	LAND?NBN	T4, T5, T5
	CMPEQ?BCB	_CommandBuffer + 00005h, 075h, T6
	LAND?NBN	T5, T6, T6
	CMPEQ?BCB	_CommandBuffer + 00006h, 074h, T7
	LAND?NBN	T6, T7, T7
	CMPEQ?BCB	_CommandBuffer + 00007h, 065h, T8
	LAND?NBN	T7, T8, T8
	CMPEQ?BCB	_CommandBuffer + 00008h, 073h, T9
	LAND?NBL	T8, T9, _ChangeDoMinutes

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00108	Z00304		If CommandBuffer[0]="d" AND CommandBuffer[1]="o" AND CommandBuffer[2]="s" and CommandBuffer[3]="e"
Z00304
	CMPEQ?BCB	_CommandBuffer, 064h, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 06Fh, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 073h, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 065h, T4
	LAND?NBN	T3, T4, T4
	CMPEQ?BCB	_CommandBuffer + 00004h, 063h, T5
	LAND?NBN	T4, T5, T5
	CMPEQ?BCB	_CommandBuffer + 00005h, 06Fh, T6
	LAND?NBN	T5, T6, T6
	CMPEQ?BCB	_CommandBuffer + 00006h, 06Eh, T7
	LAND?NBN	T6, T7, T7
	CMPEQ?BCB	_CommandBuffer + 00007h, 064h, T8
	LAND?NBN	T7, T8, T8
	CMPEQ?BCB	_CommandBuffer + 00008h, 073h, T9
	LAND?NBL	T8, T9, _ChangeDoSeconds

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00109	Z00305		If CommandBuffer[0]="f" AND CommandBuffer[1]="e" AND CommandBuffer[2]="e" and CommandBuffer[3]="d"
Z00305
	CMPEQ?BCB	_CommandBuffer, 066h, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 065h, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 065h, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 064h, T4
	LAND?NBN	T3, T4, T4
	CMPEQ?BCB	_CommandBuffer + 00004h, 062h, T5
	LAND?NBN	T4, T5, T5
	CMPEQ?BCB	_CommandBuffer + 00005h, 061h, T6
	LAND?NBN	T5, T6, T6
	CMPEQ?BCB	_CommandBuffer + 00006h, 063h, T7
	LAND?NBN	T6, T7, T7
	CMPEQ?BCB	_CommandBuffer + 00007h, 06Bh, T8
	LAND?NBL	T7, T8, _SetFeedback

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00110	Z00306	    If CommandBuffer[0]="s" AND CommandBuffer[1]="t" AND CommandBuffer[2]="y" and CommandBuffer[3]=
Z00306
	CMPEQ?BCB	_CommandBuffer, 073h, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 074h, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 079h, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 06Ch, T4
	LAND?NBN	T3, T4, T4
	CMPEQ?BCB	_CommandBuffer + 00004h, 065h, T5
	LAND?NBL	T4, T5, _SetStepStyle

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00112	Z00307		hserout	["ERR",CR,"Command ",STR CommandBuffer \CommandLength," not valid",CR]		; command with arg
Z00307
	HSEROUT?C	045h
	HSEROUT?C	052h
	HSEROUT?C	052h
	HSEROUT?C	_CR
	HSEROUT?C	043h
	HSEROUT?C	06Fh
	HSEROUT?C	06Dh
	HSEROUT?C	06Dh
	HSEROUT?C	061h
	HSEROUT?C	06Eh
	HSEROUT?C	064h
	HSEROUT?C	020h
	HSEROUTCOUNT?B	_CommandLength
	HSEROUTSTRN?B	_CommandBuffer
	HSEROUT?C	020h
	HSEROUT?C	06Eh
	HSEROUT?C	06Fh
	HSEROUT?C	074h
	HSEROUT?C	020h
	HSEROUT?C	076h
	HSEROUT?C	061h
	HSEROUT?C	06Ch
	HSEROUT?C	069h
	HSEROUT?C	064h
	HSEROUT?C	_CR

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00113	Z00308		goto	Leave					
Z00308
	GOTO?L	_Leave

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00115	Z00309	NoArgument:
Z00309

	LABEL?L	_NoArgument	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00116	Z0030A		If CommandBuffer[0]="d" AND CommandBuffer[1]="e" AND CommandBuffer[2]="f" and CommandBuffer[3]="a"
Z0030A
	CMPEQ?BCB	_CommandBuffer, 064h, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 065h, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 066h, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 061h, T4
	LAND?NBN	T3, T4, T4
	CMPEQ?BCB	_CommandBuffer + 00004h, 075h, T5
	LAND?NBN	T4, T5, T5
	CMPEQ?BCB	_CommandBuffer + 00005h, 06Ch, T6
	LAND?NBN	T5, T6, T6
	CMPEQ?BCB	_CommandBuffer + 00006h, 074h, T7
	LAND?NBL	T6, T7, _RestoreDefaults

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00117	Z0030B		If CommandBuffer[0]="r" AND CommandBuffer[1]="e" AND CommandBuffer[2]="p" and CommandBuffer[3]="o"
Z0030B
	CMPEQ?BCB	_CommandBuffer, 072h, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 065h, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 070h, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 06Fh, T4
	LAND?NBN	T3, T4, T4
	CMPEQ?BCB	_CommandBuffer + 00004h, 072h, T5
	LAND?NBN	T4, T5, T5
	CMPEQ?BCB	_CommandBuffer + 00005h, 074h, T6
	LAND?NBL	T5, T6, _SendReport

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00118	Z0030C		If CommandBuffer[0]="r" AND CommandBuffer[1]="e" AND CommandBuffer[2]="b" and CommandBuffer[3]="o"
Z0030C
	CMPEQ?BCB	_CommandBuffer, 072h, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 065h, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 062h, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 06Fh, T4
	LAND?NBN	T3, T4, T4
	CMPEQ?BCB	_CommandBuffer + 00004h, 06Fh, T5
	LAND?NBN	T4, T5, T5
	CMPEQ?BCB	_CommandBuffer + 00005h, 074h, T6
	LAND?NBL	T5, T6, _Reboot

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00119	Z0030D		If CommandBuffer[0]="h" AND CommandBuffer[1]="o" AND CommandBuffer[2]="m" and CommandBuffer[3]="e"
Z0030D
	CMPEQ?BCB	_CommandBuffer, 068h, T1
	CMPEQ?BCB	_CommandBuffer + 00001h, 06Fh, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BCB	_CommandBuffer + 00002h, 06Dh, T3
	LAND?NBN	T2, T3, T3
	CMPEQ?BCB	_CommandBuffer + 00003h, 065h, T4
	LAND?NBL	T3, T4, _SetAsHome

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00121	Z0030E		hserout	["ERR",CR,"Command ",STR CommandBuffer \CommandLength," not valid",LF]		; command without 
Z0030E
	HSEROUT?C	045h
	HSEROUT?C	052h
	HSEROUT?C	052h
	HSEROUT?C	_CR
	HSEROUT?C	043h
	HSEROUT?C	06Fh
	HSEROUT?C	06Dh
	HSEROUT?C	06Dh
	HSEROUT?C	061h
	HSEROUT?C	06Eh
	HSEROUT?C	064h
	HSEROUT?C	020h
	HSEROUTCOUNT?B	_CommandLength
	HSEROUTSTRN?B	_CommandBuffer
	HSEROUT?C	020h
	HSEROUT?C	06Eh
	HSEROUT?C	06Fh
	HSEROUT?C	074h
	HSEROUT?C	020h
	HSEROUT?C	076h
	HSEROUT?C	061h
	HSEROUT?C	06Ch
	HSEROUT?C	069h
	HSEROUT?C	064h
	HSEROUT?C	_LF

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00122	Z0030F		goto		Leave		; only get here if a command without argument was not understood
Z0030F
	GOTO?L	_Leave

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00125	Z00310	SendNumber_L:
Z00310

	LABEL?L	_SendNumber_L	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00126	Z00311		L = Number_L/C				; scale to be in motor steps instead of internal counts
Z00311
	DIV?NCN	_Number_L, _C, _L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00127	Z00312		hserout [Sdec L,CR]
Z00312
	HSEROUTCOUNT?C	000h
	HSEROUTSNUM?N	_L
	HSEROUTSDEC?	
	HSEROUT?C	_CR

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00128	Z00313	Return
Z00313
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00131	Z00314	Reboot:
Z00314

	LABEL?L	_Reboot	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00132	Z00315		hserout 	["AOK",LF]
Z00315
	HSEROUT?C	041h
	HSEROUT?C	04Fh
	HSEROUT?C	04Bh
	HSEROUT?C	_LF

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00133	Z00316	@ reset
Z00316

	ASM?
 reset

	ENDASM?


; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00136	Z00317	RestoreDefaults:
Z00317

	LABEL?L	_RestoreDefaults	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00137	Z00318		gosub		SetValuesToDefault
Z00318
	GOSUB?L	_SetValuesToDefault

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00138	Z00319		goto		TaskCleanup
Z00319
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00141	Z0031A	SetStepStyle:
Z0031A

	LABEL?L	_SetStepStyle	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00142	Z0031B	    If Number_L<0 OR Number_L>HalfStep then ArgumentError
Z0031B
	CMPLT?NCB	_Number_L, 000h, T1
	CMPGT?NCB	_Number_L, _HalfStep, T2
	LOR?BBL	T1, T2, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00143	Z0031C	    StepStyle=Number_L
Z0031C
	MOVE?NB	_Number_L, _StepStyle

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00144	Z0031D	    gosub       ConfigureMotor
Z0031D
	GOSUB?L	_ConfigureMotor

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00145	Z0031E	    goto        TaskCleanup
Z0031E
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00148	Z0031F	SetMaxPos:
Z0031F

	LABEL?L	_SetMaxPos	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00149	Z00320		L = C*Number_L
Z00320
	MUL?CNN	_C, _Number_L, _L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00150	Z00321		If L < Position_L then ArgumentError				; don't let user set the maximum position below where the 
Z00321
	CMPLT?NNL	_L, _Position_L, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00151	Z00322		MaxPos_L = 	C*Number_L									; user deals in steps, controller in counts
Z00322
	MUL?CNN	_C, _Number_L, _MaxPos_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00152	Z00323		goto		TaskCleanup
Z00323
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00155	Z00324	SetMinPos:
Z00324

	LABEL?L	_SetMinPos	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00156	Z00325		L = C*Number_L
Z00325
	MUL?CNN	_C, _Number_L, _L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00157	Z00326		If L > Position_L then ArgumentError				; don't let user set the minimum position above where the 
Z00326
	CMPGT?NNL	_L, _Position_L, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00158	Z00327		MinPos_L = 	C*Number_L
Z00327
	MUL?CNN	_C, _Number_L, _MinPos_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00159	Z00328		goto		TaskCleanup
Z00328
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00162	Z00329	SetRotate:
Z00329

	LABEL?L	_SetRotate	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00163	Z0032A		If (Number_L!=-1) AND (Number_L!=1) then ArgumentError
Z0032A
	CMPNE?NCB	_Number_L, 0FFFFFFFFh, T1
	CMPNE?NCB	_Number_L, 001h, T2
	LAND?BBL	T1, T2, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00164	Z0032B		Rotate_L =	Number_L
Z0032B
	MOVE?NN	_Number_L, _Rotate_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00165	Z0032C		goto		TaskCleanup
Z0032C
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00168	Z0032D	SetState:
Z0032D

	LABEL?L	_SetState	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00169	Z0032E		If (Number_L!=0) AND (Number_L!=1) then ArgumentError
Z0032E
	CMPNE?NCB	_Number_L, 000h, T1
	CMPNE?NCB	_Number_L, 001h, T2
	LAND?BBL	T1, T2, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00170	Z0032F		State =	Number_L
Z0032F
	MOVE?NT	_Number_L, _State

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00171	Z00330		goto		TaskCleanup
Z00330
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00174	Z00331	SetAtLimit:
Z00331

	LABEL?L	_SetAtLimit	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00175	Z00332		If (Number_L!=0) AND (Number_L!=1) then ArgumentError	; 0 for do nothing, 1 for switch direction
Z00332
	CMPNE?NCB	_Number_L, 000h, T1
	CMPNE?NCB	_Number_L, 001h, T2
	LAND?BBL	T1, T2, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00176	Z00333		AtLimit =	Number_L
Z00333
	MOVE?NB	_Number_L, _AtLimit

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00177	Z00334		goto		TaskCleanup
Z00334
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00180	Z00335	SetSteps:
Z00335

	LABEL?L	_SetSteps	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00181	Z00336		Steps_L	=	C*Number_L
Z00336
	MUL?CNN	_C, _Number_L, _Steps_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00182	Z00337		goto		TaskCleanup
Z00337
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00185	Z00338	SendReport:
Z00338

	LABEL?L	_SendReport	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00186	Z00339		gosub		ReadRTC
Z00339
	GOSUB?L	_ReadRTC

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00187	Z0033A		hserout		["firmware=",STR Firmware \FirmwareLength,CR]	
Z0033A
	HSEROUT?C	066h
	HSEROUT?C	069h
	HSEROUT?C	072h
	HSEROUT?C	06Dh
	HSEROUT?C	077h
	HSEROUT?C	061h
	HSEROUT?C	072h
	HSEROUT?C	065h
	HSEROUT?C	03Dh
	HSEROUTCOUNT?C	_FirmwareLength
	HSEROUTSTRN?B	_Firmware
	HSEROUT?C	_CR

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00188	Z0033B		hserout 	["drive=",#EnableDrive,CR]				; motor on/off
Z0033B
	HSEROUT?C	064h
	HSEROUT?C	072h
	HSEROUT?C	069h
	HSEROUT?C	076h
	HSEROUT?C	065h
	HSEROUT?C	03Dh
	HSEROUTD?T	_EnableDrive
	HSEROUT?C	_CR

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00189	Z0033C		hserout 	["mode=",#OpMode,CR]					; operation mode
Z0033C
	HSEROUT?C	06Dh
	HSEROUT?C	06Fh
	HSEROUT?C	064h
	HSEROUT?C	065h
	HSEROUT?C	03Dh
	HSEROUTD?B	_OpMode
	HSEROUT?C	_CR

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00190	Z0033D		hserout 	["feedback=",#FeedbackOn,CR]			; feedback enabled?
Z0033D
	HSEROUT?C	066h
	HSEROUT?C	065h
	HSEROUT?C	065h
	HSEROUT?C	064h
	HSEROUT?C	062h
	HSEROUT?C	061h
	HSEROUT?C	063h
	HSEROUT?C	06Bh
	HSEROUT?C	03Dh
	HSEROUTD?B	_FeedbackOn
	HSEROUT?C	_CR

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00191	Z0033E		hserout 	["delay=",#Delay_W,CR]					; delay between steps
Z0033E
	HSEROUT?C	064h
	HSEROUT?C	065h
	HSEROUT?C	06Ch
	HSEROUT?C	061h
	HSEROUT?C	079h
	HSEROUT?C	03Dh
	HSEROUTD?W	_Delay_W
	HSEROUT?C	_CR

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00192	Z0033F		hserout 	["position="]							; current position (where the controller thinks the motor is)
Z0033F
	HSEROUT?C	070h
	HSEROUT?C	06Fh
	HSEROUT?C	073h
	HSEROUT?C	069h
	HSEROUT?C	074h
	HSEROUT?C	069h
	HSEROUT?C	06Fh
	HSEROUT?C	06Eh
	HSEROUT?C	03Dh

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00193	Z00340		Number_L = 	Position_L
Z00340
	MOVE?NN	_Position_L, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00194	Z00341		gosub		SendNumber_L							; SendNumber_L automatically divides by C before sending
Z00341
	GOSUB?L	_SendNumber_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00195	Z00342		hserout 	["setpoint="]							; current setpoint, where the controller thinks the motor should be
Z00342
	HSEROUT?C	073h
	HSEROUT?C	065h
	HSEROUT?C	074h
	HSEROUT?C	070h
	HSEROUT?C	06Fh
	HSEROUT?C	069h
	HSEROUT?C	06Eh
	HSEROUT?C	074h
	HSEROUT?C	03Dh

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00196	Z00343		Number_L = 	Setpoint_L
Z00343
	MOVE?NN	_Setpoint_L, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00197	Z00344		gosub		SendNumber_L
Z00344
	GOSUB?L	_SendNumber_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00198	Z00345		hserout 	["minpos="]								; minimum position
Z00345
	HSEROUT?C	06Dh
	HSEROUT?C	069h
	HSEROUT?C	06Eh
	HSEROUT?C	070h
	HSEROUT?C	06Fh
	HSEROUT?C	073h
	HSEROUT?C	03Dh

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00199	Z00346		Number_L = 	MinPos_L
Z00346
	MOVE?NN	_MinPos_L, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00200	Z00347		gosub		SendNumber_L	
Z00347
	GOSUB?L	_SendNumber_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00201	Z00348		hserout 	["maxpos="]								; maximum positions
Z00348
	HSEROUT?C	06Dh
	HSEROUT?C	061h
	HSEROUT?C	078h
	HSEROUT?C	070h
	HSEROUT?C	06Fh
	HSEROUT?C	073h
	HSEROUT?C	03Dh

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00202	Z00349		Number_L = 	MaxPos_L
Z00349
	MOVE?NN	_MaxPos_L, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00203	Z0034A		gosub		SendNumber_L
Z0034A
	GOSUB?L	_SendNumber_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00204	Z0034B		hserout 	["goal="]								; current destination, destination for the operation
Z0034B
	HSEROUT?C	067h
	HSEROUT?C	06Fh
	HSEROUT?C	061h
	HSEROUT?C	06Ch
	HSEROUT?C	03Dh

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00205	Z0034C		Number_L = 	Destination_L
Z0034C
	MOVE?NN	_Destination_L, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00206	Z0034D		gosub		SendNumber_L
Z0034D
	GOSUB?L	_SendNumber_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00207	Z0034E		hserout 	["steps="]								; steps to take
Z0034E
	HSEROUT?C	073h
	HSEROUT?C	074h
	HSEROUT?C	065h
	HSEROUT?C	070h
	HSEROUT?C	073h
	HSEROUT?C	03Dh

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00208	Z0034F		Number_L = 	Steps_L
Z0034F
	MOVE?NN	_Steps_L, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00209	Z00350		gosub		SendNumber_L
Z00350
	GOSUB?L	_SendNumber_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00210	Z00351		hserout 	["triggers=",#DoTriggers_W,CR]			; triggers before action
Z00351
	HSEROUT?C	074h
	HSEROUT?C	072h
	HSEROUT?C	069h
	HSEROUT?C	067h
	HSEROUT?C	067h
	HSEROUT?C	065h
	HSEROUT?C	072h
	HSEROUT?C	073h
	HSEROUT?C	03Dh
	HSEROUTD?W	_DoTriggers_W
	HSEROUT?C	_CR

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00211	Z00352		hserout 	["hours=",#Time(Hours),CR]				; time (hours)
Z00352
	HSEROUT?C	068h
	HSEROUT?C	06Fh
	HSEROUT?C	075h
	HSEROUT?C	072h
	HSEROUT?C	073h
	HSEROUT?C	03Dh
	HSEROUTD?B	_Time + 00002h
	HSEROUT?C	_CR

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00212	Z00353		hserout 	["minutes=",#Time(Minutes),CR]			; time (minutes)
Z00353
	HSEROUT?C	06Dh
	HSEROUT?C	069h
	HSEROUT?C	06Eh
	HSEROUT?C	075h
	HSEROUT?C	074h
	HSEROUT?C	065h
	HSEROUT?C	073h
	HSEROUT?C	03Dh
	HSEROUTD?B	_Time + 00001h
	HSEROUT?C	_CR

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00213	Z00354		hserout 	["seconds=",#Time(Seconds),CR]			; time (seconds)
Z00354
	HSEROUT?C	073h
	HSEROUT?C	065h
	HSEROUT?C	063h
	HSEROUT?C	06Fh
	HSEROUT?C	06Eh
	HSEROUT?C	064h
	HSEROUT?C	073h
	HSEROUT?C	03Dh
	HSEROUTD?B	_Time
	HSEROUT?C	_CR

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00214	Z00355		hserout 	["dohours=",#DoTime(Hours),CR]			; action time (hours)
Z00355
	HSEROUT?C	064h
	HSEROUT?C	06Fh
	HSEROUT?C	068h
	HSEROUT?C	06Fh
	HSEROUT?C	075h
	HSEROUT?C	072h
	HSEROUT?C	073h
	HSEROUT?C	03Dh
	HSEROUTD?B	_DoTime + 00002h
	HSEROUT?C	_CR

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00215	Z00356		hserout 	["dominutes=",#DoTime(Minutes),CR]		; action time (minutes)
Z00356
	HSEROUT?C	064h
	HSEROUT?C	06Fh
	HSEROUT?C	06Dh
	HSEROUT?C	069h
	HSEROUT?C	06Eh
	HSEROUT?C	075h
	HSEROUT?C	074h
	HSEROUT?C	065h
	HSEROUT?C	073h
	HSEROUT?C	03Dh
	HSEROUTD?B	_DoTime + 00001h
	HSEROUT?C	_CR

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00216	Z00357		hserout 	["doseconds=",#DoTime(Seconds),CR]		; action time (seconds)
Z00357
	HSEROUT?C	064h
	HSEROUT?C	06Fh
	HSEROUT?C	073h
	HSEROUT?C	065h
	HSEROUT?C	063h
	HSEROUT?C	06Fh
	HSEROUT?C	06Eh
	HSEROUT?C	064h
	HSEROUT?C	073h
	HSEROUT?C	03Dh
	HSEROUTD?B	_DoTime
	HSEROUT?C	_CR

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00217	Z00358		hserout 	["match=",#TimeMatch,CR]				; type of time match (0 = seconds, 1 = seconds + minutes, 2 =
Z00358
	HSEROUT?C	06Dh
	HSEROUT?C	061h
	HSEROUT?C	074h
	HSEROUT?C	063h
	HSEROUT?C	068h
	HSEROUT?C	03Dh
	HSEROUTD?B	_TimeMatch
	HSEROUT?C	_CR

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00218	Z00359		hserout 	["rotate="]							; current position (where the controller thinks the motor is)
Z00359
	HSEROUT?C	072h
	HSEROUT?C	06Fh
	HSEROUT?C	074h
	HSEROUT?C	061h
	HSEROUT?C	074h
	HSEROUT?C	065h
	HSEROUT?C	03Dh

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00219	Z0035A		Number_L = 	Rotate_L
Z0035A
	MOVE?NN	_Rotate_L, _Number_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00220	Z0035B		gosub		SendNumber_L							; SendNumber_L automatically divides by C before sending
Z0035B
	GOSUB?L	_SendNumber_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00221	Z0035C		hserout 	["limit=",#AtLimit,CR]					; behavior at limit (0=nothing, 1=reverse, move and rotate mod
Z0035C
	HSEROUT?C	06Ch
	HSEROUT?C	069h
	HSEROUT?C	06Dh
	HSEROUT?C	069h
	HSEROUT?C	074h
	HSEROUT?C	03Dh
	HSEROUTD?B	_AtLimit
	HSEROUT?C	_CR

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00222	Z0035D		hserout 	["step style=",#StepStyle,CR]			; behavior when input is low
Z0035D
	HSEROUT?C	073h
	HSEROUT?C	074h
	HSEROUT?C	065h
	HSEROUT?C	070h
	HSEROUT?C	020h
	HSEROUT?C	073h
	HSEROUT?C	074h
	HSEROUT?C	079h
	HSEROUT?C	06Ch
	HSEROUT?C	065h
	HSEROUT?C	03Dh
	HSEROUTD?B	_StepStyle
	HSEROUT?C	_CR

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00223	Z0035E		goto		TaskCleanup
Z0035E
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00226	Z0035F	SendCR:
Z0035F

	LABEL?L	_SendCR	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00227	Z00360		hserout [CR]
Z00360
	HSEROUT?C	_CR

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00228	Z00361	Return
Z00361
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00231	Z00362	Move:
Z00362

	LABEL?L	_Move	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00232	Z00363	    If (Position_L+C*Number_L < MinPos_L) OR (Position_L+C*Number_L > MaxPos_L) then ArgumentError
Z00363
	MUL?CNN	_C, _Number_L, T1
	ADD?NNN	_Position_L, T1, T1
	CMPLT?NNB	T1, _MinPos_L, T1
	MUL?CNN	_C, _Number_L, T2
	ADD?NNN	_Position_L, T2, T2
	CMPGT?NNB	T2, _MaxPos_L, T2
	LOR?BBL	T1, T2, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00233	Z00364		Setpoint_L = 	Setpoint_L + C*Number_L					; scale to get in counts rather than motor steps
Z00364
	MUL?CNN	_C, _Number_L, T1
	ADD?NNN	_Setpoint_L, T1, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00234	Z00365		gosub		SendAOK										; send AOK before doing the move (could take awhile)
Z00365
	GOSUB?L	_SendAOK

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00235	Z00366		gosub		CorrectPosition
Z00366
	GOSUB?L	_CorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00236	Z00367		goto		TaskCleanup
Z00367
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00239	Z00368	Go:
Z00368

	LABEL?L	_Go	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00240	Z00369	    If (C*Number_L<MinPos_L) OR (C*Number_L>MaxPos_L) then ArgumentError
Z00369
	MUL?CNN	_C, _Number_L, T1
	CMPLT?NNB	T1, _MinPos_L, T1
	MUL?CNN	_C, _Number_L, T2
	CMPGT?NNB	T2, _MaxPos_L, T2
	LOR?BBL	T1, T2, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00241	Z0036A		Setpoint_L = C*Number_L			; scale to get in counts rather than motor steps
Z0036A
	MUL?CNN	_C, _Number_L, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00242	Z0036B		gosub		SendAOK				; send AOK before doing the goto (could take awhile)
Z0036B
	GOSUB?L	_SendAOK

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00243	Z0036C		gosub		CorrectPosition
Z0036C
	GOSUB?L	_CorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00244	Z0036D		goto		TaskCleanup
Z0036D
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00246	Z0036E	SetDelay:
Z0036E

	LABEL?L	_SetDelay	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00247	Z0036F		If (Number_L < MinDelay) then ArgumentError
Z0036F
	CMPLT?NCL	_Number_L, _MinDelay, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00248	Z00370		Delay_W = 	Number_L
Z00370
	MOVE?NW	_Number_L, _Delay_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00249	Z00371		gosub		SendAOK
Z00371
	GOSUB?L	_SendAOK

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00250	Z00372		goto		TaskCleanup
Z00372
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00252	Z00373	SetMode:
Z00373

	LABEL?L	_SetMode	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00253	Z00374		If (Number_L>StateShutter) OR (Number_L<0) then ArgumentError
Z00374
	CMPGT?NCB	_Number_L, _StateShutter, T1
	CMPLT?NCB	_Number_L, 000h, T2
	LOR?BBL	T1, T2, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00254	Z00375		OpMode = 	Number_L
Z00375
	MOVE?NB	_Number_L, _OpMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00255	Z00376		Setpoint_L = Position_L									; make position error zero when changing operation modes
Z00376
	MOVE?NN	_Position_L, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00256	Z00377		gosub		SendAOK
Z00377
	GOSUB?L	_SendAOK

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00257	Z00378		goto		TaskCleanup
Z00378
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00259	Z00379	SetAsHome:
Z00379

	LABEL?L	_SetAsHome	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00260	Z0037A		Position_L = 0
Z0037A
	MOVE?CN	000h, _Position_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00261	Z0037B		Setpoint_L = 0
Z0037B
	MOVE?CN	000h, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00262	Z0037C		gosub		SendAOK
Z0037C
	GOSUB?L	_SendAOK

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00263	Z0037D		goto		TaskCleanup
Z0037D
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00265	Z0037E	SetTriggers:
Z0037E

	LABEL?L	_SetTriggers	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00266	Z0037F		If (Number_L<1) OR (Number_L>10000) then ArgumentError
Z0037F
	CMPLT?NCB	_Number_L, 001h, T1
	CMPGT?NCB	_Number_L, 000002710h, T2
	LOR?BBL	T1, T2, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00267	Z00380		DoTriggers_W = Number_L
Z00380
	MOVE?NW	_Number_L, _DoTriggers_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00268	Z00381		gosub		SendAOK
Z00381
	GOSUB?L	_SendAOK

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00269	Z00382		goto		TaskCleanup
Z00382
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00271	Z00383	SetDestination:
Z00383

	LABEL?L	_SetDestination	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00272	Z00384		Destination_L =	C*Number_L
Z00384
	MUL?CNN	_C, _Number_L, _Destination_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00273	Z00385		gosub		SendAOK
Z00385
	GOSUB?L	_SendAOK

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00274	Z00386		goto		TaskCleanup
Z00386
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00276	Z00387	SetFeedback:
Z00387

	LABEL?L	_SetFeedback	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00277	Z00388		If (Number_L!=0) AND (Number_L!=1) then ArgumentError
Z00388
	CMPNE?NCB	_Number_L, 000h, T1
	CMPNE?NCB	_Number_L, 001h, T2
	LAND?BBL	T1, T2, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00278	Z00389		If (Number_L!=0) AND (OpMode = StateRotate) then ArgumentError
Z00389
	CMPNE?NCB	_Number_L, 000h, T1
	CMPEQ?BCB	_OpMode, _StateRotate, T2
	LAND?BBL	T1, T2, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00279	Z0038A		gosub		ResetCounter
Z0038A
	GOSUB?L	_ResetCounter

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00280	Z0038B		FeedbackOn = Number_L
Z0038B
	MOVE?NB	_Number_L, _FeedbackOn

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00281	Z0038C		gosub		SendAOK
Z0038C
	GOSUB?L	_SendAOK

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00282	Z0038D		goto		TaskCleanup
Z0038D
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00284	Z0038E	ChangeHours:
Z0038E

	LABEL?L	_ChangeHours	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00285	Z0038F		If (Number_L>23) OR (Number_L<0) then ArgumentError
Z0038F
	CMPGT?NCB	_Number_L, 017h, T1
	CMPLT?NCB	_Number_L, 000h, T2
	LOR?BBL	T1, T2, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00286	Z00390		gosub		ReadRTC
Z00390
	GOSUB?L	_ReadRTC

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00287	Z00391		Time[Hours] = Number_L
Z00391
	MOVE?NB	_Number_L, _Time + 00002h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00288	Z00392		gosub		UpdateRTC
Z00392
	GOSUB?L	_UpdateRTC

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00289	Z00393		gosub		SendAOK
Z00393
	GOSUB?L	_SendAOK

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00290	Z00394		goto		TaskCleanup
Z00394
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00292	Z00395	ChangeMinutes:
Z00395

	LABEL?L	_ChangeMinutes	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00293	Z00396		If (Number_L>59) OR (Number_L<0) then ArgumentError
Z00396
	CMPGT?NCB	_Number_L, 03Bh, T1
	CMPLT?NCB	_Number_L, 000h, T2
	LOR?BBL	T1, T2, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00294	Z00397		gosub		ReadRTC
Z00397
	GOSUB?L	_ReadRTC

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00295	Z00398		Time[Minutes] = Number_L
Z00398
	MOVE?NB	_Number_L, _Time + 00001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00296	Z00399		gosub		UpdateRTC
Z00399
	GOSUB?L	_UpdateRTC

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00297	Z0039A		gosub		SendAOK
Z0039A
	GOSUB?L	_SendAOK

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00298	Z0039B		goto		TaskCleanup
Z0039B
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00300	Z0039C	ChangeSeconds:
Z0039C

	LABEL?L	_ChangeSeconds	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00301	Z0039D		If (Number_L>59) OR (Number_L<0) then ArgumentError
Z0039D
	CMPGT?NCB	_Number_L, 03Bh, T1
	CMPLT?NCB	_Number_L, 000h, T2
	LOR?BBL	T1, T2, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00302	Z0039E		gosub		ReadRTC
Z0039E
	GOSUB?L	_ReadRTC

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00303	Z0039F		Time[Seconds] = Number_L
Z0039F
	MOVE?NB	_Number_L, _Time

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00304	Z003A0		gosub		UpdateRTC
Z003A0
	GOSUB?L	_UpdateRTC

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00305	Z003A1		gosub		SendAOK
Z003A1
	GOSUB?L	_SendAOK

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00306	Z003A2		goto		TaskCleanup
Z003A2
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00308	Z003A3	ChangeDoHours:
Z003A3

	LABEL?L	_ChangeDoHours	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00309	Z003A4		If (Number_L>23) OR (Number_L<0) then ArgumentError
Z003A4
	CMPGT?NCB	_Number_L, 017h, T1
	CMPLT?NCB	_Number_L, 000h, T2
	LOR?BBL	T1, T2, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00310	Z003A5		DoTime[Hours] = Number_L
Z003A5
	MOVE?NB	_Number_L, _DoTime + 00002h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00311	Z003A6		gosub		SendAOK
Z003A6
	GOSUB?L	_SendAOK

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00312	Z003A7		goto		TaskCleanup
Z003A7
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00314	Z003A8	ChangeTimeMatch:
Z003A8

	LABEL?L	_ChangeTimeMatch	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00315	Z003A9		If Number_L>SecsMinsHrs then ArgumentError
Z003A9
	CMPGT?NCL	_Number_L, _SecsMinsHrs, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00316	Z003AA		TimeMatch = Number_L
Z003AA
	MOVE?NB	_Number_L, _TimeMatch

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00317	Z003AB		gosub		SendAOK
Z003AB
	GOSUB?L	_SendAOK

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00318	Z003AC		goto		TaskCleanup
Z003AC
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00320	Z003AD	ChangeDoMinutes:
Z003AD

	LABEL?L	_ChangeDoMinutes	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00321	Z003AE		If (Number_L>59) OR (Number_L<0) then ArgumentError
Z003AE
	CMPGT?NCB	_Number_L, 03Bh, T1
	CMPLT?NCB	_Number_L, 000h, T2
	LOR?BBL	T1, T2, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00322	Z003AF		DoTime[Minutes] = Number_L
Z003AF
	MOVE?NB	_Number_L, _DoTime + 00001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00323	Z003B0		gosub		SendAOK
Z003B0
	GOSUB?L	_SendAOK

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00324	Z003B1		goto		TaskCleanup
Z003B1
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00326	Z003B2	ChangeDoSeconds:
Z003B2

	LABEL?L	_ChangeDoSeconds	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00327	Z003B3		If (Number_L>59) OR (Number_L<0) then ArgumentError
Z003B3
	CMPGT?NCB	_Number_L, 03Bh, T1
	CMPLT?NCB	_Number_L, 000h, T2
	LOR?BBL	T1, T2, _ArgumentError

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00328	Z003B4		DoTime[Seconds] = Number_L
Z003B4
	MOVE?NB	_Number_L, _DoTime

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00329	Z003B5		gosub		SendAOK
Z003B5
	GOSUB?L	_SendAOK

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00330	Z003B6		goto		TaskCleanup
Z003B6
	GOTO?L	_TaskCleanup

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00332	Z003B7	ArgumentError:
Z003B7

	LABEL?L	_ArgumentError	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00333	Z003B8		hserout ["ERR",CR,"Argument out of range",LF]
Z003B8
	HSEROUT?C	045h
	HSEROUT?C	052h
	HSEROUT?C	052h
	HSEROUT?C	_CR
	HSEROUT?C	041h
	HSEROUT?C	072h
	HSEROUT?C	067h
	HSEROUT?C	075h
	HSEROUT?C	06Dh
	HSEROUT?C	065h
	HSEROUT?C	06Eh
	HSEROUT?C	074h
	HSEROUT?C	020h
	HSEROUT?C	06Fh
	HSEROUT?C	075h
	HSEROUT?C	074h
	HSEROUT?C	020h
	HSEROUT?C	06Fh
	HSEROUT?C	066h
	HSEROUT?C	020h
	HSEROUT?C	072h
	HSEROUT?C	061h
	HSEROUT?C	06Eh
	HSEROUT?C	067h
	HSEROUT?C	065h
	HSEROUT?C	_LF

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00334	Z003B9		goto	Leave
Z003B9
	GOTO?L	_Leave

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00336	Z003BA	CommandTimeout:
Z003BA

	LABEL?L	_CommandTimeout	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00337	Z003BB		hserout ["ERR",CR,"Command Timeout",LF]
Z003BB
	HSEROUT?C	045h
	HSEROUT?C	052h
	HSEROUT?C	052h
	HSEROUT?C	_CR
	HSEROUT?C	043h
	HSEROUT?C	06Fh
	HSEROUT?C	06Dh
	HSEROUT?C	06Dh
	HSEROUT?C	061h
	HSEROUT?C	06Eh
	HSEROUT?C	064h
	HSEROUT?C	020h
	HSEROUT?C	054h
	HSEROUT?C	069h
	HSEROUT?C	06Dh
	HSEROUT?C	065h
	HSEROUT?C	06Fh
	HSEROUT?C	075h
	HSEROUT?C	074h
	HSEROUT?C	_LF

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00338	Z003BC		goto	Leave
Z003BC
	GOTO?L	_Leave

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00340	Z003BD	ArgumentTimeout:
Z003BD

	LABEL?L	_ArgumentTimeout	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00341	Z003BE		hserout ["ERR",CR,"Argument Timeout",LF]
Z003BE
	HSEROUT?C	045h
	HSEROUT?C	052h
	HSEROUT?C	052h
	HSEROUT?C	_CR
	HSEROUT?C	041h
	HSEROUT?C	072h
	HSEROUT?C	067h
	HSEROUT?C	075h
	HSEROUT?C	06Dh
	HSEROUT?C	065h
	HSEROUT?C	06Eh
	HSEROUT?C	074h
	HSEROUT?C	020h
	HSEROUT?C	054h
	HSEROUT?C	069h
	HSEROUT?C	06Dh
	HSEROUT?C	065h
	HSEROUT?C	06Fh
	HSEROUT?C	075h
	HSEROUT?C	074h
	HSEROUT?C	_LF

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00342	Z003BF		goto	Leave
Z003BF
	GOTO?L	_Leave

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00345	Z003C0	DecimalToAscii:							; determine ascii character equivalent of variable 'Decimal' (0-9) and assign
Z003C0

	LABEL?L	_DecimalToAscii	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00346	Z003C1		Ascii = "?"
Z003C1
	MOVE?CB	03Fh, _Ascii

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00347	Z003C2		Lookup	Decimal,["0123456789"],Ascii
Z003C2
	LOOKUP?BCLB	_Decimal, 00Ah, L00002, _Ascii
	LURET?C	030h
	LURET?C	031h
	LURET?C	032h
	LURET?C	033h
	LURET?C	034h
	LURET?C	035h
	LURET?C	036h
	LURET?C	037h
	LURET?C	038h
	LURET?C	039h

	LABEL?L	L00002	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00348	Z003C3	Return
Z003C3
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00351	Z003C4	AsciiToDecimal:							; determine decimal equivalent of variable 'Ascii' and assign to 'Decimal'
Z003C4

	LABEL?L	_AsciiToDecimal	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00352	Z003C5		Decimal = 0								; default value for D if not found in the list
Z003C5
	MOVE?CB	000h, _Decimal

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00353	Z003C6		Lookdown Ascii,["0123456789"],Decimal		; if A is "0", D is 0; if A is "1", D is 1; etc.
Z003C6
	LOOKDOWN?BCLB	_Ascii, 00Ah, L00003, _Decimal
	LDRET?C	030h
	LDRET?C	031h
	LDRET?C	032h
	LDRET?C	033h
	LDRET?C	034h
	LDRET?C	035h
	LDRET?C	036h
	LDRET?C	037h
	LDRET?C	038h
	LDRET?C	039h

	LABEL?L	L00003	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00354	Z003C7	Return
Z003C7
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00356	Z003C8	SendAOK:
Z003C8

	LABEL?L	_SendAOK	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00357	Z003C9		hserout		["AOK",LF]		; line feed (0x0A) ends transmission
Z003C9
	HSEROUT?C	041h
	HSEROUT?C	04Fh
	HSEROUT?C	04Bh
	HSEROUT?C	_LF

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00358	Z003CA	Return
Z003CA
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00362	Z003CB	TaskCleanup:
Z003CB

	LABEL?L	_TaskCleanup	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00363	Z003CC		gosub		SaveSettings    ; save the new settings
Z003CC
	GOSUB?L	_SaveSettings

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00364	Z003CD	Leave:
Z003CD

	LABEL?L	_Leave	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00365	Z003CE		gosub		EnableInterrupts
Z003CE
	GOSUB?L	_EnableInterrupts

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00366	Z003CF		If TempOpMode != OpMode then
Z003CF
	CMPEQ?BBL	_TempOpMode, _OpMode, L00082

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00367	Z003D0			TempOpMode = OpMode					; ensure lcd updates if mode changed
Z003D0
	MOVE?BB	_OpMode, _TempOpMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00368	Z003D1			TempPosition_L = Position_L+1		; ensure position gets printed
Z003D1
	ADD?NCN	_Position_L, 001h, _TempPosition_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00369	Z003D2			Resume 		Main
Z003D2
	RESUME?L	_Main

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00370	Z003D3		Else
Z003D3
	GOTO?L	L00083
	LABEL?L	L00082	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00371	Z003D4			Resume
Z003D4
	RESUME?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00372	Z003D5		EndIf
Z003D5
	LABEL?L	L00083	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00374	Z003D6	SendDecimal:
Z003D6

	LABEL?L	_SendDecimal	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00375	Z003D7		gosub	DecimalToAscii
Z003D7
	GOSUB?L	_DecimalToAscii

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00376	Z003D8		hserout [Ascii]
Z003D8
	HSEROUT?B	_Ascii

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00377	Z003D9	Return
Z003D9
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00379	Z003DA	Serial_Done:
Z003DA

	LABEL?L	_Serial_Done	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\SERIALCOMMUNICATION.PBP	00380	Z003DB	Enable Interrupt
Z003DB
	IENABLE?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00031	Z003DC	include "Includes\Interrupts.pbp"				; interrupt setup
Z003DC

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00001	Z003DD	Disable Interrupt
Z003DD
	IDISABLE?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00002	Z003DE	goto	Interrupts_Done
Z003DE
	GOTO?L	_Interrupts_Done

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00006	Z003DF	EnableInterrupts:
Z003DF

	LABEL?L	_EnableInterrupts	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00007	Z003E0		RC1IF	= 0			; clear interrupt conditions, not sure if RC1IF can be written directly
Z003E0
	MOVE?CT	000h, _RC1IF

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00008	Z003E1		B 		= RCREG1	; but reading RCREG1 should clear it	
Z003E1
	MOVE?BB	RCREG1, _B

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00009	Z003E2		CREN1	= 0			; clear continous receive to clear errors
Z003E2
	MOVE?CT	000h, _CREN1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00010	Z003E3		pause 	1
Z003E3
	PAUSE?C	001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00011	Z003E4		CREN1	= 1			; and then enable continous receive to re-enable port
Z003E4
	MOVE?CT	001h, _CREN1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00012	Z003E5		RC1IE	= 1			; enable serial receive interrupt (first port)
Z003E5
	MOVE?CT	001h, _RC1IE

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00013	Z003E6		PEIE	= 1			; enable peripheral interrupts
Z003E6
	MOVE?CT	001h, _PEIE

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00014	Z003E7		IPEN	= 0			; all interrupts are high priority
Z003E7
	MOVE?CT	000h, _IPEN

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00015	Z003E8		GIE		= 1			; enable periferal and global interrupts
Z003E8
	MOVE?CT	001h, _GIE

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00016	Z003E9	return
Z003E9
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00019	Z003EA	DisableInterrupts:
Z003EA

	LABEL?L	_DisableInterrupts	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00020	Z003EB		GIE 	= 0			; just turn off global enable flag
Z003EB
	MOVE?CT	000h, _GIE

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00021	Z003EC		PEIE	= 0			; enable peripheral interrupts
Z003EC
	MOVE?CT	000h, _PEIE

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00022	Z003ED		RC1IE	= 0			; enable serial receive interrupt (first port)
Z003ED
	MOVE?CT	000h, _RC1IE

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00023	Z003EE	Return
Z003EE
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00025	Z003EF	Interrupts_Done:
Z003EF

	LABEL?L	_Interrupts_Done	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\INCLUDES\INTERRUPTS.PBP	00026	Z003F0	Enable Interrupt
Z003F0
	IENABLE?	
; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00033	Z003F1	Data @0,1										; first time starting flag (only written when first programmed)
Z003F1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00035	Z003F2	Start:                               ;
Z003F2

	LABEL?L	_Start	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00036	Z003F3		ArrayWrite Firmware,["1.3"]
Z003F3
	ARRAYWRITENAME?B	_Firmware
	ARRAYWRITE?C	031h
	ARRAYWRITE?C	02Eh
	ARRAYWRITE?C	033h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00038	Z003F4		gosub		SetupIO
Z003F4
	GOSUB?L	_SetupIO

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00039	Z003F5		gosub		TurnMotorOff
Z003F5
	GOSUB?L	_TurnMotorOff

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00040	Z003F6		gosub		GivePICbus
Z003F6
	GOSUB?L	_GivePICbus

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00041	Z003F7		gosub		EnablePushLights
Z003F7
	GOSUB?L	_EnablePushLights

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00042	Z003F8		pause		500							; let the lcd warmup
Z003F8
	PAUSE?C	001F4h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00043	Z003F9		gosub		SetupLCD
Z003F9
	GOSUB?L	_SetupLCD

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00045	Z003FA		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["Stepper Controller  "]
Z003FA
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	053h
	I2CWRITE?C	074h
	I2CWRITE?C	065h
	I2CWRITE?C	070h
	I2CWRITE?C	070h
	I2CWRITE?C	065h
	I2CWRITE?C	072h
	I2CWRITE?C	020h
	I2CWRITE?C	043h
	I2CWRITE?C	06Fh
	I2CWRITE?C	06Eh
	I2CWRITE?C	074h
	I2CWRITE?C	072h
	I2CWRITE?C	06Fh
	I2CWRITE?C	06Ch
	I2CWRITE?C	06Ch
	I2CWRITE?C	065h
	I2CWRITE?C	072h
	I2CWRITE?C	020h
	I2CWRITES?C	020h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00046	Z003FB		gosub		SetCursorLine2
Z003FB
	GOSUB?L	_SetCursorLine2

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00047	Z003FC		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["v",STR Firmware \FirmwareLength]
Z003FC
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	076h
	I2CCOUNT?C	_FirmwareLength
	I2CWRITESTRS?B	_Firmware

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00048	Z003FD		pause		2000
Z003FD
	PAUSE?C	007D0h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00049	Z003FE		gosub		ClearLCD
Z003FE
	GOSUB?L	_ClearLCD

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00050	Z003FF		I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["Setting Up...       "]
Z003FF
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	053h
	I2CWRITE?C	065h
	I2CWRITE?C	074h
	I2CWRITE?C	074h
	I2CWRITE?C	069h
	I2CWRITE?C	06Eh
	I2CWRITE?C	067h
	I2CWRITE?C	020h
	I2CWRITE?C	055h
	I2CWRITE?C	070h
	I2CWRITE?C	02Eh
	I2CWRITE?C	02Eh
	I2CWRITE?C	02Eh
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITES?C	020h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00051	Z00400		pause		1000
Z00400
	PAUSE?C	003E8h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00053	Z00401		gosub		SetupRTC						; configure the real time clock		
Z00401
	GOSUB?L	_SetupRTC

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00055	Z00402		Read	0,FirstTimeOn					; read in address 0 of internal eeprom (written as 1 during initial programming only)
Z00402
	READADDRESS?C	000h
	READ?B	_FirstTimeOn

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00057	Z00403		gosub	ClearLCD
Z00403
	GOSUB?L	_ClearLCD

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00058	Z00404		If	FirstTimeOn=Yes then 
Z00404
	CMPNE?BCL	_FirstTimeOn, _Yes, L00084

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00059	Z00405		 	I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["Loading defaults   "]
Z00405
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	04Ch
	I2CWRITE?C	06Fh
	I2CWRITE?C	061h
	I2CWRITE?C	064h
	I2CWRITE?C	069h
	I2CWRITE?C	06Eh
	I2CWRITE?C	067h
	I2CWRITE?C	020h
	I2CWRITE?C	064h
	I2CWRITE?C	065h
	I2CWRITE?C	066h
	I2CWRITE?C	061h
	I2CWRITE?C	075h
	I2CWRITE?C	06Ch
	I2CWRITE?C	074h
	I2CWRITE?C	073h
	I2CWRITE?C	020h
	I2CWRITE?C	020h
	I2CWRITES?C	020h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00060	Z00406			gosub		SetValuesToDefault
Z00406
	GOSUB?L	_SetValuesToDefault

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00061	Z00407			gosub		SaveSettings
Z00407
	GOSUB?L	_SaveSettings

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00062	Z00408			FirstTimeOn=No					; clear the first time starting flag
Z00408
	MOVE?CB	_No, _FirstTimeOn

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00063	Z00409			Write	0,FirstTimeOn				; and save that to the internal eeprom
Z00409
	WRITEADDRESS?C	000h
	WRITE?B	_FirstTimeOn

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00064	Z0040A		Else
Z0040A
	GOTO?L	L00085
	LABEL?L	L00084	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00065	Z0040B		 	I2Cwrite	I2Cdata,I2Cclk,lcdI2Caddress,["Restoring settings  "]
Z0040B
	I2CDATA?T	_I2Cdata
	I2CCLOCK?T	_I2Cclk
	I2CWRITE?B	_lcdI2Caddress
	I2CWRITE?C	052h
	I2CWRITE?C	065h
	I2CWRITE?C	073h
	I2CWRITE?C	074h
	I2CWRITE?C	06Fh
	I2CWRITE?C	072h
	I2CWRITE?C	069h
	I2CWRITE?C	06Eh
	I2CWRITE?C	067h
	I2CWRITE?C	020h
	I2CWRITE?C	073h
	I2CWRITE?C	065h
	I2CWRITE?C	074h
	I2CWRITE?C	074h
	I2CWRITE?C	069h
	I2CWRITE?C	06Eh
	I2CWRITE?C	067h
	I2CWRITE?C	073h
	I2CWRITE?C	020h
	I2CWRITES?C	020h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00066	Z0040C			gosub		RestoreSettings
Z0040C
	GOSUB?L	_RestoreSettings

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00067	Z0040D		EndIf	
Z0040D
	LABEL?L	L00085	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00068	Z0040E		pause		1000
Z0040E
	PAUSE?C	003E8h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00070	Z0040F	    Setpoint_L = Position_L                 ; start with no position error
Z0040F
	MOVE?NN	_Position_L, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00071	Z00410		gosub		ConfigureMotor
Z00410
	GOSUB?L	_ConfigureMotor

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00072	Z00411		pause		10							; allow motor to settle
Z00411
	PAUSE?C	00Ah

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00073	Z00412		gosub		ResetCounter
Z00412
	GOSUB?L	_ResetCounter

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00074	Z00413		gosub		DisablePushLights
Z00413
	GOSUB?L	_DisablePushLights

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00075	Z00414		limit	=	No							; assume motor not at limit
Z00414
	MOVE?CT	_No, _Limit

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00077	Z00415		TempFeedbackOn	=	FeedbackOn + 1		; ensure mismatch for display test
Z00415
	ADD?BCB	_FeedbackOn, 001h, _TempFeedbackOn

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00078	Z00416		TempSetpoint_L	=	Setpoint_L + 1
Z00416
	ADD?NCN	_Setpoint_L, 001h, _TempSetpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00079	Z00417		TempPosition_L	=	Position_L + 1
Z00417
	ADD?NCN	_Position_L, 001h, _TempPosition_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00080	Z00418		gosub		ClearLCD
Z00418
	GOSUB?L	_ClearLCD

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00081	Z00419		gosub		EnableInterrupts
Z00419
	GOSUB?L	_EnableInterrupts

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00083	Z0041A	goto			Main						; Assume normal operation
Z0041A
	GOTO?L	_Main

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00085	Z0041B	On Interrupt goto	PCrequest
Z0041B
	ONINT?LL	_PCrequest, L00004

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00087	Z0041C	Enable Interrupt			
Z0041C
	IENABLE?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00090	Z0041D	Main: 	
Z0041D

	LABEL?L	_Main	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00091	Z0041E		gosub	DisablePushLights
Z0041E
	ICALL?L	L00004
	GOSUB?L	_DisablePushLights

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00092	Z0041F		for i=0 to 9
Z0041F
	ICALL?L	L00004
	MOVE?CW	000h, _i
	LABEL?L	L00086	
	CMPGT?WCL	_i, 009h, L00087

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00093	Z00420			pause 1
Z00420
	ICALL?L	L00004
	PAUSE?C	001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00094	Z00421		next i
Z00421
	ICALL?L	L00004
	NEXT?WCL	_i, 001h, L00086
	LABEL?L	L00087	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00095	Z00422		Select Case OpMode
Z00422
	ICALL?L	L00004

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00096	Z00423			Case MotorOff
Z00423
	ICALL?L	L00004
	CMPNE?BCL	_OpMode, _MotorOff, L00090

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00097	Z00424				goto	MotorOffMode
Z00424
	ICALL?L	L00004
	GOTO?L	_MotorOffMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00098	Z00425			Case Manual
Z00425
	ICALL?L	L00004
	GOTO?L	L00089
	LABEL?L	L00090	
	CMPNE?BCL	_OpMode, _Manual, L00091

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00099	Z00426				goto ManualMode
Z00426
	ICALL?L	L00004
	GOTO?L	_ManualMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00100	Z00427			Case External
Z00427
	ICALL?L	L00004
	GOTO?L	L00089
	LABEL?L	L00091	
	CMPNE?BCL	_OpMode, _External, L00092

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00101	Z00428				goto ExternalMode
Z00428
	ICALL?L	L00004
	GOTO?L	_ExternalMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00102	Z00429			Case TriggeredGoto
Z00429
	ICALL?L	L00004
	GOTO?L	L00089
	LABEL?L	L00092	
	CMPNE?BCL	_OpMode, _TriggeredGoto, L00093

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00103	Z0042A				goto TriggeredGotoMode
Z0042A
	ICALL?L	L00004
	GOTO?L	_TriggeredGotoMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00104	Z0042B			Case TimedGoto
Z0042B
	ICALL?L	L00004
	GOTO?L	L00089
	LABEL?L	L00093	
	CMPNE?BCL	_OpMode, _TimedGoto, L00094

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00105	Z0042C				goto TimedGotoMode
Z0042C
	ICALL?L	L00004
	GOTO?L	_TimedGotoMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00106	Z0042D			Case TriggeredMove
Z0042D
	ICALL?L	L00004
	GOTO?L	L00089
	LABEL?L	L00094	
	CMPNE?BCL	_OpMode, _TriggeredMove, L00095

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00107	Z0042E				goto TriggeredMoveMode
Z0042E
	ICALL?L	L00004
	GOTO?L	_TriggeredMoveMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00108	Z0042F			Case TimedMove
Z0042F
	ICALL?L	L00004
	GOTO?L	L00089
	LABEL?L	L00095	
	CMPNE?BCL	_OpMode, _TimedMove, L00096

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00109	Z00430				goto TimedMoveMode
Z00430
	ICALL?L	L00004
	GOTO?L	_TimedMoveMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00110	Z00431			Case StateRotate
Z00431
	ICALL?L	L00004
	GOTO?L	L00089
	LABEL?L	L00096	
	CMPNE?BCL	_OpMode, _StateRotate, L00097

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00111	Z00432				goto StateRotateMode
Z00432
	ICALL?L	L00004
	GOTO?L	_StateRotateMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00112	Z00433			Case TriggeredShutter
Z00433
	ICALL?L	L00004
	GOTO?L	L00089
	LABEL?L	L00097	
	CMPNE?BCL	_OpMode, _TriggeredShutter, L00098

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00113	Z00434				goto TriggeredShutterMode
Z00434
	ICALL?L	L00004
	GOTO?L	_TriggeredShutterMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00114	Z00435			Case StateShutter
Z00435
	ICALL?L	L00004
	GOTO?L	L00089
	LABEL?L	L00098	
	CMPNE?BCL	_OpMode, _StateShutter, L00099

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00115	Z00436				goto StateShutterMode
Z00436
	ICALL?L	L00004
	GOTO?L	_StateShutterMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00116	Z00437		End	Select
Z00437
	ICALL?L	L00004
	LABEL?L	L00099	
	LABEL?L	L00089	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00117	Z00438	goto Main
Z00438
	ICALL?L	L00004
	GOTO?L	_Main

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00120	Z00439	MotorOffMode:
Z00439

	LABEL?L	_MotorOffMode	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00121	Z0043A		gosub		GivePICBus					; make sure PIC has the bus
Z0043A
	ICALL?L	L00004
	GOSUB?L	_GivePICbus

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00122	Z0043B		gosub		TurnMotorOff				; make sure motor is enabled
Z0043B
	ICALL?L	L00004
	GOSUB?L	_TurnMotorOff

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00123	Z0043C		gosub		ClearLCD
Z0043C
	ICALL?L	L00004
	GOSUB?L	_ClearLCD

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00124	Z0043D	MotorOffModeLoop:
Z0043D

	LABEL?L	_MotorOffModeLoop	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00125	Z0043E		pause		100
Z0043E
	ICALL?L	L00004
	PAUSE?C	064h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00126	Z0043F	    gosub       CheckForModeChange
Z0043F
	ICALL?L	L00004
	GOSUB?L	_CheckForModeChange

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00127	Z00440		gosub		GetPosition
Z00440
	ICALL?L	L00004
	GOSUB?L	_GetPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00128	Z00441		gosub		ReadRTC
Z00441
	ICALL?L	L00004
	GOSUB?L	_ReadRTC

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00129	Z00442		gosub		MotorOffDisplay
Z00442
	ICALL?L	L00004
	GOSUB?L	_MotorOffDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00130	Z00443	goto	MotorOffModeLoop
Z00443
	ICALL?L	L00004
	GOTO?L	_MotorOffModeLoop

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00135	Z00444	ManualMode:
Z00444

	LABEL?L	_ManualMode	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00136	Z00445		gosub		GivePICBus					; make sure PIC has the bus
Z00445
	ICALL?L	L00004
	GOSUB?L	_GivePICbus

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00137	Z00446		gosub		TurnMotorOn					; make sure motor is enabled
Z00446
	ICALL?L	L00004
	GOSUB?L	_TurnMotorOn

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00138	Z00447		gosub		EnablePushLights
Z00447
	ICALL?L	L00004
	GOSUB?L	_EnablePushLights

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00139	Z00448		gosub		ClearLCD
Z00448
	ICALL?L	L00004
	GOSUB?L	_ClearLCD

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00140	Z00449		gosub		ManualDisplay
Z00449
	ICALL?L	L00004
	GOSUB?L	_ManualDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00141	Z0044A	ManualLoop:
Z0044A

	LABEL?L	_ManualLoop	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00142	Z0044B	    gosub		CheckForModeChange                          ; abort correction process by changing the mode
Z0044B
	ICALL?L	L00004
	GOSUB?L	_CheckForModeChange

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00143	Z0044C		gosub       CorrectPosition
Z0044C
	ICALL?L	L00004
	GOSUB?L	_CorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00145	Z0044D		Button 		Right,0,10,1,Ri,1,ManualRight	; pin, down, delay, rate, variable, action, label
Z0044D
	ICALL?L	L00004
	BUTTONPIN?T	_Right
	BUTTONDS?C	000h
	BUTTONDEL?C	00Ah
	BUTTONRATE?C	001h
	BUTTONTS?C	001h
	BUTTON?BL	_Ri, _ManualRight

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00146	Z0044E		Button 		Left,0,10,1,Li,1,ManualLeft		; delay = how many loops you must hold the button for it to be considered held
Z0044E
	ICALL?L	L00004
	BUTTONPIN?T	_Left
	BUTTONDS?C	000h
	BUTTONDEL?C	00Ah
	BUTTONRATE?C	001h
	BUTTONTS?C	001h
	BUTTON?BL	_Li, _ManualLeft

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00149	Z0044F		goto		ManualLoop						; nothing is pressed
Z0044F
	ICALL?L	L00004
	GOTO?L	_ManualLoop

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00151	Z00450	ManualRight:
Z00450

	LABEL?L	_ManualRight	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00152	Z00451		Setpoint_L = 	Setpoint_L-C				; step counting variables are actually 16 per step
Z00451
	ICALL?L	L00004
	SUB?NCN	_Setpoint_L, _C, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00153	Z00452		goto		ManualLoop
Z00452
	ICALL?L	L00004
	GOTO?L	_ManualLoop

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00155	Z00453	ManualLeft:
Z00453

	LABEL?L	_ManualLeft	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00156	Z00454		Setpoint_L = 	Setpoint_L+C
Z00454
	ICALL?L	L00004
	ADD?NCN	_Setpoint_L, _C, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00157	Z00455		goto		ManualLoop
Z00455
	ICALL?L	L00004
	GOTO?L	_ManualLoop

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00159	Z00456	goto	ManualLoop
Z00456
	ICALL?L	L00004
	GOTO?L	_ManualLoop

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00166	Z00457	ExternalMode:
Z00457

	LABEL?L	_ExternalMode	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00167	Z00458		gosub		GivePICbus					; give pic bus whilst setting up
Z00458
	ICALL?L	L00004
	GOSUB?L	_GivePICbus

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00168	Z00459		gosub		TurnMotorOn					; make sure motor is enabled	
Z00459
	ICALL?L	L00004
	GOSUB?L	_TurnMotorOn

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00169	Z0045A		gosub		ClearLCD
Z0045A
	ICALL?L	L00004
	GOSUB?L	_ClearLCD

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00170	Z0045B		gosub		GiveExtBus					; give step/direction bus to external controls
Z0045B
	ICALL?L	L00004
	GOSUB?L	_GiveExtBus

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00171	Z0045C		TMR0H = 0                               ; zero the counters
Z0045C
	ICALL?L	L00004
	MOVE?CB	000h, TMR0H

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00172	Z0045D		TMR0L = 0
Z0045D
	ICALL?L	L00004
	MOVE?CB	000h, TMR0L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00173	Z0045E		TMR1H = 0
Z0045E
	ICALL?L	L00004
	MOVE?CB	000h, TMR1H

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00174	Z0045F		TMR1L = 0
Z0045F
	ICALL?L	L00004
	MOVE?CB	000h, TMR1L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00175	Z00460	    Setpoint_L = Position_L                 
Z00460
	ICALL?L	L00004
	MOVE?NN	_Position_L, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00176	Z00461		gosub		ExternalDisplay
Z00461
	ICALL?L	L00004
	GOSUB?L	_ExternalDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00177	Z00462	ExternalLoop:   ; timer 1 counts positive steps, timer 0 counts negative ones
Z00462

	LABEL?L	_ExternalLoop	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00178	Z00463	    gosub		CheckForModeChange                          ; abort correction process by changing the mode
Z00463
	ICALL?L	L00004
	GOSUB?L	_CheckForModeChange

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00179	Z00464	    Setpoint_L = Setpoint_L + C*(256*TMR1H + TMR1L) - C*(256*TMR0H + TMR0L)  ; get total step count from edge counters
Z00464
	ICALL?L	L00004
	MUL?CBN	000000100h, TMR1H, T1
	ADD?NBN	T1, TMR1L, T1
	MUL?CNN	_C, T1, T1
	ADD?NNN	_Setpoint_L, T1, T1
	MUL?CBN	000000100h, TMR0H, T2
	ADD?NBN	T2, TMR0L, T2
	MUL?CNN	_C, T2, T2
	SUB?NNN	T1, T2, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00180	Z00465	    gosub		CorrectPosition
Z00465
	ICALL?L	L00004
	GOSUB?L	_CorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00181	Z00466	goto		ExternalLoop
Z00466
	ICALL?L	L00004
	GOTO?L	_ExternalLoop

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00186	Z00467	TriggeredGotoMode:
Z00467

	LABEL?L	_TriggeredGotoMode	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00187	Z00468		gosub		GivePICBus					; make sure PIC has the bus
Z00468
	ICALL?L	L00004
	GOSUB?L	_GivePICbus

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00188	Z00469		gosub		TurnMotorOn					; make sure motor is enabled
Z00469
	ICALL?L	L00004
	GOSUB?L	_TurnMotorOn

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00189	Z0046A		gosub		ClearLCD				
Z0046A
	ICALL?L	L00004
	GOSUB?L	_ClearLCD

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00190	Z0046B		gosub		ClearCounters				; clear the two timers (TMR0 and TMR1), the sum of which is the trigger count
Z0046B
	ICALL?L	L00004
	GOSUB?L	_ClearCounters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00191	Z0046C		gosub		TriggeredGotoDisplay
Z0046C
	ICALL?L	L00004
	GOSUB?L	_TriggeredGotoDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00192	Z0046D	TriggeredGotoLoop:
Z0046D

	LABEL?L	_TriggeredGotoLoop	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00193	Z0046E	    gosub   CheckForModeChange                          ; abort correction process by changing the mode
Z0046E
	ICALL?L	L00004
	GOSUB?L	_CheckForModeChange

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00194	Z0046F		gosub	GetTriggers
Z0046F
	ICALL?L	L00004
	GOSUB?L	_GetTriggers

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00195	Z00470		gosub	UpdateTriggers
Z00470
	ICALL?L	L00004
	GOSUB?L	_UpdateTriggers

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00196	Z00471		If Triggers_W >= DoTriggers_W then ExecuteTriggeredGoto	; do the goto if number of triggers has been reached
Z00471
	ICALL?L	L00004
	CMPGE?WWL	_Triggers_W, _DoTriggers_W, _ExecuteTriggeredGoto

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00198	Z00472		gosub	CorrectPosition
Z00472
	ICALL?L	L00004
	GOSUB?L	_CorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00199	Z00473		goto	TriggeredGotoLoop				; or continue waiting...
Z00473
	ICALL?L	L00004
	GOTO?L	_TriggeredGotoLoop

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00200	Z00474	ExecuteTriggeredGoto:
Z00474

	LABEL?L	_ExecuteTriggeredGoto	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00201	Z00475		Setpoint_L = Destination_L
Z00475
	ICALL?L	L00004
	MOVE?NN	_Destination_L, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00202	Z00476		gosub	CorrectPosition					; make move to desired position (setpoint)
Z00476
	ICALL?L	L00004
	GOSUB?L	_CorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00203	Z00477		goto	TriggeredGotoMode
Z00477
	ICALL?L	L00004
	GOTO?L	_TriggeredGotoMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00209	Z00478	TimedGotoMode:
Z00478

	LABEL?L	_TimedGotoMode	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00210	Z00479		gosub		GivePICBus					; make sure PIC has the bus
Z00479
	ICALL?L	L00004
	GOSUB?L	_GivePICbus

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00211	Z0047A		gosub		TurnMotorOn					; make sure motor is enabled
Z0047A
	ICALL?L	L00004
	GOSUB?L	_TurnMotorOn

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00212	Z0047B		gosub		ClearLCD
Z0047B
	ICALL?L	L00004
	GOSUB?L	_ClearLCD

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00213	Z0047C	TimedGotoLoop:
Z0047C

	LABEL?L	_TimedGotoLoop	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00214	Z0047D	    gosub   CheckForModeChange                          ; abort correction process by changing the mode
Z0047D
	ICALL?L	L00004
	GOSUB?L	_CheckForModeChange

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00215	Z0047E		gosub	ReadRTC							; get current time/date (updates hours,minutes,days variables, etc.)
Z0047E
	ICALL?L	L00004
	GOSUB?L	_ReadRTC

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00216	Z0047F		gosub	TimedGotoDisplay
Z0047F
	ICALL?L	L00004
	GOSUB?L	_TimedGotoDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00217	Z00480		Select Case TimeMatch
Z00480
	ICALL?L	L00004

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00218	Z00481			Case Secs
Z00481
	ICALL?L	L00004
	CMPNE?BCL	_TimeMatch, _Secs, L00102

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00219	Z00482				If Time[Seconds]=DoTime[Seconds] then ExecuteTimedGoto
Z00482
	ICALL?L	L00004
	CMPEQ?BBL	_Time, _DoTime, _ExecuteTimedGoto

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00220	Z00483			Case SecsMins
Z00483
	ICALL?L	L00004
	GOTO?L	L00101
	LABEL?L	L00102	
	CMPNE?BCL	_TimeMatch, _SecsMins, L00103

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00221	Z00484				If Time[Seconds]=DoTime[Seconds] AND Time[Minutes]=DoTime[Minutes] then ExecuteTimedGoto
Z00484
	ICALL?L	L00004
	CMPEQ?BBB	_Time, _DoTime, T1
	CMPEQ?BBB	_Time + 00001h, _DoTime + 00001h, T2
	LAND?BBL	T1, T2, _ExecuteTimedGoto

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00222	Z00485			Case SecsMinsHrs
Z00485
	ICALL?L	L00004
	GOTO?L	L00101
	LABEL?L	L00103	
	CMPNE?BCL	_TimeMatch, _SecsMinsHrs, L00104

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00223	Z00486				If Time[Hours]=DoTime[Hours] AND Time[Minutes]=DoTime[Minutes] AND Time[Seconds]=DoTime[Seconds] then ExecuteTimedGo
Z00486
	ICALL?L	L00004
	CMPEQ?BBB	_Time + 00002h, _DoTime + 00002h, T1
	CMPEQ?BBB	_Time + 00001h, _DoTime + 00001h, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BBB	_Time, _DoTime, T3
	LAND?NBL	T2, T3, _ExecuteTimedGoto

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00224	Z00487		End Select
Z00487
	ICALL?L	L00004
	LABEL?L	L00104	
	LABEL?L	L00101	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00225	Z00488		gosub	CorrectPosition					; check feedback, adjust position if necessary
Z00488
	ICALL?L	L00004
	GOSUB?L	_CorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00226	Z00489		pause	10
Z00489
	ICALL?L	L00004
	PAUSE?C	00Ah

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00227	Z0048A		goto	TimedGotoLoop					; or wait for next time match
Z0048A
	ICALL?L	L00004
	GOTO?L	_TimedGotoLoop

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00228	Z0048B	ExecuteTimedGoto:
Z0048B

	LABEL?L	_ExecuteTimedGoto	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00229	Z0048C		Setpoint_L = Destination_L
Z0048C
	ICALL?L	L00004
	MOVE?NN	_Destination_L, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00230	Z0048D		gosub	CorrectPosition
Z0048D
	ICALL?L	L00004
	GOSUB?L	_CorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00231	Z0048E		goto	TimedGotoMode
Z0048E
	ICALL?L	L00004
	GOTO?L	_TimedGotoMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00237	Z0048F	TriggeredMoveMode:
Z0048F

	LABEL?L	_TriggeredMoveMode	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00238	Z00490		gosub		GivePICBus					; make sure PIC has the bus
Z00490
	ICALL?L	L00004
	GOSUB?L	_GivePICbus

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00239	Z00491		gosub		TurnMotorOn					; make sure motor is enabled
Z00491
	ICALL?L	L00004
	GOSUB?L	_TurnMotorOn

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00240	Z00492		gosub		ClearLCD
Z00492
	ICALL?L	L00004
	GOSUB?L	_ClearLCD

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00241	Z00493		gosub		ClearCounters				; clear the two timers (TMR0 and TMR3), the sum of which is the trigger count
Z00493
	ICALL?L	L00004
	GOSUB?L	_ClearCounters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00242	Z00494		gosub		TriggeredMoveDisplay				
Z00494
	ICALL?L	L00004
	GOSUB?L	_TriggeredMoveDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00243	Z00495	TriggeredMoveLoop:
Z00495

	LABEL?L	_TriggeredMoveLoop	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00244	Z00496	    gosub		CheckForModeChange                          ; abort correction process by changing the mode
Z00496
	ICALL?L	L00004
	GOSUB?L	_CheckForModeChange

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00245	Z00497		gosub		GetTriggers
Z00497
	ICALL?L	L00004
	GOSUB?L	_GetTriggers

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00246	Z00498		gosub		UpdateTriggers
Z00498
	ICALL?L	L00004
	GOSUB?L	_UpdateTriggers

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00247	Z00499		If Triggers_W >= DoTriggers_W then ExecuteTriggeredMove		; do the move if number of triggers has been reached
Z00499
	ICALL?L	L00004
	CMPGE?WWL	_Triggers_W, _DoTriggers_W, _ExecuteTriggeredMove

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00248	Z0049A		gosub		CorrectPosition
Z0049A
	ICALL?L	L00004
	GOSUB?L	_CorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00249	Z0049B		goto		TriggeredMoveLoop				; or wait for next trigger	
Z0049B
	ICALL?L	L00004
	GOTO?L	_TriggeredMoveLoop

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00250	Z0049C	ExecuteTriggeredMove:
Z0049C

	LABEL?L	_ExecuteTriggeredMove	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00251	Z0049D		Setpoint_L = Setpoint_L + Steps_L
Z0049D
	ICALL?L	L00004
	ADD?NNN	_Setpoint_L, _Steps_L, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00252	Z0049E		gosub		CorrectPosition					; make move to desired position (setpoint)
Z0049E
	ICALL?L	L00004
	GOSUB?L	_CorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00253	Z0049F		if limit=Yes AND AtLimit=SwitchDirection then Steps_L = -Steps_L	; switch direction if desired
Z0049F
	ICALL?L	L00004
	CMPEQ?TCB	_Limit, _Yes, T1
	CMPEQ?BCB	_AtLimit, _SwitchDirection, T2
	LAND?BBN	T1, T2, T2
	CMPF?NL	T2, L00105
	UMINUS?NN	_Steps_L, _Steps_L
	LABEL?L	L00105	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00254	Z004A0		goto		TriggeredMoveMode
Z004A0
	ICALL?L	L00004
	GOTO?L	_TriggeredMoveMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00260	Z004A1	TimedMoveMode:
Z004A1

	LABEL?L	_TimedMoveMode	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00261	Z004A2		gosub		GivePICBus					; make sure PIC has the bus
Z004A2
	ICALL?L	L00004
	GOSUB?L	_GivePICbus

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00262	Z004A3		gosub		TurnMotorOn					; make sure motor is enabled
Z004A3
	ICALL?L	L00004
	GOSUB?L	_TurnMotorOn

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00263	Z004A4		gosub		ClearLCD
Z004A4
	ICALL?L	L00004
	GOSUB?L	_ClearLCD

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00264	Z004A5	TimedMoveLoop:
Z004A5

	LABEL?L	_TimedMoveLoop	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00265	Z004A6	    gosub		CheckForModeChange                          ; abort correction process by changing the mode
Z004A6
	ICALL?L	L00004
	GOSUB?L	_CheckForModeChange

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00266	Z004A7		gosub		ReadRTC							; get current time/date (updates hours,minutes,days variables, etc.)
Z004A7
	ICALL?L	L00004
	GOSUB?L	_ReadRTC

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00267	Z004A8		gosub		TimedMoveDisplay
Z004A8
	ICALL?L	L00004
	GOSUB?L	_TimedMoveDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00268	Z004A9		Select Case TimeMatch
Z004A9
	ICALL?L	L00004

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00269	Z004AA			Case Secs
Z004AA
	ICALL?L	L00004
	CMPNE?BCL	_TimeMatch, _Secs, L00109

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00270	Z004AB				If Time[Seconds]=DoTime[Seconds] then ExecuteTimedMove
Z004AB
	ICALL?L	L00004
	CMPEQ?BBL	_Time, _DoTime, _ExecuteTimedMove

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00271	Z004AC			Case SecsMins
Z004AC
	ICALL?L	L00004
	GOTO?L	L00108
	LABEL?L	L00109	
	CMPNE?BCL	_TimeMatch, _SecsMins, L00110

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00272	Z004AD				If Time[Seconds]=DoTime[Seconds] AND Time[Minutes]=DoTime[Minutes] then ExecuteTimedMove
Z004AD
	ICALL?L	L00004
	CMPEQ?BBB	_Time, _DoTime, T1
	CMPEQ?BBB	_Time + 00001h, _DoTime + 00001h, T2
	LAND?BBL	T1, T2, _ExecuteTimedMove

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00273	Z004AE			Case SecsMinsHrs
Z004AE
	ICALL?L	L00004
	GOTO?L	L00108
	LABEL?L	L00110	
	CMPNE?BCL	_TimeMatch, _SecsMinsHrs, L00111

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00274	Z004AF				If Time[Hours]=DoTime[Hours] AND Time[Minutes]=DoTime[Minutes] AND Time[Seconds]=DoTime[Seconds] then ExecuteTimedMo
Z004AF
	ICALL?L	L00004
	CMPEQ?BBB	_Time + 00002h, _DoTime + 00002h, T1
	CMPEQ?BBB	_Time + 00001h, _DoTime + 00001h, T2
	LAND?BBN	T1, T2, T2
	CMPEQ?BBB	_Time, _DoTime, T3
	LAND?NBL	T2, T3, _ExecuteTimedMove

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00275	Z004B0		End Select
Z004B0
	ICALL?L	L00004
	LABEL?L	L00111	
	LABEL?L	L00108	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00277	Z004B1		gosub		CorrectPosition
Z004B1
	ICALL?L	L00004
	GOSUB?L	_CorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00278	Z004B2		pause		1
Z004B2
	ICALL?L	L00004
	PAUSE?C	001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00279	Z004B3		goto		TimedMoveLoop					; keep waiting
Z004B3
	ICALL?L	L00004
	GOTO?L	_TimedMoveLoop

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00280	Z004B4	ExecuteTimedMove:
Z004B4

	LABEL?L	_ExecuteTimedMove	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00281	Z004B5		Setpoint_L= Setpoint_L + Steps_L
Z004B5
	ICALL?L	L00004
	ADD?NNN	_Setpoint_L, _Steps_L, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00282	Z004B6		gosub		CorrectPosition
Z004B6
	ICALL?L	L00004
	GOSUB?L	_CorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00283	Z004B7		if limit=Yes AND AtLimit=SwitchDirection then Steps_L = -Steps_L	; switch direction if desired
Z004B7
	ICALL?L	L00004
	CMPEQ?TCB	_Limit, _Yes, T1
	CMPEQ?BCB	_AtLimit, _SwitchDirection, T2
	LAND?BBN	T1, T2, T2
	CMPF?NL	T2, L00112
	UMINUS?NN	_Steps_L, _Steps_L
	LABEL?L	L00112	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00284	Z004B8		goto		TimedMoveMode
Z004B8
	ICALL?L	L00004
	GOTO?L	_TimedMoveMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00289	Z004B9	StateRotateMode:	
Z004B9

	LABEL?L	_StateRotateMode	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00290	Z004BA		gosub		GivePICBus					; make sure PIC has the bus
Z004BA
	ICALL?L	L00004
	GOSUB?L	_GivePICbus

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00291	Z004BB		gosub		TurnMotorOn					; make sure motor is enabled
Z004BB
	ICALL?L	L00004
	GOSUB?L	_TurnMotorOn

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00292	Z004BC		FeedbackOn= No							; can't have feedback on in this  mode
Z004BC
	ICALL?L	L00004
	MOVE?CB	_No, _FeedbackOn

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00293	Z004BD		gosub		ClearLCD
Z004BD
	ICALL?L	L00004
	GOSUB?L	_ClearLCD

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00294	Z004BE		gosub		StateRotateDisplay
Z004BE
	ICALL?L	L00004
	GOSUB?L	_StateRotateDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00295	Z004BF	StateRotateLoop:
Z004BF

	LABEL?L	_StateRotateLoop	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00296	Z004C0	    gosub		CheckForModeChange                          ; abort correction process by changing the mode
Z004C0
	ICALL?L	L00004
	GOSUB?L	_CheckForModeChange

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00297	Z004C1		If ExtTrigger=State then	Setpoint_L = Setpoint_L + Rotate_L*C		; change setpoint if trigger input is correct state
Z004C1
	ICALL?L	L00004
	CMPNE?TTL	_ExtTrigger, _State, L00114
	MUL?NCN	_Rotate_L, _C, T1
	ADD?NNN	_Setpoint_L, T1, _Setpoint_L
	LABEL?L	L00114	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00298	Z004C2	    gosub       CorrectPosition
Z004C2
	ICALL?L	L00004
	GOSUB?L	_CorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00299	Z004C3		if limit=Yes AND AtLimit=SwitchDirection then Rotate_L = -Rotate_L	; switch direction if desired
Z004C3
	ICALL?L	L00004
	CMPEQ?TCB	_Limit, _Yes, T1
	CMPEQ?BCB	_AtLimit, _SwitchDirection, T2
	LAND?BBN	T1, T2, T2
	CMPF?NL	T2, L00116
	UMINUS?NN	_Rotate_L, _Rotate_L
	LABEL?L	L00116	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00300	Z004C4		for j=0 to Delay_W-MinDelay+1										; delay a bit...
Z004C4
	ICALL?L	L00004
	MOVE?CW	000h, _j
	LABEL?L	L00118	
	SUB?WCN	_Delay_W, _MinDelay, T1
	ADD?NCN	T1, 001h, T1
	CMPGT?WNL	_j, T1, L00119

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00301	Z004C5			pause 1
Z004C5
	ICALL?L	L00004
	PAUSE?C	001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00302	Z004C6		next j
Z004C6
	ICALL?L	L00004
	NEXT?WCL	_j, 001h, L00118
	LABEL?L	L00119	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00303	Z004C7		goto		StateRotateLoop
Z004C7
	ICALL?L	L00004
	GOTO?L	_StateRotateLoop

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00309	Z004C8	TriggeredShutterMode:
Z004C8

	LABEL?L	_TriggeredShutterMode	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00310	Z004C9		gosub		GivePICBus						; make sure PIC has the bus
Z004C9
	ICALL?L	L00004
	GOSUB?L	_GivePICbus

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00311	Z004CA		gosub		TurnMotorOn						; make sure motor is enabled
Z004CA
	ICALL?L	L00004
	GOSUB?L	_TurnMotorOn

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00312	Z004CB		gosub		ClearLCD		
Z004CB
	ICALL?L	L00004
	GOSUB?L	_ClearLCD

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00313	Z004CC		gosub		ClearCounters					; clear the two timers (TMR0 and TMR3), the sum of which is the trigger count
Z004CC
	ICALL?L	L00004
	GOSUB?L	_ClearCounters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00314	Z004CD		Home_L	=	Position_L						; home is where the heart is
Z004CD
	ICALL?L	L00004
	MOVE?NN	_Position_L, _Home_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00315	Z004CE		gosub		GetTriggers	
Z004CE
	ICALL?L	L00004
	GOSUB?L	_GetTriggers

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00316	Z004CF		gosub		TriggeredShutterDisplay
Z004CF
	ICALL?L	L00004
	GOSUB?L	_TriggeredShutterDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00317	Z004D0	TriggeredShutterLoop1:
Z004D0

	LABEL?L	_TriggeredShutterLoop1	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00318	Z004D1	    gosub		CheckForModeChange                          ; abort correction process by changing the mode
Z004D1
	ICALL?L	L00004
	GOSUB?L	_CheckForModeChange

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00319	Z004D2		gosub		GetTriggers
Z004D2
	ICALL?L	L00004
	GOSUB?L	_GetTriggers

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00320	Z004D3		gosub		UpdateTriggers
Z004D3
	ICALL?L	L00004
	GOSUB?L	_UpdateTriggers

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00321	Z004D4		If Triggers_W >= DoTriggers_W then ExecuteTriggeredShutterMove
Z004D4
	ICALL?L	L00004
	CMPGE?WWL	_Triggers_W, _DoTriggers_W, _ExecuteTriggeredShutterMove

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00322	Z004D5	    gosub       CorrectPosition
Z004D5
	ICALL?L	L00004
	GOSUB?L	_CorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00323	Z004D6		goto		TriggeredShutterLoop1			; or wait for next trigger	
Z004D6
	ICALL?L	L00004
	GOTO?L	_TriggeredShutterLoop1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00324	Z004D7	ExecuteTriggeredShutterMove:
Z004D7

	LABEL?L	_ExecuteTriggeredShutterMove	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00325	Z004D8		Setpoint_L = Home_L + Steps_L
Z004D8
	ICALL?L	L00004
	ADD?NNN	_Home_L, _Steps_L, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00326	Z004D9		gosub		CorrectPosition
Z004D9
	ICALL?L	L00004
	GOSUB?L	_CorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00327	Z004DA		gosub		ClearCounters					; clear the trigger counters
Z004DA
	ICALL?L	L00004
	GOSUB?L	_ClearCounters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00328	Z004DB	TriggeredShutterLoop2:
Z004DB

	LABEL?L	_TriggeredShutterLoop2	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00329	Z004DC	    gosub		CheckForModeChange                          ; abort correction process by changing the mode
Z004DC
	ICALL?L	L00004
	GOSUB?L	_CheckForModeChange

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00330	Z004DD		gosub		GetTriggers
Z004DD
	ICALL?L	L00004
	GOSUB?L	_GetTriggers

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00331	Z004DE		gosub		UpdateTriggers
Z004DE
	ICALL?L	L00004
	GOSUB?L	_UpdateTriggers

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00332	Z004DF		If Triggers_W >= DoTriggers_W then ExecuteTriggeredShutterReturn
Z004DF
	ICALL?L	L00004
	CMPGE?WWL	_Triggers_W, _DoTriggers_W, _ExecuteTriggeredShutterReturn

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00333	Z004E0	    gosub       CorrectPosition
Z004E0
	ICALL?L	L00004
	GOSUB?L	_CorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00334	Z004E1		goto		TriggeredShutterLoop2
Z004E1
	ICALL?L	L00004
	GOTO?L	_TriggeredShutterLoop2

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00335	Z004E2	ExecuteTriggeredShutterReturn:
Z004E2

	LABEL?L	_ExecuteTriggeredShutterReturn	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00336	Z004E3		Setpoint_L = Home_L
Z004E3
	ICALL?L	L00004
	MOVE?NN	_Home_L, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00337	Z004E4		gosub		CorrectPosition
Z004E4
	ICALL?L	L00004
	GOSUB?L	_CorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00338	Z004E5		gosub		ClearCounters					; clear the trigger counters
Z004E5
	ICALL?L	L00004
	GOSUB?L	_ClearCounters

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00339	Z004E6	goto	TriggeredShutterLoop1
Z004E6
	ICALL?L	L00004
	GOTO?L	_TriggeredShutterLoop1

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00345	Z004E7	StateShutterMode:
Z004E7

	LABEL?L	_StateShutterMode	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00346	Z004E8		gosub		GivePICBus					; make sure PIC has the bus
Z004E8
	ICALL?L	L00004
	GOSUB?L	_GivePICbus

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00347	Z004E9		gosub		TurnMotorOn					; make sure motor is enabled
Z004E9
	ICALL?L	L00004
	GOSUB?L	_TurnMotorOn

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00348	Z004EA		gosub		ClearLCD
Z004EA
	ICALL?L	L00004
	GOSUB?L	_ClearLCD

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00349	Z004EB		Home_L	=	Position_L					; home is where the heart is
Z004EB
	ICALL?L	L00004
	MOVE?NN	_Position_L, _Home_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00350	Z004EC		gosub		StateShutterDisplay
Z004EC
	ICALL?L	L00004
	GOSUB?L	_StateShutterDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00351	Z004ED	StateShutterLoop:
Z004ED

	LABEL?L	_StateShutterLoop	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00352	Z004EE	    gosub   CheckForModeChange                          ; abort correction process by changing the mode
Z004EE
	ICALL?L	L00004
	GOSUB?L	_CheckForModeChange

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00353	Z004EF		If ExtTrigger=0 then
Z004EF
	ICALL?L	L00004
	CMPNE?TCL	_ExtTrigger, 000h, L00120

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00354	Z004F0			Setpoint_L = Home_L
Z004F0
	ICALL?L	L00004
	MOVE?NN	_Home_L, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00355	Z004F1		Else
Z004F1
	ICALL?L	L00004
	GOTO?L	L00121
	LABEL?L	L00120	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00356	Z004F2			Setpoint_L = Home_L + Steps_L		; steps can be negative!
Z004F2
	ICALL?L	L00004
	ADD?NNN	_Home_L, _Steps_L, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00357	Z004F3		EndIf
Z004F3
	ICALL?L	L00004
	LABEL?L	L00121	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00358	Z004F4		gosub		CorrectPosition
Z004F4
	ICALL?L	L00004
	GOSUB?L	_CorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00359	Z004F5		goto		StateShutterLoop			; shutter modes only loop forever
Z004F5
	ICALL?L	L00004
	GOTO?L	_StateShutterLoop

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00367	Z004F6	CorrectPosition:
Z004F6

	LABEL?L	_CorrectPosition	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00368	Z004F7		B = BusControl										; save off who has the bus (pic or external)
Z004F7
	ICALL?L	L00004
	MOVE?TB	_BusControl, _B

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00369	Z004F8	CorrectPositionLoop:
Z004F8

	LABEL?L	_CorrectPositionLoop	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00370	Z004F9		If FeedbackOn=Yes then
Z004F9
	ICALL?L	L00004
	CMPNE?BCL	_FeedbackOn, _Yes, L00122

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00371	Z004FA			gosub	GetPosition								; get current position from feedback monitor
Z004FA
	ICALL?L	L00004
	GOSUB?L	_GetPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00372	Z004FB		EndIf												; otherwise assume motor is where it thinks (from past step taking)
Z004FB
	ICALL?L	L00004
	LABEL?L	L00122	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00373	Z004FC		gosub		UpdateDisplay							; uncomment to update the position during the move/goto (makes it slow though)
Z004FC
	ICALL?L	L00004
	GOSUB?L	_UpdateDisplay

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00375	Z004FD		If Left=0 AND Right=0 then									; can abandon task by pressing both buttons at once
Z004FD
	ICALL?L	L00004
	CMPEQ?TCB	_Left, 000h, T1
	CMPEQ?TCB	_Right, 000h, T2
	LAND?BBN	T1, T2, T2
	CMPF?NL	T2, L00124

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00376	Z004FE			TempPosition_L = Position_L + 1							; ensure display updates
Z004FE
	ICALL?L	L00004
	ADD?NCN	_Position_L, 001h, _TempPosition_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00377	Z004FF			goto	ExitCorrectPosition
Z004FF
	ICALL?L	L00004
	GOTO?L	_ExitCorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00378	Z00500		EndIf
Z00500
	ICALL?L	L00004
	LABEL?L	L00124	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00379	Z00501		If EnableDrive=No then ExitCorrectPosition					; exit if motor is disabled
Z00501
	ICALL?L	L00004
	CMPEQ?TCL	_EnableDrive, _No, _ExitCorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00380	Z00502		If abs(Setpoint_L-Position_L)<C then ExitCorrectPosition	; nothing to do!  step error is less than a single step
Z00502
	ICALL?L	L00004
	SUB?NNN	_Setpoint_L, _Position_L, T1
	ABS?NN	T1, T1
	CMPLT?NCL	T1, _C, _ExitCorrectPosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00383	Z00503		limit = No													; take a step to correct any position error:
Z00503
	ICALL?L	L00004
	MOVE?CT	_No, _Limit

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00384	Z00504		gosub		GivePICbus										; else there is a step error that requires correcting
Z00504
	ICALL?L	L00004
	GOSUB?L	_GivePICbus

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00385	Z00505		If Position_L<Setpoint_L then								; take the step
Z00505
	ICALL?L	L00004
	CMPGE?NNL	_Position_L, _Setpoint_L, L00126

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00386	Z00506			If Position_L+C>MaxPos_L then
Z00506
	ICALL?L	L00004
	ADD?NCN	_Position_L, _C, T1
	CMPLE?NNL	T1, _MaxPos_L, L00128

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00387	Z00507				Setpoint_L = Position_L
Z00507
	ICALL?L	L00004
	MOVE?NN	_Position_L, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00388	Z00508				limit = Yes
Z00508
	ICALL?L	L00004
	MOVE?CT	_Yes, _Limit

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00389	Z00509			Else
Z00509
	ICALL?L	L00004
	GOTO?L	L00129
	LABEL?L	L00128	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00390	Z0050A				gosub	StepPos
Z0050A
	ICALL?L	L00004
	GOSUB?L	_StepPos

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00391	Z0050B				limit = No
Z0050B
	ICALL?L	L00004
	MOVE?CT	_No, _Limit

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00392	Z0050C			EndIf
Z0050C
	ICALL?L	L00004
	LABEL?L	L00129	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00393	Z0050D		Else
Z0050D
	ICALL?L	L00004
	GOTO?L	L00127
	LABEL?L	L00126	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00394	Z0050E			If Position_L-C<=MinPos_L then
Z0050E
	ICALL?L	L00004
	SUB?NCN	_Position_L, _C, T1
	CMPGT?NNL	T1, _MinPos_L, L00130

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00395	Z0050F				Setpoint_L = Position_L
Z0050F
	ICALL?L	L00004
	MOVE?NN	_Position_L, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00396	Z00510				limit = Yes
Z00510
	ICALL?L	L00004
	MOVE?CT	_Yes, _Limit

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00397	Z00511			Else
Z00511
	ICALL?L	L00004
	GOTO?L	L00131
	LABEL?L	L00130	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00398	Z00512				gosub	StepNeg
Z00512
	ICALL?L	L00004
	GOSUB?L	_StepNeg

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00399	Z00513				limit = No
Z00513
	ICALL?L	L00004
	MOVE?CT	_No, _Limit

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00400	Z00514			EndIf
Z00514
	ICALL?L	L00004
	LABEL?L	L00131	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00401	Z00515		EndIf		
Z00515
	ICALL?L	L00004
	LABEL?L	L00127	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00403	Z00516		goto		CorrectPositionLoop						; keep looping until no step error or a limit is reached
Z00516
	ICALL?L	L00004
	GOTO?L	_CorrectPositionLoop

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00405	Z00517	ExitCorrectPosition:
Z00517

	LABEL?L	_ExitCorrectPosition	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00406	Z00518	    gosub       SavePosition							; save the current position
Z00518
	ICALL?L	L00004
	GOSUB?L	_SavePosition

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00407	Z00519		BusControl = B										; restore ownership of the bus
Z00519
	ICALL?L	L00004
	MOVE?BT	_B, _BusControl

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00408	Z0051A	Return
Z0051A
	ICALL?L	L00004
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00411	Z0051B	WaitUntilExtTriggerIsLow:
Z0051B

	LABEL?L	_WaitUntilExtTriggerIsLow	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00412	Z0051C		While ExtTrigger = 1
Z0051C
	ICALL?L	L00004
	LABEL?L	L00132	
	CMPNE?TCL	_ExtTrigger, 001h, L00133

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00413	Z0051D	        gosub   CheckForModeChange
Z0051D
	ICALL?L	L00004
	GOSUB?L	_CheckForModeChange

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00414	Z0051E			pause 1
Z0051E
	ICALL?L	L00004
	PAUSE?C	001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00415	Z0051F		Wend
Z0051F
	ICALL?L	L00004
	GOTO?L	L00132
	LABEL?L	L00133	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00416	Z00520	Return
Z00520
	ICALL?L	L00004
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00419	Z00521	WaitUntilExtTriggerIsHigh:
Z00521

	LABEL?L	_WaitUntilExtTriggerIsHigh	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00420	Z00522		While ExtTrigger = 0
Z00522
	ICALL?L	L00004
	LABEL?L	L00134	
	CMPNE?TCL	_ExtTrigger, 000h, L00135

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00421	Z00523	        gosub   CheckForModeChange
Z00523
	ICALL?L	L00004
	GOSUB?L	_CheckForModeChange

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00422	Z00524			pause 1
Z00524
	ICALL?L	L00004
	PAUSE?C	001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00423	Z00525		Wend
Z00525
	ICALL?L	L00004
	GOTO?L	L00134
	LABEL?L	L00135	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00424	Z00526	Return
Z00526
	ICALL?L	L00004
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00430	Z00527	Disable Interrupt					; disable interrupts below this
Z00527
	IDISABLE?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00432	Z00528	CheckForModeChange:
Z00528

	LABEL?L	_CheckForModeChange	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00433	Z00529	    If Left=0 AND Right=0 then
Z00529
	CMPEQ?TCB	_Left, 000h, T1
	CMPEQ?TCB	_Right, 000h, T2
	LAND?BBN	T1, T2, T2
	CMPF?NL	T2, L00136

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00434	Z0052A	        OpMode=OpMode+1
Z0052A
	ADD?BCB	_OpMode, 001h, _OpMode

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00435	Z0052B	        If OpMode > StateShutter then OpMode=0
Z0052B
	CMPLE?BCL	_OpMode, _StateShutter, L00138
	MOVE?CB	000h, _OpMode
	LABEL?L	L00138	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00436	Z0052C	        Setpoint_L = Position_L
Z0052C
	MOVE?NN	_Position_L, _Setpoint_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00437	Z0052D			TempPosition_L = Position_L + 1		; ensure display updates
Z0052D
	ADD?NCN	_Position_L, 001h, _TempPosition_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00438	Z0052E	        gosub   EnableInterrupts
Z0052E
	GOSUB?L	_EnableInterrupts

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00439	Z0052F			pause	50
Z0052F
	PAUSE?C	032h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00440	Z00530	        pop
Z00530

	LABEL?L	_pop	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00441	Z00531	        goto    Main
Z00531
	GOTO?L	_Main

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00442	Z00532	    EndIf
Z00532
	LABEL?L	L00136	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00443	Z00533		for i=0 to 9
Z00533
	MOVE?CW	000h, _i
	LABEL?L	L00140	
	CMPGT?WCL	_i, 009h, L00141

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00444	Z00534			pause 1
Z00534
	PAUSE?C	001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00445	Z00535		next i
Z00535
	NEXT?WCL	_i, 001h, L00140
	LABEL?L	L00141	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00446	Z00536	Return
Z00536
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00449	Z00537	StepPos:
Z00537

	LABEL?L	_StepPos	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00450	Z00538		PicDirection = Pos				; choose the right direction
Z00538
	MOVE?CT	_Pos, _PICdirection

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00451	Z00539		PicStep = 0
Z00539
	MOVE?CT	000h, _PICstep

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00452	Z0053A		pauseus 1
Z0053A
	PAUSEUS?C	001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00453	Z0053B		PicStep = 1
Z0053B
	MOVE?CT	001h, _PICstep

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00454	Z0053C		pauseus 1
Z0053C
	PAUSEUS?C	001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00455	Z0053D		PicStep = 0
Z0053D
	MOVE?CT	000h, _PICstep

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00456	Z0053E		pauseus 1
Z0053E
	PAUSEUS?C	001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00457	Z0053F		If FeedbackOn=No then			; if feedback is on, position is determined from rotary sensor
Z0053F
	CMPNE?BCL	_FeedbackOn, _No, L00142

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00458	Z00540			Position_L = Position_L+C	; if not, incremented when we take a step
Z00540
	ADD?NCN	_Position_L, _C, _Position_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00459	Z00541		EndIf
Z00541
	LABEL?L	L00142	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00460	Z00542	Return
Z00542
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00463	Z00543	StepNeg:
Z00543

	LABEL?L	_StepNeg	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00464	Z00544		PicDirection = Neg				; choose the right direction
Z00544
	MOVE?CT	_Neg, _PICdirection

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00465	Z00545		PicStep = 0						; ensure stepping trigger is low
Z00545
	MOVE?CT	000h, _PICstep

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00466	Z00546		pauseus 1
Z00546
	PAUSEUS?C	001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00467	Z00547		PicStep = 1
Z00547
	MOVE?CT	001h, _PICstep

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00468	Z00548		pauseus 1
Z00548
	PAUSEUS?C	001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00469	Z00549		PicStep = 0
Z00549
	MOVE?CT	000h, _PICstep

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00470	Z0054A		pauseus 1
Z0054A
	PAUSEUS?C	001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00471	Z0054B		If FeedbackOn=No then			; if feedback is on, position is determined from rotary sensor
Z0054B
	CMPNE?BCL	_FeedbackOn, _No, L00144

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00472	Z0054C			Position_L = Position_L-C	; if not, decremented when we take a step
Z0054C
	SUB?NCN	_Position_L, _C, _Position_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00473	Z0054D		EndIf
Z0054D
	LABEL?L	L00144	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00474	Z0054E	Return
Z0054E
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00478	Z0054F	ReadCounter:
Z0054F

	LABEL?L	_ReadCounter	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00479	Z00550		ReadCounter_	= 	0			; enable HCTL output drivers
Z00550
	MOVE?CT	000h, _ReadCounter_

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00480	Z00551		DataSelect 		= 	0			; reading high byte first
Z00551
	MOVE?CT	000h, _DataSelect

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00481	Z00552		pauseus				1
Z00552
	PAUSEUS?C	001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00482	Z00553		Change_W.highbyte = DataBus		; assign high byte
Z00553
	MOVE?BB	_DataBus, _Change_W??HIGHBYTE

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00483	Z00554		pauseus				1
Z00554
	PAUSEUS?C	001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00484	Z00555		DataSelect		= 	1			; reading low byte next
Z00555
	MOVE?CT	001h, _DataSelect

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00485	Z00556		pauseus	10
Z00556
	PAUSEUS?C	00Ah

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00486	Z00557		Change_W.lowbyte = DataBus		; assign low byte
Z00557
	MOVE?BB	_DataBus, _Change_W??LOWBYTE

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00487	Z00558		DataSelect		= 	0
Z00558
	MOVE?CT	000h, _DataSelect

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00488	Z00559		ReadCounter_	= 	1			; disable HCTL output drivers
Z00559
	MOVE?CT	001h, _ReadCounter_

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00489	Z0055A	Return
Z0055A
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00493	Z0055B	ResetCounter:
Z0055B

	LABEL?L	_ResetCounter	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00494	Z0055C		ResetCounter_ = 0
Z0055C
	MOVE?CT	000h, _ResetCounter_

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00495	Z0055D		pauseus 1
Z0055D
	PAUSEUS?C	001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00496	Z0055E		ResetCounter_ = 1
Z0055E
	MOVE?CT	001h, _ResetCounter_

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00497	Z0055F		pauseus 1
Z0055F
	PAUSEUS?C	001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00498	Z00560	Return
Z00560
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00503	Z00561	GetPosition:
Z00561

	LABEL?L	_GetPosition	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00504	Z00562		gosub		ReadCounter
Z00562
	GOSUB?L	_ReadCounter

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00505	Z00563		If Change_W!=0 then									; Change is 16*steps
Z00563
	CMPEQ?WCL	_Change_W, 000h, L00146

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00506	Z00564			gosub	ResetCounter
Z00564
	GOSUB?L	_ResetCounter

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00507	Z00565			If Change_W.15=1 then 
Z00565
	CMPNE?TCL	_Change_W??15, 001h, L00148

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00508	Z00566				Change_W = abs Change_W
Z00566
	ABS?WW	_Change_W, _Change_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00509	Z00567				Position_L = Position_L-Change_W		
Z00567
	SUB?NWN	_Position_L, _Change_W, _Position_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00510	Z00568			Else
Z00568
	GOTO?L	L00149
	LABEL?L	L00148	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00511	Z00569				Position_L = Position_L+Change_W
Z00569
	ADD?NWN	_Position_L, _Change_W, _Position_L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00512	Z0056A			EndIf
Z0056A
	LABEL?L	L00149	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00513	Z0056B		EndIf												; nothing to do to position if feedback is off
Z0056B
	LABEL?L	L00146	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00514	Z0056C	Return													
Z0056C
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00517	Z0056D	GivePicBus:
Z0056D

	LABEL?L	_GivePICbus	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00518	Z0056E		PicStep = 0				; ensure the pic trigger output signal is low
Z0056E
	MOVE?CT	000h, _PICstep

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00519	Z0056F		BusControl = 1			; and give PIC control of the direction (CW/!CCW) and stepping signal (STEP)
Z0056F
	MOVE?CT	001h, _BusControl

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00520	Z00570	Return
Z00570
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00523	Z00571	GiveExtBus:		
Z00571

	LABEL?L	_GiveExtBus	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00524	Z00572		gosub	WaitUntilExtTriggerIsLow	; wait until low to avoid giving a trigger on transition		
Z00572
	GOSUB?L	_WaitUntilExtTriggerIsLow

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00525	Z00573		BusControl = 0
Z00573
	MOVE?CT	000h, _BusControl

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00526	Z00574	Return
Z00574
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00529	Z00575	GetTriggers:							; in triggered mode, one of the two counters will count incoming rising edges 
Z00575

	LABEL?L	_GetTriggers	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00530	Z00576		Triggers_W = TMR0H*256 + TMR0L + TMR1H*256 + TMR1L
Z00576
	MUL?BCN	TMR0H, 000000100h, T1
	ADD?NBN	T1, TMR0L, T1
	MUL?BCN	TMR1H, 000000100h, T2
	ADD?NNN	T1, T2, T2
	ADD?NBW	T2, TMR1L, _Triggers_W

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00531	Z00577	Return
Z00577
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00534	Z00578	ClearCounters:
Z00578

	LABEL?L	_ClearCounters	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00535	Z00579		TMR0H = 0				; load the counter registers with zeros
Z00579
	MOVE?CB	000h, TMR0H

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00536	Z0057A		TMR0L = 0
Z0057A
	MOVE?CB	000h, TMR0L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00537	Z0057B		TMR1H = 0
Z0057B
	MOVE?CB	000h, TMR1H

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00538	Z0057C		TMR1L = 0
Z0057C
	MOVE?CB	000h, TMR1L

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00539	Z0057D	return
Z0057D
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00542	Z0057E	TurnMotorOn:
Z0057E

	LABEL?L	_TurnMotorOn	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00543	Z0057F		EnableDrive = Yes
Z0057F
	MOVE?CT	_Yes, _EnableDrive

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00544	Z00580	Return
Z00580
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00547	Z00581	TurnMotorOff:
Z00581

	LABEL?L	_TurnMotorOff	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00548	Z00582		EnableDrive = No
Z00582
	MOVE?CT	_No, _EnableDrive

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00549	Z00583	Return
Z00583
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00552	Z00584	ConfigureMotor:
Z00584

	LABEL?L	_ConfigureMotor	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00553	Z00585		ResetDrive_	=	1					; not resetting the driver
Z00585
	MOVE?CT	001h, _ResetDrive_

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00554	Z00586		EnableDrive	=	0					; disable the motor
Z00586
	MOVE?CT	000h, _EnableDrive

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00555	Z00587		CNTRL		=	0					; turn off chopper
Z00587
	MOVE?CT	000h, _CNTRL

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00556	Z00588		HalfFull_	=	1					; set step style signal
Z00588
	MOVE?CT	001h, _HalfFull_

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00557	Z00589		ResetDrive_ = 0						; reset the motor driver chip
Z00589
	MOVE?CT	000h, _ResetDrive_

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00558	Z0058A		pause	1
Z0058A
	PAUSE?C	001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00559	Z0058B		ResetDrive_ = 1
Z0058B
	MOVE?CT	001h, _ResetDrive_

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00560	Z0058C		pause	1
Z0058C
	PAUSE?C	001h

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00561	Z0058D		HalfFull_	=	StepStyle			; implement desired step style
Z0058D
	MOVE?BT	_StepStyle, _HalfFull_

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00562	Z0058E		EnableDrive	=	1
Z0058E
	MOVE?CT	001h, _EnableDrive

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00563	Z0058F	Return
Z0058F
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00566	Z00590	EnablePushLights:
Z00590

	LABEL?L	_EnablePushLights	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00567	Z00591		Illuminate = Yes
Z00591
	MOVE?CT	_Yes, _Illuminate

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00568	Z00592	Return
Z00592
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00571	Z00593	DisablePushLights:
Z00593

	LABEL?L	_DisablePushLights	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00572	Z00594		Illuminate = No
Z00594
	MOVE?CT	_No, _Illuminate

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00573	Z00595	Return
Z00595
	RETURN?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00576	Z00596	Enable Interrupt
Z00596
	IENABLE?	

; C:\USERS\NFITCH\GOOGLE DRIVE\IMPERIAL\ELECTRONICS\CCM_0001_UNIPOLAR_STEPPER_MOTOR_CONTROLLER\REVA\FIRMWARE.X\FIRMWARE.PBP	00578	Z00597	end
Z00597
	ICALL?L	L00004
	END?	

	END
